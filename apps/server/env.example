# =============================================================================
# GHOST-GREETER SERVER - Environment Variables
# =============================================================================
# Rename this file to .env and fill in your values

# -----------------------------------------------------------------------------
# SERVER CONFIG
# -----------------------------------------------------------------------------
PORT=3001
NODE_ENV=development

# -----------------------------------------------------------------------------
# SUPABASE (Required)
# Get these from: Supabase Dashboard > Settings > API
# Note: Use the SERVICE ROLE key here (not anon key) for server-side operations
# -----------------------------------------------------------------------------
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key-here

# -----------------------------------------------------------------------------
# REDIS (Recommended for production)
# Enables distributed state management and horizontal scaling.
# 
# USE_REDIS=true enables Redis for:
#   - State persistence (survives server restarts)
#   - Horizontal scaling (multiple server instances)
#   - Socket.io Redis adapter (events broadcast across instances)
#
# USE_REDIS=false (default) uses in-memory state:
#   - Single instance only
#   - State lost on restart
#   - Good for development/testing
#
# Options for Redis providers:
#   - Upstash Redis (serverless, Railway integration): rediss://default:xxx@xxx.upstash.io:6379
#   - Railway Redis addon: redis://default:xxx@xxx.railway.internal:6379
#   - Local Redis: redis://localhost:6379
# -----------------------------------------------------------------------------
USE_REDIS=false
REDIS_URL=redis://localhost:6379
# For Upstash Redis (TLS):
# REDIS_URL=rediss://default:your-password@your-endpoint.upstash.io:6379

# -----------------------------------------------------------------------------
# CORS (Required)
# Comma-separated list of allowed origins for CORS
# In production, include your dashboard URL and any customer domains
# Set to "*" to allow all origins (required for widget embedding)
# -----------------------------------------------------------------------------
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:5173

# -----------------------------------------------------------------------------
# RATE LIMITING (Optional)
# -----------------------------------------------------------------------------
RATE_LIMIT_ENABLED=true
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=100

# -----------------------------------------------------------------------------
# SENTRY (Recommended for production)
# Get from: Sentry Dashboard > Settings > Client Keys (DSN)
# -----------------------------------------------------------------------------
SENTRY_DSN=https://your-dsn@sentry.io/your-project-id

# -----------------------------------------------------------------------------
# TRANSCRIPTION & AI SUMMARY
# NOTE: These are configured in the DASHBOARD app, not here.
# See apps/dashboard/env.example for details.
# -----------------------------------------------------------------------------

