{
  "meta": {
    "last_updated": "2025-12-04",
    "total_findings": 742,
    "format_version": "3.0",
    "synced_from": "REVIEW_FINDINGS.md"
  },
  "summary": {
    "critical": 15,
    "high": 48,
    "medium": 315,
    "low": 364,
    "pending": 706,
    "ticketed": 33,
    "rejected": 0
  },
  "findings": [
    {
      "id": "F-001",
      "feature": "Decision Legend",
      "category": "decision-legend",
      "title": "5-Minute Cache TTL Trade-off Not Quantified",
      "severity": "low",
      "location": "Section 10 - Open Questions #4",
      "issue": "Documentation asks \"Is 5-minute cache TTL optimal? Trade-off between freshness and DB load could be tuned.\" However, there's no data on actual query volume or cache hit rates to inform this decision. The 5-minute value appears arbitrary.",
      "suggested_fix": "Add monitoring for cache hit rate and DB query frequency. Document expected query volumes at different traffic levels to inform TTL selection. Consider making TTL configurable per-environment.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add monitoring for cache hit rate and DB query frequency. Document expected query volumes at different traffic levels to inform TTL selection. Consider making TTL configurable per-environment.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-227",
      "feature": "Co-Browse Viewer",
      "category": "A-cobrowse-viewer",
      "title": "Password Fields Captured in DOM Snapshots",
      "severity": "critical",
      "location": "Section 6 (Security), Section 7 (Identified Issues), Section 10 (Open Question #1), Special Focus section",
      "issue": "Password field values are captured in DOM snapshots and transmitted to agents. The documentation explicitly flags this multiple times as üî¥ High risk: \"Passwords typed into `<input type=\"password\">` are in HTML\". While the field visually obscures the password, the `value` attribute may be present in the serialized DOM depending on how the site handles it.",
      "suggested_fix": "Implement the documented recommendation: sanitize password inputs by replacing values with mask characters (`‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢`) before serialization. Code sample already provided in doc.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "ticketed",
      "ticket_id": "TKT-001",
      "options": [
        {
          "id": "implement_fix",
          "label": "Implement the documented recommendation: sanitize password inputs by replacing values with mask characters (`‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢`) before serialization. Code sample already provided in doc.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-003",
      "feature": "Co-Browse Viewer",
      "category": "A-cobrowse-viewer",
      "title": "Credit Card and Other Sensitive Data Also Captured",
      "severity": "critical",
      "location": "Special Focus section \"Security considerations (passwords, sensitive data)\"",
      "issue": "Beyond passwords, the documentation identifies additional security gaps: \"Credit card fields: Same issue as passwords\", \"Personal data: Any visible data on page is captured\", \"Session tokens: If displayed on page, captured\". These represent PCI compliance risks and privacy violations.",
      "suggested_fix": "Extend sanitization to mask `input[type=\"tel\"]`, `input[autocomplete=\"cc-number\"]`, and elements marked with `data-sensitive=\"true\"`. Consider opt-in allowlisting instead of blocklisting for sensitive field detection.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "ticketed",
      "ticket_id": "TKT-001",
      "options": [
        {
          "id": "implement_fix",
          "label": "Extend sanitization to mask `input[type=\"tel\"]`, `input[autocomplete=\"cc-number\"]`, and elements marked with `data-sensitive=\"true\"`. Consider opt-in allowlisting instead of blocklisting for sensitive field detection.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-004",
      "feature": "Co-Browse Viewer",
      "category": "A-cobrowse-viewer",
      "title": "No Visitor Opt-Out for Co-Browse",
      "severity": "high",
      "location": "Section 10 (Open Question #2)",
      "issue": "Documentation explicitly asks \"Should there be a 'co-browse disabled' option?\" noting \"Some visitors might prefer privacy during calls\" and \"No toggle currently exists - cobrowse is automatic.\" Visitors have no control over screen sharing during calls, which may violate privacy expectations or regional regulations.",
      "suggested_fix": "Add visitor-side toggle \"Allow screen viewing\" that defaults to enabled but can be disabled. Or add organization-level setting to disable co-browse entirely.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "ticketed",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add visitor-side toggle \"Allow screen viewing\" that defaults to enabled but can be disabled. Or add organization-level setting to disable co-browse entirely.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-005",
      "feature": "Co-Browse Viewer",
      "category": "A-cobrowse-viewer",
      "title": "No Loading State for Agent Viewer",
      "severity": "medium",
      "location": "Section 5 (UI/UX Review, Accessibility), Section 7 (Identified Issues)",
      "issue": "Multiple documentation sections flag this: \"Could show loading state\" (Section 5), \"Loading states | ‚ö†Ô∏è | No explicit 'Loading DOM...' state\" (Accessibility), and \"No loading state | Agent sees stale/blank before first snapshot | üü° Medium\" (Section 7). Agent may see a blank or stale view with no indication that co-browse is initializing.",
      "suggested_fix": "Add \"Loading visitor's screen...\" placeholder with spinner while waiting for first snapshot. Show skeleton UI or previous snapshot with \"Updating...\" indicator during subsequent refreshes.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add \"Loading visitor's screen...\" placeholder with spinner while waiting for first snapshot. Show skeleton UI or previous snapshot with \"Updating...\" indicator during subsequent refreshes.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-006",
      "feature": "Co-Browse Viewer",
      "category": "A-cobrowse-viewer",
      "title": "Screen Reader Accessibility Not Implemented",
      "severity": "medium",
      "location": "Section 5 (Accessibility)",
      "issue": "Documentation explicitly notes \"Screen reader | ‚ö†Ô∏è | Could add aria-label for viewer\". The co-browse viewer component lacks ARIA attributes, making it inaccessible to agents using assistive technology. This is a WCAG compliance gap.",
      "suggested_fix": "Add aria-label to the viewer container describing its purpose, aria-live region for status updates (loading, connected, disconnected), and descriptive text for the cursor position and selection indicators.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add aria-label to the viewer container describing its purpose, aria-live region for status updates (loading, connected, disconnected), and descriptive text for the cursor position and selection indicators.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-007",
      "feature": "Co-Browse Viewer",
      "category": "A-cobrowse-viewer",
      "title": "Iframe Content Not Captured",
      "severity": "medium",
      "location": "Section 4 (Edge Case #4), Section 7 (Identified Issues), Section 10 (Open Question #3), Special Focus section",
      "issue": "Documentation flags this as a known limitation across multiple sections. Embedded iframe content (payment forms, embedded apps, third-party widgets) appears as empty boxes in the agent's view. This significantly reduces the utility of co-browse when visitors interact with iframe-embedded content.",
      "suggested_fix": "For same-origin iframes, attempt recursive DOM capture. For cross-origin iframes, show clear visual indicator \"Embedded content - not visible to agent\" instead of blank space. Document limitation prominently in admin setup.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "For same-origin iframes, attempt recursive DOM capture. For cross-origin iframes, show clear visual indicator \"Embedded content - not visible to agent\" instead of blank space. Document limitation prominently in admin setup.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-008",
      "feature": "Co-Browse Viewer",
      "category": "A-cobrowse-viewer",
      "title": "Canvas Elements Appear Blank",
      "severity": "medium",
      "location": "Section 4 (Edge Case #5), Section 7 (Identified Issues), Section 10 (Open Question #4), Special Focus section",
      "issue": "Charts, graphs, and other canvas-rendered content show as blank boxes in the agent view. Documentation notes \"Canvas state not captured\" and asks \"Should canvas elements be converted to images?\" This limitation affects data visualization-heavy sites.",
      "suggested_fix": "Use `canvas.toDataURL()` to capture canvas state as image and inject as `<img>` replacement in the snapshot. Accept increased payload size trade-off for important visual context.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Use `canvas.toDataURL()` to capture canvas state as image and inject as `<img>` replacement in the snapshot. Accept increased payload size trade-off for important visual context.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-009",
      "feature": "Co-Browse Viewer",
      "category": "A-cobrowse-viewer",
      "title": "Large DOM Snapshots May Cause Latency",
      "severity": "medium",
      "location": "Section 4 (Edge Case #2), Section 6 (Performance)",
      "issue": "Documentation notes \"Large DOM (>1MB) | Complex page | Sent as-is, may lag | ‚ö†Ô∏è | No compression or chunking\" and \"Large DOM snapshots | No compression | üü° Medium\". Complex pages may experience significant latency or dropped updates, degrading the agent experience.",
      "suggested_fix": "Implement gzip compression for DOM payloads. Consider chunked transmission for very large DOMs. Add DOM size monitoring to identify problematic pages.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Implement gzip compression for DOM payloads. Consider chunked transmission for very large DOMs. Add DOM size monitoring to identify problematic pages.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-010",
      "feature": "Co-Browse Viewer",
      "category": "A-cobrowse-viewer",
      "title": "No Delta/Diff Encoding for Updates",
      "severity": "low",
      "location": "Section 6 (Performance), Section 7 (Identified Issues)",
      "issue": "Documentation notes \"Memory in iframe | New iframe content each snapshot | üü° Medium\" and \"No delta encoding | Large payloads | üü¢ Low\". Every 2 seconds, the entire DOM is re-serialized and transmitted even if only minor changes occurred. This creates unnecessary bandwidth usage and may cause visual flickering on the agent side.",
      "suggested_fix": "Implement mutation-based delta encoding that sends only changed DOM nodes. Use virtual DOM diffing or MutationObserver records to compute minimal patches.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Implement mutation-based delta encoding that sends only changed DOM nodes. Use virtual DOM diffing or MutationObserver records to compute minimal patches.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-011",
      "feature": "Co-Browse Viewer",
      "category": "A-cobrowse-viewer",
      "title": "Snapshot Interval Not Configurable",
      "severity": "low",
      "location": "Section 10 (Open Question #5)",
      "issue": "Documentation asks \"Is 2-second snapshot interval optimal?\" and notes \"Trade-off between freshness and bandwidth\" and \"Could be org-configurable in the future.\" Different use cases may require different trade-offs - fast-paced sales may want sub-second updates while bandwidth-constrained scenarios may want longer intervals.",
      "suggested_fix": "Add org-level setting for snapshot interval (500ms - 5000ms range) with 2000ms default. Document bandwidth implications for each setting.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add org-level setting for snapshot interval (500ms - 5000ms range) with 2000ms default. Document bandwidth implications for each setting.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-413",
      "feature": "Agent Management",
      "category": "D4",
      "title": "Agent Removal Doesn't End Active Calls",
      "severity": "high",
      "location": "Section 4 (Edge Case #10), Section 7 (Identified Issues), Section 10 (Open Question #1)",
      "issue": "When an admin removes an agent who is currently in a video call, the call continues until it naturally ends. This creates a confusing state where a \"removed\" agent is still actively serving a visitor. The visitor experience is maintained, but system state becomes inconsistent (agent marked as removed while still in `in_call` status).",
      "suggested_fix": "Emit `call:end` event when removing an agent who is `in_call` status, with graceful handling for the visitor (e.g., \"Agent has ended the call\" message rather than abrupt disconnect).",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "ticketed",
      "ticket_id": "TKT-010",
      "options": [
        {
          "id": "implement_fix",
          "label": "Emit `call:end` event when removing an agent who is `in_call` status, with graceful handling for the visitor (e.g., \"Agent has ended the call\" message rather than abrupt disconnect).",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-414",
      "feature": "Agent Management",
      "category": "D4",
      "title": "Cannot Re-invite Previously Removed Users",
      "severity": "medium",
      "location": "Section 4 (Edge Case #21), Section 7 (Identified Issues), Section 10 (Open Question #2)",
      "issue": "The system blocks re-inviting email addresses that belong to users with inactive `agent_profile` records. Error shown is \"User already exists in this organization.\" This prevents admins from bringing back former team members through the normal invite flow.",
      "suggested_fix": "Add a \"Reactivate\" option for inactive agents in the UI, OR modify invite logic to check `is_active` status and allow re-invitation for deactivated users.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add a \"Reactivate\" option for inactive agents in the UI, OR modify invite logic to check `is_active` status and allow re-invitation for deactivated users.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-024",
      "feature": "Agent Management",
      "category": "D4",
      "title": "Email Send Failure Is Silent",
      "severity": "high",
      "location": "Section 4 (Edge Case #20), Section 6 (Reliability), Section 7 (Identified Issues), Section 10 (Open Question #3)",
      "issue": "If the Resend API fails to send the invite email, the invite record is still created in the database but the failure is only logged to console. The admin has no visibility that the invitee never received their email. The invitee is stuck waiting for an email that never arrives.",
      "suggested_fix": "Either (a) rollback invite creation on email failure, OR (b) add retry mechanism with admin notification, OR (c) show warning toast \"Invite created but email may not have sent - check with invitee.\"",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "ticketed",
      "ticket_id": "TKT-011",
      "options": [
        {
          "id": "implement_fix",
          "label": "Either (a) rollback invite creation on email failure, OR (b) add retry mechanism with admin notification, OR (c) show warning toast \"Invite created but email may not have sent - check with invitee.\"",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-419",
      "feature": "Agent Management",
      "category": "D4",
      "title": "Screen Reader Support Not Verified",
      "severity": "medium",
      "location": "Section 5 (Accessibility)",
      "issue": "Documentation explicitly notes screen reader support as \"‚ö†Ô∏è Not explicitly verified.\" The agent management page includes interactive modals, form inputs, and status indicators that may not be accessible to users relying on assistive technology.",
      "suggested_fix": "Conduct accessibility audit with screen reader (NVDA/VoiceOver). Ensure ARIA labels on modal triggers, proper focus management, and status announcements for async operations.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Conduct accessibility audit with screen reader (NVDA/VoiceOver). Ensure ARIA labels on modal triggers, proper focus management, and status announcements for async operations.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-016",
      "feature": "Agent Management",
      "category": "D4",
      "title": "Missing Reactivation Flow for Non-Admin Users",
      "severity": "medium",
      "location": "Section 2 (Flows), Section 4 (Edge Cases)",
      "issue": "The \"Add Myself (reactivate)\" flow documents how an admin can reactivate their own agent profile after removal. However, there's no documented flow for an admin to reactivate a DIFFERENT user who was previously removed. Combined with Finding #2, this means there's no way to bring back former agents.",
      "suggested_fix": "Add \"Reactivate\" button/flow for inactive agents, similar to \"Add Myself (reactivate)\" but for other users. Would need to handle billing seat addition.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add \"Reactivate\" button/flow for inactive agents, similar to \"Add Myself (reactivate)\" but for other users. Would need to handle billing seat addition.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-017",
      "feature": "Agent Management",
      "category": "D4",
      "title": "Stripe Downtime Lacks Retry Mechanism",
      "severity": "medium",
      "location": "Section 6 (Reliability), Section 10 (Open Question #5)",
      "issue": "If Stripe is unavailable during invite creation, the invite fails and is rolled back. No retry mechanism exists. During Stripe outages, all agent invitations would fail even though the core invite functionality doesn't depend on Stripe.",
      "suggested_fix": "Consider queuing billing updates for retry, or allow invite creation with \"billing_pending\" flag that syncs when Stripe recovers.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "ticketed",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Consider queuing billing updates for retry, or allow invite creation with \"billing_pending\" flag that syncs when Stripe recovers.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-018",
      "feature": "Agent Management",
      "category": "D4",
      "title": "Deactivated Agents Not Visible for Audit",
      "severity": "low",
      "location": "Section 10 (Open Question #6)",
      "issue": "Deactivated (removed) agents are completely filtered out of the UI. Admins cannot see historical team members, which may be useful for audit purposes, understanding call history attribution, or deciding whether to reactivate someone.",
      "suggested_fix": "Add optional \"Show inactive\" toggle or separate \"Former Team Members\" section.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add optional \"Show inactive\" toggle or separate \"Former Team Members\" section.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-019",
      "feature": "Agent Management",
      "category": "D4",
      "title": "Invite Expiration Period Hardcoded",
      "severity": "low",
      "location": "Section 10 (Open Question #4)",
      "issue": "The 7-day invite expiration is hardcoded in the database default. Different organizations may have different needs (e.g., enterprise might want longer windows for HR processes, small teams might want shorter for security).",
      "suggested_fix": "Add org-level setting for invite expiration period, with 7 days as default.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add org-level setting for invite expiration period, with 7 days as default.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-020",
      "feature": "Agent Management",
      "category": "D4",
      "title": "No Bulk Invite Capability",
      "severity": "low",
      "location": "Section 7 (Identified Issues)",
      "issue": "Admins must invite agents one at a time. For organizations onboarding many agents simultaneously (e.g., enterprise customers, call center teams), this creates significant friction.",
      "suggested_fix": "Add CSV upload option for bulk invitations with validation preview.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add CSV upload option for bulk invitations with validation preview.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-021",
      "feature": "Call Logs",
      "category": "D-call-logs",
      "title": "No Server-Side Pagination Limits Historical Data Access",
      "severity": "medium",
      "location": "Section 7 - Identified Issues table, row 1",
      "issue": "Documentation explicitly states \"No server-side pagination | 500 record limit cuts off data\". Users cannot access historical data beyond the most recent 500 calls in any date range, which is a significant limitation for organizations with high call volumes.",
      "suggested_fix": "Implement cursor-based pagination as already suggested in the doc.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Implement cursor-based pagination as already suggested in the doc.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-022",
      "feature": "Call Logs",
      "category": "D-call-logs",
      "title": "URL Filter is Client-Side Only",
      "severity": "medium",
      "location": "Section 7 - Identified Issues table, row 2",
      "issue": "Documentation states \"URL filter is client-side | Can't search >500 calls by URL\". The URL filter only works on already-fetched data, meaning users cannot reliably search for calls by URL across their full history.",
      "suggested_fix": "Move URL filtering to server-side query as suggested in the doc.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Move URL filtering to server-side query as suggested in the doc.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-023",
      "feature": "Call Logs",
      "category": "D-call-logs",
      "title": "Missing Data Retention Policy",
      "severity": "medium",
      "location": "Section 10 - Open Questions, item 1",
      "issue": "Documentation asks \"No explicit retention period found in code. Call logs appear to be kept indefinitely. Should there be automatic cleanup for older records?\" This represents both a storage cost concern and potential GDPR/privacy compliance gap.",
      "suggested_fix": "Define and implement a data retention policy with configurable retention periods per organization.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Define and implement a data retention policy with configurable retention periods per organization.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-024",
      "feature": "Call Logs",
      "category": "D-call-logs",
      "title": "No Real-Time Updates on Call Logs Page",
      "severity": "low",
      "location": "Section 10 - Open Questions, item 3",
      "issue": "Documentation notes \"Call logs page does not update in real-time. User must refresh to see new calls.\" For active monitoring during business hours, this creates a poor admin experience.",
      "suggested_fix": "Add polling interval or websocket subscription for new call notifications.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add polling interval or websocket subscription for new call notifications.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-025",
      "feature": "Call Logs",
      "category": "D-call-logs",
      "title": "Cancelled Calls Have No Audit Trail",
      "severity": "medium",
      "location": "Section 2 - State Machine, \"pending --> [*]: Visitor cancels (record deleted)\" and Section 4, Edge Case #4",
      "issue": "When a visitor cancels during ring, the call record is deleted entirely. This prevents admins from understanding visitor behavior patterns (e.g., how often do visitors cancel while waiting?). The deletion leaves no audit trail for debugging or analytics.",
      "suggested_fix": "Consider soft-delete with status \"cancelled\" instead of hard delete, or at minimum log cancellation events separately.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Consider soft-delete with status \"cancelled\" instead of hard delete, or at minimum log cancellation events separately.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-026",
      "feature": "Call Logs",
      "category": "D-call-logs",
      "title": "Table Rows Not Keyboard Navigable",
      "severity": "medium",
      "location": "Section 5 - Accessibility, \"Keyboard navigation: ‚ö†Ô∏è Table rows not focusable\"",
      "issue": "Users who rely on keyboard navigation cannot focus or interact with table rows. Only filter inputs are focusable. This is an accessibility barrier.",
      "suggested_fix": "Add tabindex and keyboard handlers to table rows, or implement a proper data grid component with ARIA grid roles.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add tabindex and keyboard handlers to table rows, or implement a proper data grid component with ARIA grid roles.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-027",
      "feature": "Call Logs",
      "category": "D-call-logs",
      "title": "Icons Lack Aria Labels",
      "severity": "low",
      "location": "Section 5 - Accessibility, \"Screen reader support: ‚ö†Ô∏è Icons lack aria-labels in some places\"",
      "issue": "Icons used in the interface do not have aria-labels, making them invisible to screen reader users.",
      "suggested_fix": "Add aria-label attributes to all interactive icons (play button, expand transcription, etc.).",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add aria-label attributes to all interactive icons (play button, expand transcription, etc.).",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-028",
      "feature": "Call Logs",
      "category": "D-call-logs",
      "title": "No Loading States During Page Transitions",
      "severity": "low",
      "location": "Section 5 - Accessibility, \"Loading states: ‚ö†Ô∏è No loading spinner during page transitions (server components)\"",
      "issue": "When filters are applied and the page reloads, there's no visual feedback that data is being fetched. Users may think the interface is frozen.",
      "suggested_fix": "Add loading skeleton or spinner during server component transitions.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add loading skeleton or spinner during server component transitions.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-029",
      "feature": "Call Logs",
      "category": "D-call-logs",
      "title": "CSV Export May Freeze Browser",
      "severity": "medium",
      "location": "Section 6 - Performance, \"CSV generation | Client-side, may block UI | ‚ö†Ô∏è Large exports may freeze\"",
      "issue": "CSV generation happens client-side and can block the UI thread for large exports. This creates a poor user experience and may cause the browser to show \"page unresponsive\" warnings.",
      "suggested_fix": "Move CSV generation to a web worker or server-side endpoint that streams the download.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Move CSV generation to a web worker or server-side endpoint that streams the download.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-030",
      "feature": "Call Logs",
      "category": "D-call-logs",
      "title": "Client-Side URL Filtering Could Be Slow",
      "severity": "low",
      "location": "Section 6 - Performance, \"Client-side filtering | URL conditions filtered after fetch | ‚ö†Ô∏è Could be slow with 500 records\"",
      "issue": "URL filtering happens on already-fetched data client-side. With 500 records, this filtering could cause noticeable UI lag.",
      "suggested_fix": "Move to server-side filtering (related to finding #2).",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Move to server-side filtering (related to finding #2).",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-031",
      "feature": "Call Logs",
      "category": "D-call-logs",
      "title": "Deleted Pool Shows Orphaned Reference",
      "severity": "low",
      "location": "Section 4 - Edge Cases, row 10",
      "issue": "Documentation shows ‚ö†Ô∏è for scenario where pool is deleted: \"pool_id remains in call record\". This means historical calls reference a pool that no longer exists, which could cause display issues or confusing data in reports.",
      "suggested_fix": "Either soft-delete pools or display \"Deleted Pool\" with the original name if available.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Either soft-delete pools or display \"Deleted Pool\" with the original name if available.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-032",
      "feature": "Call Logs",
      "category": "D-call-logs",
      "title": "No Sorting Options for Call Table",
      "severity": "low",
      "location": "Section 7 - Identified Issues table, row 3",
      "issue": "Documentation states \"No sorting options | Can't sort by duration, etc.\" Users cannot reorder the call table by duration, answer time, or other columns, limiting analysis capabilities.",
      "suggested_fix": "Add column sorting with ascending/descending options.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add column sorting with ascending/descending options.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-033",
      "feature": "Blocklist Settings",
      "category": "D-blocklist-settings",
      "title": "ip-api.com Rate Limit Risk at Scale",
      "severity": "high",
      "location": "Section 6 - Technical Concerns, Performance table row 4; Section 7 - Identified Issues",
      "issue": "The geolocation service uses ip-api.com free tier which has a 45 requests/minute limit. Documentation flags this as a concern but no mitigation plan is documented. At scale (45+ unique visitors per minute), geolocation will fail and all visitors will be allowed through (fail-safe), bypassing blocklist entirely.",
      "suggested_fix": "Document a concrete plan for scaling: either migrate to MaxMind/paid ip-api tier, or implement IP-based rate limiting with fallback handling.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Document a concrete plan for scaling: either migrate to MaxMind/paid ip-api tier, or implement IP-based rate limiting with fallback handling.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-034",
      "feature": "Blocklist Settings",
      "category": "D-blocklist-settings",
      "title": "Empty Allowlist Behavior Could Be Confusing",
      "severity": "medium",
      "location": "Section 2 - State Machine, \"ALLOWLIST MODE\" box; Section 10 - Open Questions #6",
      "issue": "Empty allowlist allows all visitors (lenient default), but admin might intuitively expect empty allowlist = \"allow nobody\" (block everyone). Open Question #6 already flags this as potentially confusing.",
      "suggested_fix": "Add explicit warning in UI when admin has empty allowlist: \"Your allowlist is empty. All visitors are currently allowed. Add countries to restrict access.\"",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add explicit warning in UI when admin has empty allowlist: \"Your allowlist is empty. All visitors are currently allowed. Add countries to restrict access.\"",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-035",
      "feature": "Blocklist Settings",
      "category": "D-blocklist-settings",
      "title": "Unknown Country Handling Differs Between Modes",
      "severity": "medium",
      "location": "Section 2 - State Machine",
      "issue": "When geolocation fails, behavior differs by mode: Blocklist mode ‚Üí ALLOWED (fail-safe), Allowlist mode ‚Üí BLOCKED. This asymmetry could surprise admins. An allowlist admin might not realize that geolocation failures will block legitimate visitors from allowed countries.",
      "suggested_fix": "Document this behavior prominently in the UI info box, especially for allowlist mode: \"Note: Visitors whose location cannot be determined will be blocked in allowlist mode.\"",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Document this behavior prominently in the UI info box, especially for allowlist mode: \"Note: Visitors whose location cannot be determined will be blocked in allowlist mode.\"",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-036",
      "feature": "Blocklist Settings",
      "category": "D-blocklist-settings",
      "title": "Accessibility - Dropdown Requires Mouse Interaction",
      "severity": "medium",
      "location": "Section 5 - Accessibility, row 1",
      "issue": "Documentation explicitly flags that \"Dropdown requires mouse interaction\" for keyboard navigation. Users who rely on keyboard navigation (accessibility requirement) cannot use the country selector.",
      "suggested_fix": "Implement keyboard navigation for the dropdown: arrow keys to navigate, Enter to select, Escape to close, Tab to move between regions/countries.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Implement keyboard navigation for the dropdown: arrow keys to navigate, Enter to select, Escape to close, Tab to move between regions/countries.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-037",
      "feature": "Blocklist Settings",
      "category": "D-blocklist-settings",
      "title": "Accessibility - Screen Reader Support Not Verified",
      "severity": "medium",
      "location": "Section 5 - Accessibility, row 2",
      "issue": "Documentation states \"Screen reader support: ‚ö†Ô∏è Not verified\". This is a potential compliance issue (WCAG) and affects users who rely on assistive technology.",
      "suggested_fix": "Audit the component with a screen reader (VoiceOver, NVDA). Ensure proper ARIA labels on mode selection, country dropdown, selected country badges, and action buttons.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Audit the component with a screen reader (VoiceOver, NVDA). Ensure proper ARIA labels on mode selection, country dropdown, selected country badges, and action buttons.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-038",
      "feature": "Blocklist Settings",
      "category": "D-blocklist-settings",
      "title": "Mode Change Clears Country List Without Confirmation",
      "severity": "medium",
      "location": "Section 2 - Triggers & Events, \"Mode change\" row; Section 4 - Edge Cases #9 and #12",
      "issue": "Switching between Blocklist and Allowlist modes clears the entire country list. While there's a \"clear warning in UI\" mentioned, if an admin accidentally clicks the wrong mode, they lose their entire list of selected countries. There's no confirmation dialog or undo functionality.",
      "suggested_fix": "Add confirmation dialog when switching modes if list is non-empty: \"Switching modes will clear your current list of X countries. Continue?\" Or implement undo functionality.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add confirmation dialog when switching modes if list is non-empty: \"Switching modes will clear your current list of X countries. Continue?\" Or implement undo functionality.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-039",
      "feature": "Blocklist Settings",
      "category": "D-blocklist-settings",
      "title": "Cache Invalidation Delay Not Communicated to Admin",
      "severity": "low",
      "location": "Section 7 - Identified Issues, \"Cache invalidation\" row; Section 10 - Open Questions #2",
      "issue": "Changes take 60s (dev) / 5min (prod) to take effect due to cache TTL. Admin sees \"success\" message but changes may not be immediately enforced. This could be confusing if admin tests immediately after saving.",
      "suggested_fix": "Add note to success message: \"Changes saved. May take up to 5 minutes to take full effect.\"",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add note to success message: \"Changes saved. May take up to 5 minutes to take full effect.\"",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-040",
      "feature": "Blocklist Settings",
      "category": "D-blocklist-settings",
      "title": "No Persistent Logging of Blocked Connection Attempts",
      "severity": "low",
      "location": "Section 10 - Open Questions #4",
      "issue": "Blocked connection attempts are only logged to console (server logs). There's no persistent record for analytics, compliance auditing, or troubleshooting. Admins cannot see how many visitors are being blocked or from which countries.",
      "suggested_fix": "Consider adding a blocked attempts counter to the admin dashboard, or store blocked attempts in a log table for compliance/analytics purposes.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Consider adding a blocked attempts counter to the admin dashboard, or store blocked attempts in a log table for compliance/analytics purposes.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-041",
      "feature": "Blocklist Settings",
      "category": "D-blocklist-settings",
      "title": "VPN Bypass Limitation Documented But No Detection",
      "severity": "low",
      "location": "Section 4 - Edge Cases #11; Section 7 - Identified Issues, \"VPN bypass\" row",
      "issue": "Documentation correctly notes that VPN users can bypass country restrictions. While this is documented in the info box, it's a fundamental limitation that reduces the effectiveness of the feature for security-focused use cases.",
      "suggested_fix": "Already documented appropriately. Consider future integration with VPN detection service if this becomes a significant issue for customers.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Already documented appropriately. Consider future integration with VPN detection service if this becomes a significant issue for customers.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-042",
      "feature": "Widget Settings",
      "category": "D-widget-settings",
      "title": "Screen Reader Support Not Verified",
      "severity": "medium",
      "location": "Section 5 - Accessibility, \"Screen reader support: ‚ö†Ô∏è Not explicitly verified\"",
      "issue": "Documentation explicitly flags that screen reader support has not been verified. The Widget Settings UI includes multiple interactive elements (dropdowns, sliders, toggles, preview component) that need proper ARIA labels and announcements for accessibility compliance.",
      "suggested_fix": "Conduct accessibility audit with screen readers (VoiceOver, NVDA). Ensure ARIA labels on all form controls, proper live regions for preview updates, and role attributes for the visual preview component.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Conduct accessibility audit with screen readers (VoiceOver, NVDA). Ensure ARIA labels on all form controls, proper live regions for preview updates, and role attributes for the visual preview component.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-043",
      "feature": "Widget Settings",
      "category": "D-widget-settings",
      "title": "DEFAULT_WIDGET_SETTINGS Defined in Multiple Files",
      "severity": "medium",
      "location": "Section 3 - Key Functions/Components, row 4: \"DEFAULT_WIDGET_SETTINGS | Multiple files\"",
      "issue": "The DEFAULT_WIDGET_SETTINGS constant is defined in multiple files rather than having a single source of truth. This creates risk of divergence if one file is updated and others are not, leading to inconsistent fallback behavior between server and widget.",
      "suggested_fix": "Define DEFAULT_WIDGET_SETTINGS once in `packages/domain/src/types.ts` alongside the WidgetSettings type definition, and import it everywhere else.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Define DEFAULT_WIDGET_SETTINGS once in `packages/domain/src/types.ts` alongside the WidgetSettings type definition, and import it everywhere else.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-044",
      "feature": "Widget Settings",
      "category": "D-widget-settings",
      "title": "Pool Settings Don't Support Partial Overrides",
      "severity": "medium",
      "location": "Section 10 - Open Questions #2",
      "issue": "Documentation explicitly asks \"Should pool settings support partial overrides?\" Currently pool settings fully replace org defaults, meaning an admin must re-configure ALL settings for a pool even if they only want to change one (e.g., different position but same theme). This creates maintenance burden and risk of divergence.",
      "suggested_fix": "Implement merge strategy where pool settings can specify only the fields to override, with unspecified fields falling back to org defaults. Use null or undefined for \"inherit from org\" semantics.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Implement merge strategy where pool settings can specify only the fields to override, with unspecified fields falling back to org defaults. Use null or undefined for \"inherit from org\" semantics.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-045",
      "feature": "Widget Settings",
      "category": "D-widget-settings",
      "title": "Cache Not Invalidated on Settings Save",
      "severity": "low",
      "location": "Section 7 - Identified Issues, row 1; Section 3 - Data Flow; Section 10 - Open Questions #1",
      "issue": "When admin saves widget settings, the cache is NOT immediately invalidated. Settings may take up to 5 minutes to propagate to visitors. This creates a confusing admin experience where changes appear saved but don't take effect immediately.",
      "suggested_fix": "Add cache invalidation endpoint that can be called on save, or implement pub/sub pattern where server listens for settings changes. At minimum, add UI feedback: \"Changes saved. May take up to 5 minutes to apply to all visitors.\"",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add cache invalidation endpoint that can be called on save, or implement pub/sub pattern where server listens for settings changes. At minimum, add UI feedback: \"Changes saved. May take up to 5 minutes to apply to all visitors.\"",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-046",
      "feature": "Widget Settings",
      "category": "D-widget-settings",
      "title": "No Live Site Preview for Widget Settings",
      "severity": "low",
      "location": "Section 10 - Open Questions #3",
      "issue": "Documentation notes \"Should there be a settings preview on the live site? Admins can only see preview in dashboard, not on actual customer site.\" The dashboard preview may not perfectly match real-world behavior due to CSS conflicts, z-index issues, or responsive behavior on the actual website.",
      "suggested_fix": "Consider adding \"Preview on your site\" feature that opens widget in preview mode on admin's actual URL, or provide guidance on testing changes before saving.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Consider adding \"Preview on your site\" feature that opens widget in preview mode on admin's actual URL, or provide guidance on testing changes before saving.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-047",
      "feature": "Widget Settings",
      "category": "D-widget-settings",
      "title": "No Pool Settings Visual Preview",
      "severity": "low",
      "location": "Section 7 - Identified Issues, row 2",
      "issue": "Documentation states \"No preview for all themes in pool settings | Pool settings harder to visualize\". Unlike org-level settings which have a live preview component, pool-level overrides don't show a visual preview, making it harder for admins to configure pool-specific appearances.",
      "suggested_fix": "Add WidgetPreview component to pool settings UI, similar to org settings page.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add WidgetPreview component to pool settings UI, similar to org settings page.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-048",
      "feature": "Widget Settings",
      "category": "D-widget-settings",
      "title": "hasHadCall Flag Silently Overrides Admin Setting",
      "severity": "low",
      "location": "Section 4 - Edge Cases #18",
      "issue": "When `show_minimize_button=false` is set by admin, but the visitor has had a previous call (`hasHadCall=true`), the minimize button is shown anyway. While this may be intentional UX (visitors who've interacted deserve minimize option), it means the admin setting is silently ignored, which could be confusing.",
      "suggested_fix": "Document this behavior more prominently in the UI: \"Note: Minimize button will always appear for visitors who have completed a call, regardless of this setting.\" Or make this a separate toggle: \"Always show after call.\"",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Document this behavior more prominently in the UI: \"Note: Minimize button will always appear for visitors who have completed a call, regardless of this setting.\" Or make this a separate toggle: \"Always show after call.\"",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-049",
      "feature": "Widget Settings",
      "category": "D-widget-settings",
      "title": "Position \"center\" Behavior Not Documented",
      "severity": "low",
      "location": "Section 2 - State Definitions, position row",
      "issue": "Position includes \"center\" as an option, but there's no documentation of how it behaves with trigger delays (where does it animate from?), auto-hide (where does it go?), or whether it conflicts with certain size options. The center position is also unusual for a chat widget and may have UX implications.",
      "suggested_fix": "Document center position behavior, including animation directions and any size restrictions. Consider whether center is a valid production use case.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Document center position behavior, including animation directions and any size restrictions. Consider whether center is a valid production use case.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-050",
      "feature": "Widget Settings",
      "category": "D-widget-settings",
      "title": "5-Minute Cache TTL Trade-off Not Quantified",
      "severity": "low",
      "location": "Section 10 - Open Questions #4",
      "issue": "Documentation asks \"Is 5-minute cache TTL optimal? Trade-off between freshness and DB load could be tuned.\" However, there's no data on actual query volume or cache hit rates to inform this decision. The 5-minute value appears arbitrary.",
      "suggested_fix": "Add monitoring for cache hit rate and DB query frequency. Document expected query volumes at different traffic levels to inform TTL selection. Consider making TTL configurable per-environment.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add monitoring for cache hit rate and DB query frequency. Document expected query volumes at different traffic levels to inform TTL selection. Consider making TTL configurable per-environment.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-051",
      "feature": "Agent Stats Dashboard",
      "category": "A-agent-stats-dashboard",
      "title": "500 Call Limit Prevents Access to Full History",
      "severity": "medium",
      "location": "Section 4 - Edge Cases #5 (‚ö†Ô∏è flag), Section 6 - Performance, Section 7 - Identified Issues, Section 10 - Open Question #1",
      "issue": "High-volume agents cannot access calls beyond the most recent 500 in any date range. The system shows \"(limit reached)\" message but provides no way to access older calls. This is particularly problematic for date ranges spanning months where an agent may have thousands of calls.",
      "suggested_fix": "Implement cursor-based pagination to allow agents to load additional calls beyond the initial 500.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Implement cursor-based pagination to allow agents to load additional calls beyond the initial 500.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-052",
      "feature": "Agent Stats Dashboard",
      "category": "A-agent-stats-dashboard",
      "title": "URL Filtering is Client-Side Only",
      "severity": "medium",
      "location": "Section 3 - Data Flow (URL Condition Filtering), Section 6 - Performance (‚ö†Ô∏è), Section 10 - Open Question #2",
      "issue": "URL conditions filtering happens after 500 calls are fetched. Agents cannot reliably search their full call history by URL patterns. For example, if an agent wants to find calls from a specific landing page but those calls are beyond the 500-call limit, they won't appear in results.",
      "suggested_fix": "Move URL filtering to server-side query to filter before the 500 limit is applied.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Move URL filtering to server-side query to filter before the 500 limit is applied.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-053",
      "feature": "Agent Stats Dashboard",
      "category": "A-agent-stats-dashboard",
      "title": "No Loading Indicator During Data Fetch",
      "severity": "low",
      "location": "Section 5 - Accessibility (‚ö†Ô∏è \"Loading states\"), Section 7 - Identified Issues (\"No loading state\")",
      "issue": "When the agent changes the date range or applies filters, there's no visual feedback that data is being refetched. The user may not realize the page is loading new data, leading to confusion or repeated clicks.",
      "suggested_fix": "Add a loading spinner or skeleton state during server component refetch.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add a loading spinner or skeleton state during server component refetch.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-054",
      "feature": "Agent Stats Dashboard",
      "category": "A-agent-stats-dashboard",
      "title": "Keyboard Navigation Not Fully Verified",
      "severity": "medium",
      "location": "Section 5 - Accessibility, row 1",
      "issue": "Documentation explicitly states keyboard navigation is \"‚ö†Ô∏è Not fully verified\". Interactive elements like the date picker, filter dropdowns, recording play buttons, and expandable rows may not be fully accessible to keyboard-only users.",
      "suggested_fix": "Audit and fix keyboard navigation: ensure Tab order is logical, Enter/Space activate buttons, Escape closes dropdowns, Arrow keys navigate within dropdowns.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Audit and fix keyboard navigation: ensure Tab order is logical, Enter/Space activate buttons, Escape closes dropdowns, Arrow keys navigate within dropdowns.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-055",
      "feature": "Agent Stats Dashboard",
      "category": "A-agent-stats-dashboard",
      "title": "Screen Reader Support May Need ARIA Labels",
      "severity": "medium",
      "location": "Section 5 - Accessibility, row 2",
      "issue": "Documentation notes \"Screen reader support: ‚ö†Ô∏è Table structure helps, but interactive elements may need ARIA\". The StatCards, expandable transcription/summary badges, and audio player controls may not announce properly to screen reader users.",
      "suggested_fix": "Add appropriate ARIA labels: aria-label on icon buttons (play, download), aria-expanded on expandable rows, aria-live regions for dynamic stat updates.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add appropriate ARIA labels: aria-label on icon buttons (play, download), aria-expanded on expandable rows, aria-live regions for dynamic stat updates.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-056",
      "feature": "Agent Stats Dashboard",
      "category": "A-agent-stats-dashboard",
      "title": "Video Modal May Not Trap Focus",
      "severity": "medium",
      "location": "Section 5 - Accessibility, row 5",
      "issue": "Documentation flags \"Focus management: ‚ö†Ô∏è Modal should trap focus\". When the video recording modal opens, focus may not be trapped inside it, allowing keyboard users to tab to elements behind the modal, which is both confusing and an accessibility violation.",
      "suggested_fix": "Implement focus trap in video modal: focus first focusable element on open, cycle focus within modal on Tab, return focus to trigger on close.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Implement focus trap in video modal: focus first focusable element on open, cycle focus within modal on Tab, return focus to trigger on close.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-189",
      "feature": "Agent Stats Dashboard",
      "category": "A-agent-stats-dashboard",
      "title": "No Data Export Capability",
      "severity": "low",
      "location": "Section 7 - Identified Issues (\"No data export\")",
      "issue": "Agents cannot export their call history for external analysis, record-keeping, or sharing with supervisors. This limits the utility of the stats dashboard for performance reviews or personal tracking.",
      "suggested_fix": "Add CSV export button similar to admin call logs feature.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add CSV export button similar to admin call logs feature.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-191",
      "feature": "Agent Stats Dashboard",
      "category": "A-agent-stats-dashboard",
      "title": "No Real-Time Updates for New Calls",
      "severity": "low",
      "location": "Section 7 - Identified Issues (\"No real-time updates\")",
      "issue": "New calls require a page refresh to appear in the dashboard. An agent who just finished a call won't see it reflected in their stats until they manually refresh.",
      "suggested_fix": "Consider polling interval (every 30s) or websocket subscription for new call notifications, with visual indicator when new calls arrive.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Consider polling interval (every 30s) or websocket subscription for new call notifications, with visual indicator when new calls arrive.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-059",
      "feature": "Agent Stats Dashboard",
      "category": "A-agent-stats-dashboard",
      "title": "Inconsistency: Agent Stats vs Admin Stats Permission Boundary Unclear",
      "severity": "low",
      "location": "Section 9 - Related Features references \"Agent Stats (STATS1)\" which is admin view",
      "issue": "Documentation references `../stats/agent-stats.md` as \"Admin view of agent stats (different from agent's self-view)\" but doesn't clarify what an admin can see vs. what an agent can see. For example, can admins see the same transcriptions and AI summaries? Are there privacy implications?",
      "suggested_fix": "Clarify in both documents what data is visible to each role and whether there are any privacy-sensitive fields that differ between views.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Clarify in both documents what data is visible to each role and whether there are any privacy-sensitive fields that differ between views.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-060",
      "feature": "Agent Stats Dashboard",
      "category": "A-agent-stats-dashboard",
      "title": "Missing \"Today\" Quick Filter",
      "severity": "low",
      "location": "Section 10 - Open Question #4",
      "issue": "Documentation asks \"Should there be a 'today' quick view?\". Many agents primarily care about today's calls and currently must manually adjust the date picker each day or default to viewing 30 days of data when they only need today.",
      "suggested_fix": "Add quick filter buttons: \"Today\", \"This Week\", \"This Month\", \"Last 30 Days\" alongside the date picker.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add quick filter buttons: \"Today\", \"This Week\", \"This Month\", \"Last 30 Days\" alongside the date picker.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-061",
      "feature": "Organization Settings",
      "category": "D-organization-settings",
      "title": "Stripe Cancellation Not Implemented",
      "severity": "critical",
      "location": "Section 10 - Open Questions, #4",
      "issue": "The documentation states \"The current code only saves feedback and sets plan to 'free' in Supabase. The actual Stripe subscription cancellation appears to be a TODO comment.\" This means users who cancel may still be charged by Stripe even though the UI shows cancellation was successful.",
      "suggested_fix": "Implement actual Stripe subscription cancellation via `stripe.subscriptions.cancel()` or `stripe.subscriptions.update()` with `cancel_at_period_end: true` in the `submitCancellationFeedback` server action.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "ticketed",
      "ticket_id": "TKT-002",
      "options": [
        {
          "id": "implement_fix",
          "label": "Implement actual Stripe subscription cancellation via `stripe.subscriptions.cancel()` or `stripe.subscriptions.update()` with `cancel_at_period_end: true` in the `submitCancellationFeedback` server action.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-062",
      "feature": "Organization Settings",
      "category": "D-organization-settings",
      "title": "Cancellation Grace Period Mismatch",
      "severity": "critical",
      "location": "Section 10 - Open Questions, #3; Section 3 - Data Flow, \"Cancel subscription\"",
      "issue": "The cancel modal UI copy mentions \"access will continue until the end of your current billing period\" but the implementation immediately downgrades the plan to \"free\" (`Update org: plan = \"free\"`). This creates a mismatch between user expectation and actual behavior - users may lose access immediately despite being told they have time remaining.",
      "suggested_fix": "Either update the UI copy to reflect immediate downgrade, or implement proper grace period logic that maintains access until `current_period_end` from Stripe subscription.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "ticketed",
      "ticket_id": "TKT-002",
      "options": [
        {
          "id": "implement_fix",
          "label": "Either update the UI copy to reflect immediate downgrade, or implement proper grace period logic that maintains access until `current_period_end` from Stripe subscription.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-063",
      "feature": "Organization Settings",
      "category": "D-organization-settings",
      "title": "Recording Retention Policy Change Behavior Unclear",
      "severity": "high",
      "location": "Section 10 - Open Questions, #1",
      "issue": "Documentation does not specify whether existing recordings are affected when `retention_days` is changed. If an admin reduces retention from 90 days to 30 days, it's unclear if recordings older than 30 days are immediately deleted or if the new policy only applies to new recordings.",
      "suggested_fix": "Document the expected behavior explicitly. If retroactive deletion is intended, add a confirmation warning. If only new recordings are affected, document this clearly for admin understanding.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "ticketed",
      "ticket_id": "TKT-013",
      "options": [
        {
          "id": "implement_fix",
          "label": "Document the expected behavior explicitly. If retroactive deletion is intended, add a confirmation warning. If only new recordings are affected, document this clearly for admin understanding.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-064",
      "feature": "Organization Settings",
      "category": "D-organization-settings",
      "title": "Timezone Handling for Pause End Date",
      "severity": "medium",
      "location": "Section 10 - Open Questions, #2",
      "issue": "The `pause_ends_at` date is calculated server-side using JavaScript Date which uses UTC. When displayed to the user, this may not align with their local timezone, causing confusion about when the pause actually ends (e.g., \"Your account resumes on Dec 15\" might resume on Dec 14 or Dec 16 depending on timezone).",
      "suggested_fix": "Either store and display dates in the organization's configured timezone, or clearly show the timezone in the UI (e.g., \"Dec 15, 2025 at 12:00 AM UTC\").",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Either store and display dates in the organization's configured timezone, or clearly show the timezone in the UI (e.g., \"Dec 15, 2025 at 12:00 AM UTC\").",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-065",
      "feature": "Organization Settings",
      "category": "D-organization-settings",
      "title": "Facebook Events Silent Failure on Invalid Credentials",
      "severity": "medium",
      "location": "Section 10 - Open Questions, #6",
      "issue": "There is no error handling or admin notification when Facebook access tokens expire or are revoked. Admins may think their conversion tracking is working when events are silently failing, leading to incorrect analytics and wasted ad spend.",
      "suggested_fix": "Implement credential validation on save, periodic health checks, and admin notifications when FB API calls start failing.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Implement credential validation on save, periodic health checks, and admin notifications when FB API calls start failing.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-066",
      "feature": "Organization Settings",
      "category": "D-organization-settings",
      "title": "Disposition Conversion Values Not Aggregated",
      "severity": "medium",
      "location": "Section 10 - Open Questions, #5",
      "issue": "Dispositions have a `value` field for conversion tracking, but the documentation notes \"the aggregation/reporting of these values is not implemented in the current codebase.\" Admins can set monetary values but cannot see total conversion value or ROI metrics anywhere.",
      "suggested_fix": "Add a reporting view that aggregates disposition values by time period, agent, and disposition type to provide conversion analytics.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add a reporting view that aggregates disposition values by time period, agent, and disposition type to provide conversion analytics.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-067",
      "feature": "Organization Settings",
      "category": "D-organization-settings",
      "title": "Facebook Settings Can Be Saved Without Pixel ID",
      "severity": "medium",
      "location": "Section 4 - Edge Cases, Row #15",
      "issue": "Edge case #15 is marked with ‚ö†Ô∏è: \"Save FB settings without pixel ID - Leave pixel ID empty - Can save but events won't fire - No validation error shown\". This allows admins to configure event mappings that will never work, without any feedback that their setup is incomplete.",
      "suggested_fix": "Add validation that requires Pixel ID when any Facebook event mappings are configured, or show a warning banner indicating events won't fire without Pixel ID.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add validation that requires Pixel ID when any Facebook event mappings are configured, or show a warning banner indicating events won't fire without Pixel ID.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-125",
      "feature": "Organization Settings",
      "category": "D-organization-settings",
      "title": "No Organization Name Length Limit",
      "severity": "low",
      "location": "Section 7 - Identified Issues",
      "issue": "The organization name input field has no character limit. Extremely long names could overflow UI elements throughout the application where the org name is displayed (headers, dropdowns, reports, etc.).",
      "suggested_fix": "Add `maxLength={100}` (or appropriate limit) to the org name input field and add server-side validation.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add `maxLength={100}` (or appropriate limit) to the org name input field and add server-side validation.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-069",
      "feature": "Organization Settings",
      "category": "D-organization-settings",
      "title": "Concurrent Admin Edits - Last Write Wins",
      "severity": "low",
      "location": "Section 6 - Reliability, \"Concurrent edits\"",
      "issue": "Documentation notes \"Last-write-wins (no optimistic locking)\" for concurrent edits. In organizations with multiple admins, changes could be silently overwritten without either party knowing. While noted as \"Rare scenario for small teams,\" larger organizations could encounter this frequently.",
      "suggested_fix": "Implement optimistic locking with version numbers, or at minimum show a warning when the data has changed since page load.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Implement optimistic locking with version numbers, or at minimum show a warning when the data has changed since page load.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-070",
      "feature": "Organization Settings",
      "category": "D-organization-settings",
      "title": "Accessibility - Custom Components Missing ARIA Labels",
      "severity": "low",
      "location": "Section 5 - Accessibility",
      "issue": "Documentation notes \"Screen reader support: ‚ö†Ô∏è Some custom components may lack ARIA labels\". This affects users relying on assistive technologies.",
      "suggested_fix": "Audit all custom components (dropdowns, modals, toggles) and add appropriate ARIA labels, roles, and live regions for state changes.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Audit all custom components (dropdowns, modals, toggles) and add appropriate ARIA labels, roles, and live regions for state changes.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-071",
      "feature": "Agent Call Logs",
      "category": "A-agent-call-logs",
      "title": "No Server-Side Pagination Limits Data Access",
      "severity": "medium",
      "location": "Section 7 - Identified Issues; Section 10 - Open Question #5",
      "issue": "Documentation states \"No server-side pagination | 500 record limit cuts off data\". Agents with high call volumes cannot access their historical data beyond the most recent 500 calls in any date range. The \"(limit reached)\" message appears but provides no way to access older data.",
      "suggested_fix": "Implement cursor-based pagination as already suggested in the doc.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Implement cursor-based pagination as already suggested in the doc.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-072",
      "feature": "Agent Call Logs",
      "category": "A-agent-call-logs",
      "title": "Data Retention Policy Undefined",
      "severity": "medium",
      "location": "Section 10 - Open Question #2",
      "issue": "Documentation asks \"Data retention for old calls? No explicit retention period found. Call logs appear to be kept indefinitely. Should there be limits for agent view?\" This represents potential storage cost concerns and possible GDPR/privacy compliance gaps.",
      "suggested_fix": "Define and implement data retention policy with configurable periods.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Define and implement data retention policy with configurable periods.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-141",
      "feature": "Agent Call Logs",
      "category": "A-agent-call-logs",
      "title": "Table Rows Not Keyboard Navigable",
      "severity": "medium",
      "location": "Section 5 - Accessibility",
      "issue": "Documentation states \"Keyboard navigation: ‚ö†Ô∏è Table rows not focusable, filter inputs are\". Users who rely on keyboard navigation cannot interact with table rows to expand transcriptions, play recordings, or view call details.",
      "suggested_fix": "Add tabindex and keyboard handlers to table rows, or implement a proper data grid component with ARIA grid roles.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add tabindex and keyboard handlers to table rows, or implement a proper data grid component with ARIA grid roles.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-074",
      "feature": "Agent Call Logs",
      "category": "A-agent-call-logs",
      "title": "No CSV Export for Agents (Inconsistent with Admin)",
      "severity": "low",
      "location": "Section 7 - Identified Issues; Section 10 - Open Question #1",
      "issue": "Documentation notes \"Admins can export, agents cannot\". This is inconsistent with the Admin Call Logs feature (D7) which has CSV export. Agents may want to export their own call data for personal performance tracking or records.",
      "suggested_fix": "Add agent export option for their own call data.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add agent export option for their own call data.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-145",
      "feature": "Agent Call Logs",
      "category": "A-agent-call-logs",
      "title": "URL Filter is Client-Side Only",
      "severity": "low",
      "location": "Section 7 - Identified Issues; Section 6 - Performance",
      "issue": "Documentation states \"URL filter is client-side | Can't search >500 calls by URL\" and \"Client-side URL filtering... Could be slow with 500 records\". Agents cannot reliably search for calls by URL across their full history.",
      "suggested_fix": "Move URL filtering to server-side query.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Move URL filtering to server-side query.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-076",
      "feature": "Agent Call Logs",
      "category": "A-agent-call-logs",
      "title": "No Real-Time Updates",
      "severity": "low",
      "location": "Section 7 - Identified Issues; Section 10 - Open Question #3",
      "issue": "Documentation notes \"Must refresh to see new calls\". After completing a call, the agent must manually refresh to see it appear in their call logs. This creates a disjointed experience when reviewing just-completed calls.",
      "suggested_fix": "Add polling or websocket subscription for new call notifications.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add polling or websocket subscription for new call notifications.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-077",
      "feature": "Agent Call Logs",
      "category": "A-agent-call-logs",
      "title": "No Column Sorting Options",
      "severity": "low",
      "location": "Section 7 - Identified Issues",
      "issue": "Documentation states \"No sorting options | Can't sort by duration, etc.\" Agents cannot reorder calls by duration, answer time, or other columns, limiting their ability to identify patterns in their performance.",
      "suggested_fix": "Add column sorting with ascending/descending options.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add column sorting with ascending/descending options.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-078",
      "feature": "Agent Call Logs",
      "category": "A-agent-call-logs",
      "title": "Icons Lack Aria-Labels for Screen Readers",
      "severity": "low",
      "location": "Section 5 - Accessibility",
      "issue": "Documentation flags \"Screen reader support: ‚ö†Ô∏è Icons lack aria-labels in some places\". Icons used for status indicators, playback controls, and badges may be invisible to screen reader users.",
      "suggested_fix": "Add aria-label attributes to all interactive icons.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add aria-label attributes to all interactive icons.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-143",
      "feature": "Agent Call Logs",
      "category": "A-agent-call-logs",
      "title": "No Loading States During Page Transitions",
      "severity": "low",
      "location": "Section 5 - Accessibility",
      "issue": "Documentation notes \"Loading states: ‚ö†Ô∏è No loading spinner during page transitions (server components)\". When filters are applied and the page reloads, there's no visual feedback that data is being fetched.",
      "suggested_fix": "Add loading skeleton or spinner during server component transitions.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add loading skeleton or spinner during server component transitions.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-080",
      "feature": "Agent Call Logs",
      "category": "A-agent-call-logs",
      "title": "No Pool Filter for Multi-Pool Agents",
      "severity": "low",
      "location": "Section 10 - Open Question #6",
      "issue": "Documentation asks \"Why no pool filter for agents? Agents in multiple pools can't filter by pool.\" Agents who work across multiple pools cannot segment their call history by pool, making it harder to track performance per team or assignment.",
      "suggested_fix": "Add optional pool filter for agents assigned to multiple pools.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add optional pool filter for agents assigned to multiple pools.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-081",
      "feature": "Agent Call Logs",
      "category": "A-agent-call-logs",
      "title": "No Call Notes Feature",
      "severity": "low",
      "location": "Section 10 - Open Question #4",
      "issue": "Documentation asks \"Call notes/internal comments? No field for agents to add private notes to calls.\" Agents cannot annotate their call history with personal notes for follow-up or learning purposes.",
      "suggested_fix": "Consider adding optional private notes field per call for agent's personal use.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Consider adding optional private notes field per call for agent's personal use.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-082",
      "feature": "Agent Call Logs",
      "category": "A-agent-call-logs",
      "title": "Deleted Pool Creates Orphaned Reference",
      "severity": "low",
      "location": "Section 4 - Edge Cases, row 5",
      "issue": "Documentation shows ‚ö†Ô∏è for scenario \"Call from deleted pool\": \"Call still shows, pool_id orphaned\". While the doc notes \"pool_id not used in agent view anyway\", this could cause display issues if pool data is ever added to the agent view.",
      "suggested_fix": "Either soft-delete pools or handle orphaned pool_id gracefully with \"Deleted Pool\" indicator.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Either soft-delete pools or handle orphaned pool_id gracefully with \"Deleted Pool\" indicator.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-083",
      "feature": "Agent Call Logs",
      "category": "A-agent-call-logs",
      "title": "Drag Reorder Makes Sequential DB Updates (Not Batched)",
      "severity": "low",
      "location": "Section 6 - Performance table, \"Drag reorder\" row",
      "issue": "Documentation flags \"Multiple sequential updates (not batched) | ‚ö†Ô∏è Could be optimized\". When admin reorders N dispositions, N separate UPDATE queries are executed. With many dispositions, this creates unnecessary DB round-trips.",
      "suggested_fix": "Batch display_order updates into single RPC call or use upsert with multiple rows.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Batch display_order updates into single RPC call or use upsert with multiple rows.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-084",
      "feature": "Agent Call Logs",
      "category": "A-agent-call-logs",
      "title": "No Concurrency Control for Concurrent Edits",
      "severity": "low",
      "location": "Section 6 - Reliability table, \"Concurrent edits\" row",
      "issue": "Documentation notes \"Last-write-wins (no optimistic locking)\". If two admins edit the same disposition simultaneously, one's changes will be silently overwritten without warning.",
      "suggested_fix": "Either (a) add `updated_at` optimistic locking check before updates, or (b) use Supabase realtime subscriptions to refresh UI when another user edits.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Either (a) add `updated_at` optimistic locking check before updates, or (b) use Supabase realtime subscriptions to refresh UI when another user edits.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-085",
      "feature": "Agent Call Logs",
      "category": "A-agent-call-logs",
      "title": "No Limit on Number of Dispositions",
      "severity": "low",
      "location": "Section 10 - Open Questions #6",
      "issue": "Documentation asks \"Is there a limit on number of dispositions? No hard limit. UX degrades with >10 options (scrolling required).\" Agents may become overwhelmed with too many choices, slowing down post-call workflow and increasing misclicks.",
      "suggested_fix": "Add soft limit warning at 10 dispositions (\"More than 10 options may slow down agents\"). Consider adding disposition groups/categories for larger sets.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add soft limit warning at 10 dispositions (\"More than 10 options may slow down agents\"). Consider adding disposition groups/categories for larger sets.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-086",
      "feature": "Agent Call Logs",
      "category": "A-agent-call-logs",
      "title": "Disposition Selection Is Optional - No Required Mode",
      "severity": "low",
      "location": "Section 10 - Open Questions #1",
      "issue": "Documentation asks \"Should disposition selection be required? Currently optional (Skip button). Some orgs may want to enforce selection.\" Organizations that rely on disposition data for reporting may have incomplete data if agents frequently skip.",
      "suggested_fix": "Add org-level setting: \"Require disposition after calls\" (toggle). When enabled, hide Skip button from agent modal.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add org-level setting: \"Require disposition after calls\" (toggle). When enabled, hide Skip button from agent modal.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-087",
      "feature": "Agent Call Logs",
      "category": "A-agent-call-logs",
      "title": "No Explicit \"Uncategorized\" Default Option",
      "severity": "low",
      "location": "Section 10 - Open Questions #5",
      "issue": "Documentation asks \"Should there be a 'No Disposition' default option? Currently NULL means skipped. Could add explicit 'Uncategorized' disposition.\" The distinction between \"skipped\" (agent chose not to categorize) vs \"uncategorized\" (agent couldn't find appropriate option) is lost.",
      "suggested_fix": "Consider adding system-level \"Uncategorized\" disposition that appears last in list, allowing agents to explicitly mark calls they couldn't categorize vs simply skipping.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Consider adding system-level \"Uncategorized\" disposition that appears last in list, allowing agents to explicitly mark calls they couldn't categorize vs simply skipping.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-088",
      "feature": "Tiered Agent Assignment",
      "category": "D-tiered-routing",
      "title": "Algorithm May Select Busy Agent Over Idle Agent",
      "severity": "medium",
      "location": "Appendix: Algorithm Pseudocode, `findBestAgentInTier()` function (lines 347-377)",
      "issue": "The pseudocode shows two selection strategies: round-robin for idle agents (via `oldestOrder`) and least-connections for busy agents (via `lowestLoad`). However, both paths update the same `bestAgent` variable. If an idle agent is processed first (updating `bestAgent`), then a busy agent with `load=1` is processed later, the condition `load < lowestLoad` (1 < Infinity) is true and overwrites `bestAgent` with the busy agent. This means an idle agent could lose to a busy agent despite being preferable.",
      "suggested_fix": "Prefer idle agents by only entering the least-connections path if no idle agents were found: `if (!bestAgent && load < lowestLoad)` or track `hasIdleCandidate` flag.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Prefer idle agents by only entering the least-connections path if no idle agents were found: `if (!bestAgent && load < lowestLoad)` or track `hasIdleCandidate` flag.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-089",
      "feature": "Tiered Agent Assignment",
      "category": "D-tiered-routing",
      "title": "Empty Pool Falls Back to Any Agent - May Violate Pool Intent",
      "severity": "medium",
      "location": "Section 4 - Edge Cases, row 10",
      "issue": "Documentation flags with ‚ö†Ô∏è that when a pool has no agents, the system \"Falls back to any agent (null poolId)\" which \"May violate pool intent.\" For example, an Enterprise visitor routed to a pool with no agents could be assigned to a Sales pool agent, breaking the admin's intended segmentation.",
      "suggested_fix": "Either (a) show \"no agents available\" for strict routing, or (b) add admin toggle for \"strict pool routing\" vs \"fallback allowed\", or (c) at minimum log when cross-pool fallback occurs for audit purposes.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Either (a) show \"no agents available\" for strict routing, or (b) add admin toggle for \"strict pool routing\" vs \"fallback allowed\", or (c) at minimum log when cross-pool fallback occurs for audit purposes.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-090",
      "feature": "Tiered Agent Assignment",
      "category": "D-tiered-routing",
      "title": "Database Slowness Causes Silent Degradation",
      "severity": "medium",
      "location": "Section 4 - Error States table, \"Database fetch fails\" row",
      "issue": "Documentation notes: \"Database slow: Agent connects without pool memberships, may miss routed leads.\" When `fetchAgentPoolMemberships()` fails or times out, the agent connects but isn't properly added to pool routing. This is logged but otherwise silent - neither the agent nor admin knows there's a problem.",
      "suggested_fix": "Add visible indicator to agent UI when pool memberships failed to load: \"Pool routing unavailable - please reconnect.\" Consider retry mechanism with exponential backoff.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add visible indicator to agent UI when pool memberships failed to load: \"Pool routing unavailable - please reconnect.\" Consider retry mechanism with exponential backoff.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-091",
      "feature": "Tiered Agent Assignment",
      "category": "D-tiered-routing",
      "title": "Cascade Risk When All Primary Agents Leave",
      "severity": "low",
      "location": "Section 10 - Open Questions #2",
      "issue": "Documentation notes that when all Primary agents go away simultaneously (e.g., team meeting), \"Visitors are reassigned, respecting tiered routing. May cascade to lower tiers quickly.\" This could result in all visitors being served by Backup-tier agents during scheduled events, which may not align with business expectations.",
      "suggested_fix": "Consider adding scheduled \"coverage mode\" feature where admins can pre-designate temporary coverage tiers, or document this as expected behavior with guidance on staggering breaks.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Consider adding scheduled \"coverage mode\" feature where admins can pre-designate temporary coverage tiers, or document this as expected behavior with guidance on staggering breaks.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-092",
      "feature": "Tiered Agent Assignment",
      "category": "D-tiered-routing",
      "title": "No Tier Utilization Analytics",
      "severity": "low",
      "location": "Section 7 - Identified Issues row 2; Section 10 - Open Questions #3",
      "issue": "Documentation explicitly flags \"No tier statistics - Admins can't see tier utilization\" as Low severity issue. Without analytics, admins cannot evaluate whether their tier configuration is effective (e.g., are Backup agents ever used? Are Primary agents overloaded?).",
      "suggested_fix": "Add tier utilization metrics to pool dashboard: leads per tier, average wait time per tier, overflow frequency.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add tier utilization metrics to pool dashboard: leads per tier, average wait time per tier, overflow frequency.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-093",
      "feature": "Tiered Agent Assignment",
      "category": "D-tiered-routing",
      "title": "Round-Robin Counter Is Global Not Per-Pool",
      "severity": "low",
      "location": "Section 7 - Identified Issues row 1",
      "issue": "Documentation notes \"Round-robin is global, not per-pool. Agent in 2 pools uses same order in both.\" This could cause slightly unfair distribution if an agent is in multiple pools - their assignment order in Pool A affects their order in Pool B.",
      "suggested_fix": "Track `lastAssignmentOrder` per (agentId, poolId) pair instead of just agentId. Low priority since impact is minor.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Track `lastAssignmentOrder` per (agentId, poolId) pair instead of just agentId. Low priority since impact is minor.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-094",
      "feature": "Sites Setup",
      "category": "D-sites-setup",
      "title": "No Domain Validation - Anyone Can Use Any Org's Embed Code",
      "severity": "medium",
      "location": "Section 6 - Security (\"Domain spoofing\" row); Section 7 - Identified Issues; Section 10 - Open Questions #1",
      "issue": "Documentation explicitly notes \"Domain spoofing | No validation - any domain can use any org's code\" in Security concerns. Any website owner could embed another organization's widget, potentially using their agent resources or skewing their analytics. The Open Questions section asks \"Should there be an allowed_origins feature?\"",
      "suggested_fix": "Add optional `allowed_origins` setting in organization settings. When configured, server validates `pageUrl` origin against whitelist before allowing connection.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add optional `allowed_origins` setting in organization settings. When configured, server validates `pageUrl` origin against whitelist before allowing connection.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-095",
      "feature": "Sites Setup",
      "category": "D-sites-setup",
      "title": "Infinite Verification Polling Without Backoff",
      "severity": "medium",
      "location": "Section 4 - Edge Cases #15; Section 7 - Identified Issues; Section 10 - Open Questions #7",
      "issue": "Dashboard polls every 5 seconds indefinitely until widget is verified. Quote from Edge Case #15: \"Polls forever until verified\" with ‚ö†Ô∏è flag. Open Question #7: \"Is infinite verification polling acceptable? Dashboard polls every 5 seconds forever until verified. Consider exponential backoff or a 'check again' button after timeout.\"",
      "suggested_fix": "Implement exponential backoff after 5 minutes (5s ‚Üí 10s ‚Üí 30s ‚Üí 60s), then stop polling and show \"Click to check again\" button.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Implement exponential backoff after 5 minutes (5s ‚Üí 10s ‚Üí 30s ‚Üí 60s), then stop polling and show \"Click to check again\" button.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-096",
      "feature": "Sites Setup",
      "category": "D-sites-setup",
      "title": "Pageview Tracking Requires Agent Online",
      "severity": "medium",
      "location": "Section 4 - Edge Cases #8; Section 7 - Identified Issues; Section 10 - Open Questions #5",
      "issue": "Edge Case #8 states: \"No agents online | Widget loads, no agent available | Pageview not tracked (agent_id required) | ‚ö†Ô∏è | Missed opportunity tracked instead\". This means organizations without 24/7 agent coverage will have inaccurate pageview counts. Open Question #5 confirms: \"pageview count may be inaccurate for orgs without 24/7 coverage.\"",
      "suggested_fix": "Allow pageview recording without agent_id (make it nullable) OR track \"unassigned pageviews\" separately for accurate install verification.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Allow pageview recording without agent_id (make it nullable) OR track \"unassigned pageviews\" separately for accurate install verification.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-097",
      "feature": "Sites Setup",
      "category": "D-sites-setup",
      "title": "HTTPS Site with HTTP ServerUrl Causes Mixed Content Block",
      "severity": "medium",
      "location": "Section 4 - Edge Cases #20",
      "issue": "Edge Case #20: \"HTTPS site with HTTP serverUrl | Protocol mismatch | Mixed content warning/block | ‚ö†Ô∏è | Must use HTTPS in prod\". If admin copies embed code from a dev environment with HTTP serverUrl and pastes it on a production HTTPS site, the widget will be blocked by the browser's mixed content policy. Admin gets no clear error message about why widget isn't working.",
      "suggested_fix": "Add validation to embed code generation: if dashboard is on HTTPS, ensure serverUrl also uses HTTPS. Display warning if mismatch detected.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add validation to embed code generation: if dashboard is on HTTPS, ensure serverUrl also uses HTTPS. Display warning if mismatch detected.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-098",
      "feature": "Sites Setup",
      "category": "D-sites-setup",
      "title": "Widget Blocked by Ad Blocker - No Admin Notification",
      "severity": "medium",
      "location": "Section 4 - Edge Cases #6; Error States table (\"SCRIPT_BLOCKED\" row)",
      "issue": "Edge Case #6: \"Widget blocked by ad blocker | Browser extension | Widget fails silently | ‚ö†Ô∏è | No admin notification\". Error States confirms: \"SCRIPT_BLOCKED | Ad blocker active | Nothing (widget hidden)\". Admin has no way to know if visitors aren't seeing the widget due to ad blockers, and visitors may not realize they need to whitelist the domain.",
      "suggested_fix": "Document this limitation prominently in the setup instructions. Consider adding FAQ entry about ad blockers. Optionally track \"widget load attempts\" server-side to identify discrepancies.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Document this limitation prominently in the setup instructions. Consider adding FAQ entry about ad blockers. Optionally track \"widget load attempts\" server-side to identify discrepancies.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-099",
      "feature": "Sites Setup",
      "category": "D-sites-setup",
      "title": "No Installation Test Mode",
      "severity": "low",
      "location": "Section 7 - Identified Issues; Section 10 - Open Questions #6",
      "issue": "Section 7 identifies: \"No installation test mode | Must deploy to verify | üü¢ Low | Add 'test widget' button\". Open Question #6: \"Should there be a 'test widget' button? Currently admins must deploy to production to verify the widget works. A preview/test mode could help validate settings before going live.\"",
      "suggested_fix": "Add \"Test Widget\" button that opens a test page showing the widget with current settings, without requiring production deployment.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add \"Test Widget\" button that opens a test page showing the widget with current settings, without requiring production deployment.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-100",
      "feature": "Sites Setup",
      "category": "D-sites-setup",
      "title": "Stale/Inactive Sites Cannot Be Removed",
      "severity": "low",
      "location": "Section 4 - Edge Cases #16; Section 7 - Identified Issues; Section 10 - Open Questions #2",
      "issue": "Edge Case #16: \"Detected site no longer active | Widget removed | Still shows in list (historical data) | ‚ö†Ô∏è | last_seen shows staleness\". Section 7: \"No 'remove domain' option | Can't clean up old sites | üü¢ Low | Add archive/delete for domains\". Admins cannot clean up their detected sites list.",
      "suggested_fix": "Add \"Archive\" or \"Remove\" option for domains in the detected sites list. Archived domains could be hidden but retained for historical records.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add \"Archive\" or \"Remove\" option for domains in the detected sites list. Archived domains could be hidden but retained for historical records.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-101",
      "feature": "Sites Setup",
      "category": "D-sites-setup",
      "title": "Subdomains Treated as Separate Domains",
      "severity": "low",
      "location": "Section 4 - Edge Cases #5; Section 7 - Identified Issues; Section 10 - Open Questions #3",
      "issue": "Edge Case #5: \"`www.site.com` vs `site.com` | Tracked as separate origins | ‚ö†Ô∏è | URL.origin differentiates\". Section 7: \"Subdomain treated as separate domain | Confusing for admins | üü¢ Low | Group by root domain option\". Open Question #3 asks if subdomains should be grouped.",
      "suggested_fix": "Add option to group by root domain (strip www prefix at minimum), or display both under a parent domain entry.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add option to group by root domain (strip www prefix at minimum), or display both under a parent domain entry.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-102",
      "feature": "Sites Setup",
      "category": "D-sites-setup",
      "title": "Screen Reader Support for Code Block Not Verified",
      "severity": "low",
      "location": "Section 5 - Accessibility",
      "issue": "Documentation notes \"Screen reader support: ‚ö†Ô∏è Code block may need aria-label\". The embed code block is a key interactive element that users need to copy. Without proper accessibility labels, screen reader users may struggle to identify or interact with the code block.",
      "suggested_fix": "Add `aria-label=\"Embed code snippet - press Enter to copy\"` to the code block container. Add `aria-live=\"polite\"` announcement when code is copied.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add `aria-label=\"Embed code snippet - press Enter to copy\"` to the code block container. Add `aria-live=\"polite\"` announcement when code is copied.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-103",
      "feature": "Sites Setup",
      "category": "D-sites-setup",
      "title": "No CSP Whitelist Guidance in Dashboard",
      "severity": "low",
      "location": "Section 4 - Edge Cases #9; Error States table (\"CSP_VIOLATION\" row)",
      "issue": "Edge Case #9: \"Page with CSP headers | Strict Content-Security-Policy | May block widget script | ‚ö†Ô∏è | Admin must whitelist CDN\". Error States: \"CSP_VIOLATION | Strict CSP policy | Console error | Add CDN to script-src directive\". While the fix is documented, there's no guidance in the dashboard UI for admins who encounter this issue.",
      "suggested_fix": "Add troubleshooting section or FAQ link on the Sites page explaining CSP requirements. Include the required CSP directive: `script-src 'self' https://cdn.ghost-greeter.com`.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add troubleshooting section or FAQ link on the Sites page explaining CSP requirements. Include the required CSP directive: `script-src 'self' https://cdn.ghost-greeter.com`.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-104",
      "feature": "Sites Setup",
      "category": "D-sites-setup",
      "title": "Domain Ownership Transfer Creates Orphaned Data",
      "severity": "low",
      "location": "Section 4 - Edge Cases #17",
      "issue": "Edge Case #17: \"Domain ownership transfer | Different customer uses same domain | Previous org still tracks that domain | ‚ö†Ô∏è | No domain validation\". If a website changes ownership and new owners use GreetNow with their own org, the previous org's analytics still show that domain's historical data, creating confusion and potential data isolation concerns.",
      "suggested_fix": "This is partially mitigated by \"no domain validation\" finding. If allowed_origins is implemented, historical data should remain but new pageviews would fail validation for the old org.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "This is partially mitigated by \"no domain validation\" finding. If allowed_origins is implemented, historical data should remain but new pageviews would fail validation for the old org.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-105",
      "feature": "Routing Rules",
      "category": "D-routing-rules",
      "title": "No Manual Rule Priority Reordering in UI",
      "severity": "medium",
      "location": "Section 5 - UI/UX Review, Step 7; Section 7 - Identified Issues, row 1",
      "issue": "Documentation explicitly states \"Admin reorders rules | Not supported | ‚ùå | Priority is set but manual reorder isn't exposed\". Admins cannot easily adjust rule priority order through drag-and-drop or visual controls, despite priority being the critical factor in determining which rule matches first.",
      "suggested_fix": "Add drag-and-drop reorder in UI as documented in Section 7.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add drag-and-drop reorder in UI as documented in Section 7.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-106",
      "feature": "Routing Rules",
      "category": "D-routing-rules",
      "title": "Pool Fallback Ignores Routing Intent",
      "severity": "medium",
      "location": "Section 4 - Edge Cases #10; Section 7 - Identified Issues, row 3; Section 10 - Open Questions #2",
      "issue": "When all agents in the matched pool are busy, the system falls back to ANY available agent from any pool. Quote: \"All agents in matched pool busy | Falls back to ANY available agent | ‚ö†Ô∏è | Design choice\". This breaks admin's routing intent - a visitor routed to \"Enterprise Pool\" could end up with a \"Sales Pool\" agent.",
      "suggested_fix": "Add option for strict pool enforcement (no fallback) as documented. Show \"no agents available\" if strict mode is enabled and pool is empty.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add option for strict pool enforcement (no fallback) as documented. Show \"no agents available\" if strict mode is enabled and pool is empty.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-107",
      "feature": "Routing Rules",
      "category": "D-routing-rules",
      "title": "SPA Navigation Doesn't Update Pool Routing",
      "severity": "medium",
      "location": "Section 10 - Open Questions #4",
      "issue": "Documentation asks \"How to handle SPA navigation? If visitor navigates within an SPA without page reload, `pageUrl` doesn't update unless widget explicitly re-joins.\" Visitors who navigate from /home to /pricing within a SPA remain routed to the pool that matched /home, even if /pricing has different routing rules.",
      "suggested_fix": "Document this limitation prominently, or implement URL change listener in widget that triggers re-routing when pathname changes.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Document this limitation prominently, or implement URL change listener in widget that triggers re-routing when pathname changes.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-108",
      "feature": "Routing Rules",
      "category": "D-routing-rules",
      "title": "Unclear Error Message When Adding Rule to Catch-All Pool",
      "severity": "medium",
      "location": "Section 5 - UI/UX Review, Step 6",
      "issue": "Documentation notes when admin tries to add rule to catch-all pool: \"Database error | ‚ö†Ô∏è | Error message could be clearer\". The database trigger prevents the insert, but the error message shown to the user doesn't clearly explain why rules cannot be added to catch-all pools.",
      "suggested_fix": "Catch this specific error and display user-friendly message: \"Routing rules cannot be added to the catch-all pool. This pool automatically receives all visitors not matched by other rules.\"",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Catch this specific error and display user-friendly message: \"Routing rules cannot be added to the catch-all pool. This pool automatically receives all visitors not matched by other rules.\"",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-109",
      "feature": "Routing Rules",
      "category": "D-routing-rules",
      "title": "Invalid URL Falls Back to Treating Input as Path",
      "severity": "medium",
      "location": "Section 4 - Edge Cases #4; Notes section",
      "issue": "Edge Case #4 shows \"Invalid URL format | Visitor sends malformed URL | Treated as path, may not match | ‚ö†Ô∏è\". The parseUrlContext() function's try/catch fallback means malformed URLs are treated as paths, which could cause unexpected routing (or no routing match) for visitors with unusual browser configurations or proxy setups.",
      "suggested_fix": "Log malformed URL occurrences for debugging. Consider adding URL validation warning in dashboard if pageUrl patterns in call logs frequently show malformed values.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Log malformed URL occurrences for debugging. Consider adding URL validation warning in dashboard if pageUrl patterns in call logs frequently show malformed values.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-110",
      "feature": "Routing Rules",
      "category": "D-routing-rules",
      "title": "No Catch-All Pool Returns Null",
      "severity": "medium",
      "location": "Section 4 - Edge Cases #9",
      "issue": "Edge Case #9 documents \"No catch-all pool exists | Org missing catch-all | Returns `null`, agent from any pool | ‚ö†Ô∏è | Rare - auto-created\". While catch-all is auto-created, if it's accidentally deleted or missing due to data migration issues, the null return could cause undefined behavior in agent assignment.",
      "suggested_fix": "Add defensive check that recreates catch-all pool if missing, or return explicit error state that triggers clear user messaging.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add defensive check that recreates catch-all pool if missing, or return explicit error state that triggers clear user messaging.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-111",
      "feature": "Routing Rules",
      "category": "D-routing-rules",
      "title": "OR Logic Between Conditions Not Exposed in UI",
      "severity": "low",
      "location": "Section 7 - Identified Issues, row 2; Section 10 - Open Questions #1",
      "issue": "Documentation notes \"OR logic requires multiple rules | Admin wanting 'path = /a OR path = /b' must create 2 rules | üü¢ Low\". The database supports `condition_groups` for OR logic (Section Appendix), but it's not exposed in the UI, forcing admins to create multiple rules for simple OR scenarios.",
      "suggested_fix": "Consider exposing condition_groups in UI as suggested, allowing OR logic within a single rule.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Consider exposing condition_groups in UI as suggested, allowing OR logic within a single rule.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-112",
      "feature": "Routing Rules",
      "category": "D-routing-rules",
      "title": "No Rule Testing Tool",
      "severity": "low",
      "location": "Section 7 - Identified Issues, row 4",
      "issue": "Documentation explicitly identifies \"No rule testing tool | Admin can't test 'which pool would /xyz match?' | üü¢ Low\". Admins must deploy rules to production and test with real visitors to verify routing behavior, creating risk of misconfiguration.",
      "suggested_fix": "Add test URL input with preview of matched pool in the UI.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add test URL input with preview of matched pool in the UI.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-113",
      "feature": "Routing Rules",
      "category": "D-routing-rules",
      "title": "Server Sync on Every Save",
      "severity": "low",
      "location": "Section 7 - Identified Issues, row 5",
      "issue": "Documentation notes \"Server sync on every save | Each save POSTs to signaling server | üü¢ Low | Works but could batch\". Multiple rapid rule changes create unnecessary network overhead.",
      "suggested_fix": "Implement debouncing/batching for config sync operations.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Implement debouncing/batching for config sync operations.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-114",
      "feature": "Routing Rules",
      "category": "D-routing-rules",
      "title": "Encoded URL Characters May Need Normalization",
      "severity": "low",
      "location": "Section 4 - Edge Cases #12",
      "issue": "Edge Case #12 flags \"Encoded URL characters | `/pricing%20page` | Depends on how URL is constructed | ‚ö†Ô∏è | May need normalization\". URL encoding inconsistencies between how the URL is sent by the widget vs. how rules are configured could cause matching failures.",
      "suggested_fix": "Normalize URLs (decode then re-encode consistently) before matching, or document URL encoding requirements for rule configuration.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Normalize URLs (decode then re-encode consistently) before matching, or document URL encoding requirements for rule configuration.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-115",
      "feature": "Routing Rules",
      "category": "D-routing-rules",
      "title": "Empty Query Param Value Edge Case",
      "severity": "low",
      "location": "Section 4 - Edge Cases #6",
      "issue": "Edge Case #6 notes \"Query param with empty value | `?utm_source=` | Matches if rule value is empty string | ‚ö†Ô∏è | Edge case\". This behavior is technically correct but may surprise admins - a rule checking for `utm_source=google` won't match `?utm_source=` (empty), but a rule with empty value would match.",
      "suggested_fix": "Document this behavior in UI help text, or add validation warning when admin creates rule with empty condition value.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Document this behavior in UI help text, or add validation warning when admin creates rule with empty condition value.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-116",
      "feature": "Routing Rules",
      "category": "D-routing-rules",
      "title": "Rules Must Be Re-Synced After Server Restart",
      "severity": "low",
      "location": "Section 6 - Reliability",
      "issue": "Documentation states \"Server restart: Rules must be re-synced via `setOrgConfig()` call. Dashboard triggers this on page load.\" If no admin loads the dashboard after a server restart, routing rules remain unloaded in memory until a dashboard page load occurs.",
      "suggested_fix": "Add server startup hook that loads all org configs from database on boot, or implement lazy loading with Redis persistence as noted for redis-pool-manager.ts.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add server startup hook that loads all org configs from database on boot, or implement lazy loading with Redis persistence as noted for redis-pool-manager.ts.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-117",
      "feature": "Organization Settings",
      "category": "D8",
      "title": "Stripe Cancellation May Not Actually Cancel Subscription",
      "severity": "critical",
      "location": "Section 10 - Open Questions #4",
      "issue": "Documentation explicitly states: \"What triggers the actual Stripe cancellation? The current code only saves feedback and sets plan to 'free' in Supabase. The actual Stripe subscription cancellation appears to be a TODO comment.\" If users \"cancel\" but Stripe subscription isn't cancelled, they will continue to be charged. This is a billing and trust issue.",
      "suggested_fix": "Implement actual Stripe subscription cancellation via `stripe.subscriptions.cancel()` or `stripe.subscriptions.update({ cancel_at_period_end: true })` when user confirms cancellation.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "ticketed",
      "ticket_id": "TKT-002",
      "options": [
        {
          "id": "implement_fix",
          "label": "Implement actual Stripe subscription cancellation via `stripe.subscriptions.cancel()` or `stripe.subscriptions.update({ cancel_at_period_end: true })` when user confirms cancellation.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-118",
      "feature": "Organization Settings",
      "category": "D8",
      "title": "Cancellation UI Copy Doesn't Match Implementation",
      "severity": "high",
      "location": "Section 10 - Open Questions #3; Section 3 - Data Flow (Cancel subscription flow)",
      "issue": "The cancel modal tells users \"access will continue until the end of your current billing period\" but the code shows immediate plan downgrade to \"free\". Quote: \"The code shows immediate plan downgrade to 'free' but the cancel modal mentions 'access will continue until the end of your current billing period' - implementation may not match UI copy.\" Users are being misled about service continuity.",
      "suggested_fix": "Either (a) implement actual grace period until billing period end, or (b) update UI copy to reflect immediate cancellation. The former is industry standard and more user-friendly.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "ticketed",
      "ticket_id": "TKT-002",
      "options": [
        {
          "id": "implement_fix",
          "label": "Either (a) implement actual grace period until billing period end, or (b) update UI copy to reflect immediate cancellation. The former is industry standard and more user-friendly.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-119",
      "feature": "Organization Settings",
      "category": "D8",
      "title": "Recording Retention Policy Change - Unclear Retroactive Behavior",
      "severity": "medium",
      "location": "Section 10 - Open Questions #1",
      "issue": "Documentation asks: \"What happens to recordings when retention_days is changed? Currently unclear if existing recordings are retroactively affected or only new recordings follow the policy.\" This ambiguity could lead to unexpected data deletion (if retroactive) or storage cost surprises (if not).",
      "suggested_fix": "Document and implement explicit policy: recommend retroactive application with background job, but show warning to admin: \"Changing retention to X days will delete recordings older than X days within 24 hours.\"",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Document and implement explicit policy: recommend retroactive application with background job, but show warning to admin: \"Changing retention to X days will delete recordings older than X days within 24 hours.\"",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-120",
      "feature": "Organization Settings",
      "category": "D8",
      "title": "Timezone Handling for Pause End Date May Confuse Admins",
      "severity": "medium",
      "location": "Section 10 - Open Questions #2",
      "issue": "Quote: \"How is timezone handled for pause_ends_at? The pause end date is calculated server-side using JavaScript Date, which may not align with user's local timezone for display.\" Admin in PST might expect pause to end midnight their time, but it ends midnight UTC.",
      "suggested_fix": "Store pause_ends_at in UTC, but display in user's local timezone with explicit timezone indicator: \"Pause ends Dec 15, 2025 at 12:00 AM PST\"",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Store pause_ends_at in UTC, but display in user's local timezone with explicit timezone indicator: \"Pause ends Dec 15, 2025 at 12:00 AM PST\"",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-121",
      "feature": "Organization Settings",
      "category": "D8",
      "title": "Disposition Values Not Used for Analytics",
      "severity": "medium",
      "location": "Section 10 - Open Questions #5",
      "issue": "Documentation notes: \"Are dispositions used for billing/analytics? The `value` field on dispositions suggests conversion tracking, but the aggregation/reporting of these values is not implemented in the current codebase.\" This is a half-built feature - admins configure values but can't see aggregated conversion data anywhere.",
      "suggested_fix": "Either (a) implement disposition value reporting in call analytics, or (b) remove the value field if not planned for use, to avoid confusing admins.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Either (a) implement disposition value reporting in call analytics, or (b) remove the value field if not planned for use, to avoid confusing admins.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-122",
      "feature": "Organization Settings",
      "category": "D8",
      "title": "Facebook Credential Expiration Not Handled",
      "severity": "medium",
      "location": "Section 10 - Open Questions #6",
      "issue": "Quote: \"What happens to FB events if credentials become invalid? No visible error handling or notification to admins if their Facebook access token expires or is revoked.\" Facebook access tokens expire regularly. Events will silently fail, and admins tracking conversions won't know their data is incomplete.",
      "suggested_fix": "Add periodic validation of FB credentials (on settings page load), and display warning if token is expired/invalid. Consider email notification when FB events start failing.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add periodic validation of FB credentials (on settings page load), and display warning if token is expired/invalid. Consider email notification when FB events start failing.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-123",
      "feature": "Organization Settings",
      "category": "D8",
      "title": "Screen Reader Support Not Verified",
      "severity": "medium",
      "location": "Section 5 - Accessibility",
      "issue": "Documentation flags \"Screen reader support: ‚ö†Ô∏è Some custom components may lack ARIA labels\". Organization settings includes multiple complex forms (logo upload, toggles, dropdowns) that need proper ARIA labels and announcements for accessibility compliance.",
      "suggested_fix": "Audit all settings pages with screen reader. Ensure ARIA labels on: logo upload zone, save buttons, toggle switches, dropdown menus, and modal dialogs.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Audit all settings pages with screen reader. Ensure ARIA labels on: logo upload zone, save buttons, toggle switches, dropdown menus, and modal dialogs.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-124",
      "feature": "Organization Settings",
      "category": "D8",
      "title": "FB Settings Can Be Saved Without Pixel ID",
      "severity": "low",
      "location": "Section 4 - Edge Case #15; Section 7 - Identified Issues",
      "issue": "Quote: \"Save FB settings without pixel ID | Leave pixel ID empty | Can save but events won't fire | ‚ö†Ô∏è | No validation error shown\". Admin thinks FB tracking is configured, but events silently fail due to missing pixel ID.",
      "suggested_fix": "Add validation warning on save: \"Warning: Facebook Pixel ID is empty. No events will be sent until configured.\"",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add validation warning on save: \"Warning: Facebook Pixel ID is empty. No events will be sent until configured.\"",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-125",
      "feature": "Organization Settings",
      "category": "D8",
      "title": "No Organization Name Length Limit",
      "severity": "low",
      "location": "Section 7 - Identified Issues",
      "issue": "Quote: \"No org name length limit | Could overflow UI\". Very long organization names could break layouts in headers, navigation, and reports where org name is displayed.",
      "suggested_fix": "Add maxLength={100} to org name input with character counter.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add maxLength={100} to org name input with character counter.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-126",
      "feature": "Organization Settings",
      "category": "D8",
      "title": "Concurrent Admin Edits Cause Silent Data Loss",
      "severity": "low",
      "location": "Section 6 - Reliability",
      "issue": "Documentation states \"Concurrent edits | Last-write-wins (no optimistic locking)\". If two admins edit settings simultaneously, one admin's changes are silently overwritten without warning. While rare in small teams, this can cause confusion and lost configuration.",
      "suggested_fix": "Document as known limitation, OR implement optimistic locking with version field and \"Settings were modified by another user. Refresh to see latest.\" warning.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Document as known limitation, OR implement optimistic locking with version field and \"Settings were modified by another user. Refresh to see latest.\" warning.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-127",
      "feature": "Organization Settings",
      "category": "D8",
      "title": "6-Month Offer Loss May Not Be Fully Understood",
      "severity": "low",
      "location": "Section 7 - Identified Issues; Section 4 - Edge Case #19",
      "issue": "When leaving 6-month billing, users see a warning but may not fully understand the permanence: \"Warning: 6-month offer lost forever\". The offer is a promotional rate that cannot be recovered once abandoned.",
      "suggested_fix": "Enhance warning modal with explicit pricing comparison: \"You currently pay $X/month. After switching to annual, you'll pay $Y/month. This promotional rate cannot be recovered if you switch.\"",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Enhance warning modal with explicit pricing comparison: \"You currently pay $X/month. After switching to annual, you'll pay $Y/month. This promotional rate cannot be recovered if you switch.\"",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-128",
      "feature": "Recording Settings",
      "category": "D-recording-settings",
      "title": "No Visitor Consent Notification During Calls",
      "severity": "high",
      "location": "Section 7 - Identified Issues row 2; Section 10 - Open Questions #2",
      "issue": "Documentation explicitly notes \"No recording indicator for visitors\" with Medium severity, and Open Question #2 asks \"Is there visitor consent notification? Only admin-side privacy warning; no automatic visitor notification.\" This is a significant compliance risk for GDPR, CCPA, and two-party consent states/countries. Visitors are being recorded without any indication.",
      "suggested_fix": "Add visible \"This call may be recorded\" indicator to the visitor widget when recording is enabled. Consider audio announcement at call start.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "ticketed",
      "ticket_id": "TKT-014",
      "options": [
        {
          "id": "implement_fix",
          "label": "Add visible \"This call may be recorded\" indicator to the visitor widget when recording is enabled. Consider audio announcement at call start.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-129",
      "feature": "Recording Settings",
      "category": "D-recording-settings",
      "title": "Recording Lost on Agent Page Refresh",
      "severity": "medium",
      "location": "Section 4 - Edge Case #20; Section 6 - Reliability; Section 7 - Identified Issues row 1",
      "issue": "Documentation explicitly flags: \"Agent refreshes during recording ‚Üí Recording lost ‚Üí ‚ö†Ô∏è No recovery mechanism\". Edge Case #20 confirms this with warning status. If an agent accidentally refreshes or experiences a browser crash mid-call, the entire recording is lost with no recovery path.",
      "suggested_fix": "Implement periodic chunk upload to storage (as suggested in doc) or use browser's beforeunload event to warn agents during active recording.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Implement periodic chunk upload to storage (as suggested in doc) or use browser's beforeunload event to warn agents during active recording.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-130",
      "feature": "Recording Settings",
      "category": "D-recording-settings",
      "title": "No Maximum Recording File Size Limit",
      "severity": "medium",
      "location": "Section 10 - Open Questions #1",
      "issue": "Documentation notes \"No explicit limit found; depends on call duration and bitrate (~300MB/hour at 2.5Mbps)\". Very long calls (2+ hours) could produce recordings exceeding 600MB with no safeguards against storage exhaustion or upload failures for extremely large files.",
      "suggested_fix": "Consider adding maximum recording duration (e.g., 4 hours) or file size warning, especially for organizations with high call volumes.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Consider adding maximum recording duration (e.g., 4 hours) or file size warning, especially for organizations with high call volumes.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-131",
      "feature": "Recording Settings",
      "category": "D-recording-settings",
      "title": "No GDPR-Compliant Data Export for Recordings",
      "severity": "medium",
      "location": "Section 10 - Open Questions #7",
      "issue": "Documentation explicitly states \"No dedicated export functionality\" for GDPR-compliant data export. Under GDPR Article 20, data subjects have the right to receive their personal data in a portable format. Visitors have no way to request copies of their recorded calls.",
      "suggested_fix": "Implement data subject access request (DSAR) workflow, or at minimum document how admins can manually fulfill recording export requests.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Implement data subject access request (DSAR) workflow, or at minimum document how admins can manually fulfill recording export requests.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-132",
      "feature": "Recording Settings",
      "category": "D-recording-settings",
      "title": "Org Deletion Recording Cascade Unverified",
      "severity": "medium",
      "location": "Section 10 - Open Questions #6",
      "issue": "Documentation asks \"What happens to recordings when an org is deleted? Cascade delete via foreign key (needs verification).\" The actual behavior is uncertain. If recordings are NOT deleted, orphaned files accumulate in storage. If they ARE deleted, there may be compliance issues (some regulations require retention periods).",
      "suggested_fix": "Verify cascade behavior. Document explicitly. Consider soft-delete for orgs with retention period for recordings to meet compliance requirements.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Verify cascade behavior. Document explicitly. Consider soft-delete for orgs with retention period for recordings to meet compliance requirements.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-133",
      "feature": "Recording Settings",
      "category": "D-recording-settings",
      "title": "Screen Reader Support Lacks Explicit ARIA Labels",
      "severity": "medium",
      "location": "Section 5 - Accessibility",
      "issue": "Documentation notes \"Screen reader support: ‚ö†Ô∏è Role='switch' added, but no explicit ARIA labels\". The recording settings page includes multiple toggles (recording, transcription, AI summary) and interactive elements that lack descriptive ARIA labels for users relying on assistive technology.",
      "suggested_fix": "Add aria-label attributes to all toggle switches (e.g., \"Enable call recording\", \"Enable transcription at $0.01 per minute\"). Add aria-describedby linking toggles to their cost indicators.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add aria-label attributes to all toggle switches (e.g., \"Enable call recording\", \"Enable transcription at $0.01 per minute\"). Add aria-describedby linking toggles to their cost indicators.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-134",
      "feature": "Recording Settings",
      "category": "D-recording-settings",
      "title": "No Manual Re-Transcription Button",
      "severity": "low",
      "location": "Section 7 - Identified Issues row 3",
      "issue": "Documentation flags \"Can't retry failed transcriptions\" as a Low severity issue. When transcription fails (e.g., Deepgram API error), admins have no way to retry. The call log shows \"Failed\" badge but offers no action.",
      "suggested_fix": "Add \"Retry Transcription\" button in call logs detail view for calls with transcription_status = \"failed\".",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add \"Retry Transcription\" button in call logs detail view for calls with transcription_status = \"failed\".",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-135",
      "feature": "Recording Settings",
      "category": "D-recording-settings",
      "title": "No Cost Estimation Before Enabling",
      "severity": "low",
      "location": "Section 7 - Identified Issues row 4",
      "issue": "Documentation notes \"Unexpected bills possible\" with Low severity. Admins enable transcription ($0.01/min) and AI summary ($0.02/min) without any estimate of monthly costs based on their call volume. This could lead to bill shock.",
      "suggested_fix": "Add estimated monthly cost calculator based on average call duration √ó call volume √ó selected features.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add estimated monthly cost calculator based on average call duration √ó call volume √ó selected features.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-136",
      "feature": "Recording Settings",
      "category": "D-recording-settings",
      "title": "Recordings Not Accessible to Non-Admin Agents",
      "severity": "low",
      "location": "Section 10 - Open Questions #4",
      "issue": "Documentation asks \"How are recordings accessed by agents (non-admin)? Not currently accessible to non-admin roles.\" Agents may need to review their own call recordings for self-improvement or dispute resolution, but have no access path.",
      "suggested_fix": "Consider adding agent-role access to their own recordings via Agent Call Logs feature, or document this as an intentional admin-only access control.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Consider adding agent-role access to their own recordings via Agent Call Logs feature, or document this as an intentional admin-only access control.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-137",
      "feature": "Recording Settings",
      "category": "D-recording-settings",
      "title": "No Batch Transcription for Historical Recordings",
      "severity": "low",
      "location": "Section 10 - Open Questions #5",
      "issue": "Documentation states \"No batch processing endpoint exists\" for transcribing old recordings. If an organization enables transcription after already having many recordings, there's no way to transcribe historical calls.",
      "suggested_fix": "Add \"Transcribe All Untranscribed\" button or background job for batch processing historical recordings.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add \"Transcribe All Untranscribed\" button or background job for batch processing historical recordings.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-138",
      "feature": "Recording Settings",
      "category": "D-recording-settings",
      "title": "Cannot Request Transcription On-Demand",
      "severity": "low",
      "location": "Section 10 - Open Questions #8",
      "issue": "Documentation confirms \"No, it's automatic when enabled\" for on-demand transcription. Organizations that only want to transcribe specific calls (e.g., escalated issues, training examples) must enable transcription for all calls, incurring costs for calls they don't need transcribed.",
      "suggested_fix": "Consider per-call transcription toggle in call logs, allowing admins to selectively transcribe specific recordings.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Consider per-call transcription toggle in call logs, allowing admins to selectively transcribe specific recordings.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-139",
      "feature": "Recording Settings",
      "category": "D-recording-settings",
      "title": "Agents Cannot Pause/Resume Recording",
      "severity": "low",
      "location": "Section 10 - Open Questions #3",
      "issue": "Documentation states \"No, recording is fully automatic when enabled.\" Agents cannot pause recording when visitors need to share sensitive information (e.g., credit card numbers, SSNs), creating potential compliance and privacy issues.",
      "suggested_fix": "Add pause/resume recording controls to agent dashboard. When paused, display indicator to both agent and visitor.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add pause/resume recording controls to agent dashboard. When paused, display indicator to both agent and visitor.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-140",
      "feature": "Agent Call Logs",
      "category": "A-agent-call-logs",
      "title": "No Server-Side Pagination Limits Historical Data Access",
      "severity": "medium",
      "location": "Section 7 - Identified Issues table, row 2",
      "issue": "Documentation explicitly states \"No server-side pagination | 500 record limit cuts off data | üü° Medium\". Agents with high call volumes cannot access historical data beyond the most recent 500 calls within any date range. This creates a significant limitation for agents trying to review older calls or search across their full history.",
      "suggested_fix": "Add cursor-based pagination as already suggested in the documentation.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add cursor-based pagination as already suggested in the documentation.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-141",
      "feature": "Agent Call Logs",
      "category": "A-agent-call-logs",
      "title": "Table Rows Not Keyboard Navigable",
      "severity": "medium",
      "location": "Section 5 - Accessibility, \"Keyboard navigation\" bullet",
      "issue": "Documentation explicitly flags \"‚ö†Ô∏è Table rows not focusable, filter inputs are\". Agents who rely on keyboard navigation cannot focus or navigate through the call table rows. Only filter inputs are accessible via keyboard, making the primary data display inaccessible to keyboard-only users.",
      "suggested_fix": "Add `tabindex=\"0\"` to table rows, implement keyboard navigation handlers (arrow keys), and add visible focus indicators. Consider using proper ARIA grid roles.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add `tabindex=\"0\"` to table rows, implement keyboard navigation handlers (arrow keys), and add visible focus indicators. Consider using proper ARIA grid roles.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-142",
      "feature": "Agent Call Logs",
      "category": "A-agent-call-logs",
      "title": "Icons Lack Aria Labels",
      "severity": "medium",
      "location": "Section 5 - Accessibility, \"Screen reader support\" bullet",
      "issue": "Documentation notes \"‚ö†Ô∏è Icons lack aria-labels in some places\". The call logs table includes status icons, action buttons (play, download), and stat card icons that are not properly labeled for screen reader users. This is an accessibility compliance issue.",
      "suggested_fix": "Add aria-label attributes to all interactive icons (e.g., play button: \"Play recording\", status icons: \"Status: Completed\"). Add sr-only text alternatives for decorative icons with meaning.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add aria-label attributes to all interactive icons (e.g., play button: \"Play recording\", status icons: \"Status: Completed\"). Add sr-only text alternatives for decorative icons with meaning.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-143",
      "feature": "Agent Call Logs",
      "category": "A-agent-call-logs",
      "title": "No Loading States During Page Transitions",
      "severity": "low",
      "location": "Section 5 - Accessibility, \"Loading states\" bullet",
      "issue": "Documentation flags \"‚ö†Ô∏è No loading spinner during page transitions (server components)\". When agents apply filters, the page reloads via URL params with no visual feedback that data is being fetched. Agents may think the interface is frozen, especially on slower connections.",
      "suggested_fix": "Add loading skeleton or Suspense boundary during server component transitions. Alternatively, show a subtle loading indicator when filters are applied.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add loading skeleton or Suspense boundary during server component transitions. Alternatively, show a subtle loading indicator when filters are applied.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-144",
      "feature": "Agent Call Logs",
      "category": "A-agent-call-logs",
      "title": "No Real-Time Updates for New Calls",
      "severity": "low",
      "location": "Section 7 - Identified Issues table, row 1",
      "issue": "Documentation notes \"No real-time updates | Must refresh to see new calls | üü¢ Low\". After an agent completes a call, they must manually refresh the page to see it in their call logs. This creates a disconnect where the agent just finished a call but doesn't see it listed.",
      "suggested_fix": "Consider polling interval or websocket subscription for new call notifications, as suggested in the documentation.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Consider polling interval or websocket subscription for new call notifications, as suggested in the documentation.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-145",
      "feature": "Agent Call Logs",
      "category": "A-agent-call-logs",
      "title": "URL Filter is Client-Side Only",
      "severity": "low",
      "location": "Section 7 - Identified Issues table, row 3; Section 6 - Performance",
      "issue": "Documentation states \"URL filter is client-side | Can't search >500 calls by URL | üü¢ Low\". Section 6 also notes \"Client-side URL filtering | URL conditions filtered after fetch | ‚ö†Ô∏è Could be slow with 500 records\". Agents cannot reliably search for calls by URL across their full history, and filtering 500 records client-side may cause noticeable lag.",
      "suggested_fix": "Move URL filtering to server-side query as suggested in the documentation.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Move URL filtering to server-side query as suggested in the documentation.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-146",
      "feature": "Agent Call Logs",
      "category": "A-agent-call-logs",
      "title": "No CSV Export for Agents",
      "severity": "low",
      "location": "Section 7 - Identified Issues table, row 4",
      "issue": "Documentation explicitly notes \"No CSV export for agents | Admins can export, agents cannot | üü¢ Low\". While admins can export call data, agents have no way to export their own call history for personal records, performance tracking, or record keeping.",
      "suggested_fix": "Add agent export option as suggested in the documentation. Export should be limited to agent's own calls only.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add agent export option as suggested in the documentation. Export should be limited to agent's own calls only.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-147",
      "feature": "Agent Call Logs",
      "category": "A-agent-call-logs",
      "title": "No Sorting Options for Call Table",
      "severity": "low",
      "location": "Section 7 - Identified Issues table, row 5",
      "issue": "Documentation states \"No sorting options | Can't sort by duration, etc. | üü¢ Low\". Agents cannot reorder their call table by duration, answer time, or other columns, limiting their ability to analyze their performance patterns (e.g., \"show me my longest calls\").",
      "suggested_fix": "Add column sorting with ascending/descending options for key columns (date, duration, status).",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add column sorting with ascending/descending options for key columns (date, duration, status).",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-148",
      "feature": "Agent Call Logs",
      "category": "A-agent-call-logs",
      "title": "No Data Retention Policy for Old Calls",
      "severity": "low",
      "location": "Section 10 - Open Questions #2",
      "issue": "Documentation asks \"Data retention for old calls? No explicit retention period found. Call logs appear to be kept indefinitely. Should there be limits for agent view?\" The lack of retention policy could lead to performance issues over time and potential GDPR/privacy compliance gaps for historical data.",
      "suggested_fix": "Define and document data retention policy. Consider adding configurable retention periods per organization, or at minimum document the indefinite retention as a feature.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Define and document data retention policy. Consider adding configurable retention periods per organization, or at minimum document the indefinite retention as a feature.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-149",
      "feature": "Agent Call Logs",
      "category": "A-agent-call-logs",
      "title": "No Pool Filter for Agents in Multiple Pools",
      "severity": "low",
      "location": "Section 10 - Open Questions #6",
      "issue": "Documentation notes \"Why no pool filter for agents? Agents in multiple pools can't filter by pool. Is this intentional to simplify the UI?\" Agents working across multiple pools (e.g., Sales and Support) cannot filter their call logs by pool, making it harder to analyze performance by business unit.",
      "suggested_fix": "Consider adding pool filter for agents who are members of multiple pools. If intentionally omitted, document the design decision.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Consider adding pool filter for agents who are members of multiple pools. If intentionally omitted, document the design decision.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-150",
      "feature": "Agent Call Logs",
      "category": "A-agent-call-logs",
      "title": "Call In Progress Shows Without Duration",
      "severity": "low",
      "location": "Section 4 - Edge Cases #17",
      "issue": "Edge Case #17 notes \"Call in progress (accepted) | Currently on call | Appears with status 'Accepted', no duration | ‚úÖ | Real-time not updated\". While marked as correct, if an agent opens their call logs in a new tab during a call, they see an \"Accepted\" call with no duration that never updates until page refresh. This could be confusing.",
      "suggested_fix": "Consider adding visual indicator for \"ongoing\" calls (e.g., pulsing icon, \"In Progress\" badge) or filtering out currently active calls from the historical view.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Consider adding visual indicator for \"ongoing\" calls (e.g., pulsing icon, \"In Progress\" badge) or filtering out currently active calls from the historical view.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-151",
      "feature": "Idle Timer",
      "category": "A-idle-timer",
      "title": "Screen Reader Accessibility Gap",
      "severity": "medium",
      "location": "Section 5 - UI/UX Review, Accessibility subsection",
      "issue": "Documentation notes \"Screen reader support: ‚ö†Ô∏è Notification may not be announced\". Browser notifications may not be properly announced to screen reader users, creating an accessibility barrier for visually impaired agents who may be marked away without audible warning.",
      "suggested_fix": "Add ARIA live region announcement when idle warning is triggered, or provide accessible alternative to browser notification for screen reader users.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add ARIA live region announcement when idle warning is triggered, or provide accessible alternative to browser notification for screen reader users.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-152",
      "feature": "Idle Timer",
      "category": "A-idle-timer",
      "title": "Multiple Tab Activity Not Synchronized",
      "severity": "medium",
      "location": "Section 4 - Edge Cases #10, Section 7 - Identified Issues, Section 10 - Open Question #4",
      "issue": "Documentation explicitly flags this: \"Each tab has own timer\" and \"Only focused tab resets on activity\". Agents with multiple dashboard tabs open will only have the focused tab's timer reset on activity. An agent working in Tab A could go idle in Tab B and be marked away unexpectedly.",
      "suggested_fix": "As doc suggests, implement SharedWorker or localStorage sync to coordinate activity across tabs. Alternatively, document this limitation prominently in agent onboarding.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "As doc suggests, implement SharedWorker or localStorage sync to coordinate activity across tabs. Alternatively, document this limitation prominently in agent onboarding.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-153",
      "feature": "Idle Timer",
      "category": "A-idle-timer",
      "title": "Mobile Browser Worker Suspension",
      "severity": "medium",
      "location": "Section 4 - Edge Cases #14, Section 7 - Identified Issues, Section 10 - Open Question #6",
      "issue": "Documentation notes \"iOS/Android background - Browser may suspend Worker - ‚ö†Ô∏è Mobile behavior varies\". Mobile browsers may suspend Web Workers when backgrounded, causing idle detection to fail or delay. Server heartbeat staleness (2-min delay) is the only fallback.",
      "suggested_fix": "Document mobile limitations clearly for agents. Consider implementing Service Worker or Push Notification based idle detection for mobile. Accept 2-min detection delay on mobile as known limitation.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Document mobile limitations clearly for agents. Consider implementing Service Worker or Push Notification based idle detection for mobile. Accept 2-min detection delay on mobile as known limitation.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-154",
      "feature": "Idle Timer",
      "category": "A-idle-timer",
      "title": "Notification Easily Missed",
      "severity": "medium",
      "location": "Section 5 - UI/UX Review Step 4, Section 7 - Identified Issues",
      "issue": "Documentation flags \"Notification easily missed\" in quiet environments or when agent is focused elsewhere. The notification is visual-only (Section 10, Q5 asks about audio). Agents in noisy call centers may not notice the browser notification within the 60-second grace period.",
      "suggested_fix": "As doc suggests, add optional audio alert with the notification. Could be a configurable setting per agent.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "As doc suggests, add optional audio alert with the notification. Could be a configurable setting per agent.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-155",
      "feature": "Idle Timer",
      "category": "A-idle-timer",
      "title": "No Configurable Timeout Per Organization",
      "severity": "low",
      "location": "Section 7 - Identified Issues, Section 10 - Open Question #2",
      "issue": "Documentation asks \"Should idle timeout be configurable per organization? Currently fixed at 5 minutes.\" Different organizations have different workflows - a consulting firm may want 15-minute timeout while a fast-paced sales team may want 3 minutes.",
      "suggested_fix": "Add organization-level setting for idle timeout with sensible defaults and min/max bounds (e.g., 2-30 minutes).",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add organization-level setting for idle timeout with sensible defaults and min/max bounds (e.g., 2-30 minutes).",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-156",
      "feature": "Idle Timer",
      "category": "A-idle-timer",
      "title": "Co-browse Iframe Activity Not Tracked",
      "severity": "low",
      "location": "Section 10 - Open Question #3",
      "issue": "Documentation asks \"Should idle timer track activity in iframe preview? Agent viewing co-browse iframe is 'active' but not moving mouse in main window.\" Agents actively reviewing a visitor's co-browse screen may trigger idle timeout because mouse activity in the iframe doesn't reset the timer in the parent window.",
      "suggested_fix": "Add postMessage communication from co-browse iframe to parent window to reset idle timer on iframe activity, or treat iframe focus as activity.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add postMessage communication from co-browse iframe to parent window to reset idle timer on iframe activity, or treat iframe focus as activity.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-157",
      "feature": "Idle Timer",
      "category": "A-idle-timer",
      "title": "Inconsistent State/Status Terminology",
      "severity": "medium",
      "location": "Section 2 (states: Active/IdleWarning/Away), Section 3 (status: \"idle\"), Section 5 (status: \"idle\")",
      "issue": "The state machine uses \"Active\", \"IdleWarning\", and \"Away\" as idle timer states. But Section 3 Data Flow shows server checking \"if agent.status === 'idle'\" and Section 5 says \"Status restored to idle\". This mixes idle timer states with server-side agent statuses without clarifying the relationship. \"Idle\" in agent status context means \"available/waiting for calls\" but could be confused with the idle timer concept.",
      "suggested_fix": "Add terminology clarification section: Idle Timer States (Active/IdleWarning/Away) vs Agent Statuses (online/idle/away/busy). Clarify that \"idle\" status means \"available for routing\" while \"Away\" state means \"marked unavailable\".",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add terminology clarification section: Idle Timer States (Active/IdleWarning/Away) vs Agent Statuses (online/idle/away/busy). Clarify that \"idle\" status means \"available for routing\" while \"Away\" state means \"marked unavailable\".",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-158",
      "feature": "Idle Timer",
      "category": "A-idle-timer",
      "title": "Missing Notification Permission Request Flow",
      "severity": "low",
      "location": "Throughout document - assumes notifications are available",
      "issue": "The documentation covers what happens when notification permission is granted vs denied (Edge Case #3 and #4), but doesn't document when or how the app requests notification permission from the agent. First-time agent experience with notification permission prompt is not documented.",
      "suggested_fix": "Document the notification permission request flow: When is it triggered? What UI does the agent see? What happens if they defer? Add this to the High-Level Flow or create a new \"First-Time Setup\" section.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Document the notification permission request flow: When is it triggered? What UI does the agent see? What happens if they defer? Add this to the High-Level Flow or create a new \"First-Time Setup\" section.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-159",
      "feature": "Idle Timer",
      "category": "A-idle-timer",
      "title": "Alternative Grace Period Path Unclear in State Diagram",
      "severity": "low",
      "location": "Section 2 - State Machine diagram vs Edge Case #4",
      "issue": "The state diagram shows tab hidden ‚Üí notification ‚Üí 60s grace period ‚Üí Away. But Edge Case #4 describes an alternative path when notification permission is denied: \"60s visibility grace period - Waits for tab to become visible\". This fallback path isn't shown in the state diagram, making the logic incomplete.",
      "suggested_fix": "Update state diagram to show the conditional branch: IdleWarning with notification vs IdleWarning without notification (visibility-only grace period).",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Update state diagram to show the conditional branch: IdleWarning with notification vs IdleWarning without notification (visibility-only grace period).",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-160",
      "feature": "Idle Timer",
      "category": "A-idle-timer",
      "title": "Hardcoded Line Numbers in Code References",
      "severity": "low",
      "location": "Section 8 - Code References",
      "issue": "Code references include specific line numbers (e.g., \"socket-handlers.ts:1505-1533\", \"useIdleTimer.ts:157-204\"). These line numbers will become outdated as code changes, making the documentation misleading. Already flagged in other reviews but particularly extensive here with 14 line-number references.",
      "suggested_fix": "Remove or generalize line numbers. Use function/component names as anchors instead. Consider linking to git permalinks if specific code versions matter.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Remove or generalize line numbers. Use function/component names as anchors instead. Consider linking to git permalinks if specific code versions matter.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-161",
      "feature": "Agent Active Call",
      "category": "A-agent-active-call",
      "title": "Recording URLs Are Potentially Guessable (Security Risk)",
      "severity": "high",
      "location": "Section 6 - Technical Concerns, Security bullet #4",
      "issue": "Documentation states \"Recording uploads go to public Supabase bucket - URLs are guessable if you know the pattern.\" This means anyone who can guess the URL pattern could potentially access call recordings without authentication, creating a significant privacy and compliance risk (HIPAA, GDPR).",
      "suggested_fix": "Move recordings to a private bucket with signed URLs that expire, or implement access control at the storage layer. Consider adding randomized UUIDs to paths rather than predictable patterns.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "ticketed",
      "ticket_id": "TKT-015",
      "options": [
        {
          "id": "implement_fix",
          "label": "Move recordings to a private bucket with signed URLs that expire, or implement access control at the storage layer. Consider adding randomized UUIDs to paths rather than predictable patterns.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-162",
      "feature": "Agent Active Call",
      "category": "A-agent-active-call",
      "title": "No WebRTC Reconnection on ICE Failure",
      "severity": "high",
      "location": "Section 4 - Edge Cases #2 (marked ‚ö†Ô∏è) and Section 7 - Identified Issues row 1",
      "issue": "Documentation explicitly flags \"Error state shown, connection retry not automatic\" for WebRTC failures and suggests \"Add ICE restart mechanism.\" When WebRTC connection fails mid-call (network glitch, NAT timeout), the agent must manually end the call and start a new one - potentially losing the customer.",
      "suggested_fix": "Implement ICE restart mechanism per RTCPeerConnection.restartIce() API. Add automatic retry with exponential backoff before showing failure state.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "ticketed",
      "ticket_id": "TKT-016",
      "options": [
        {
          "id": "implement_fix",
          "label": "Implement ICE restart mechanism per RTCPeerConnection.restartIce() API. Add automatic retry with exponential backoff before showing failure state.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-163",
      "feature": "Agent Active Call",
      "category": "A-agent-active-call",
      "title": "Recording May Be Lost on Agent Disconnect",
      "severity": "medium",
      "location": "Section 4 - Edge Cases #5 (marked ‚ö†Ô∏è) and Section 7 - Identified Issues row 3",
      "issue": "Documentation notes \"recording may be incomplete\" if agent disconnects mid-call. The recording upload only happens at call end, so if the agent's browser crashes or closes, the entire recording may be lost.",
      "suggested_fix": "Consider chunked upload during call (every N minutes) or background service worker to queue uploads. At minimum, document the risk for agents handling sensitive calls.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Consider chunked upload during call (every N minutes) or background service worker to queue uploads. At minimum, document the risk for agents handling sensitive calls.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-164",
      "feature": "Agent Active Call",
      "category": "A-agent-active-call",
      "title": "Both Parties Screen Sharing - Untested Edge Case",
      "severity": "medium",
      "location": "Section 4 - Edge Cases #10 (marked ‚ùì)",
      "issue": "Documentation explicitly marks this as \"Untested edge case\" with behavior listed as \"Agent sees visitor share, visitor sees agent share.\" Since WebRTC renegotiation is involved for both streams simultaneously, there's potential for race conditions or undefined behavior.",
      "suggested_fix": "Test this scenario and document expected behavior. Consider UI to indicate when both parties are sharing, or block simultaneous shares if it causes issues.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Test this scenario and document expected behavior. Consider UI to indicate when both parties are sharing, or block simultaneous shares if it causes issues.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-165",
      "feature": "Agent Active Call",
      "category": "A-agent-active-call",
      "title": "No Aria-Labels on Control Buttons",
      "severity": "medium",
      "location": "Section 5 - Accessibility (marked ‚ö†Ô∏è) and Section 7 - Identified Issues row 4",
      "issue": "Documentation states \"Screen reader support - buttons have no aria-labels.\" Agents using screen readers cannot understand what the mute, video, screen share, or end call buttons do.",
      "suggested_fix": "Add descriptive aria-labels: \"Mute microphone\", \"Turn off camera\", \"Share your screen\", \"End call\". Include current state: \"Microphone muted - click to unmute\".",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add descriptive aria-labels: \"Mute microphone\", \"Turn off camera\", \"Share your screen\", \"End call\". Include current state: \"Microphone muted - click to unmute\".",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-166",
      "feature": "Agent Active Call",
      "category": "A-agent-active-call",
      "title": "No Keyboard Shortcuts for Common Actions",
      "severity": "medium",
      "location": "Section 5 - Accessibility (marked ‚ùå) and Section 7 - Identified Issues row 2",
      "issue": "Documentation notes \"No keyboard shortcuts for common actions (mute, video toggle).\" This is both an accessibility gap and a power-user feature gap - agents can't quickly mute with a key combo during a call.",
      "suggested_fix": "Add keyboard shortcuts as suggested in doc: Ctrl+M for mute, Ctrl+E for video toggle. Show tooltips with shortcut hints.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add keyboard shortcuts as suggested in doc: Ctrl+M for mute, Ctrl+E for video toggle. Show tooltips with shortcut hints.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-167",
      "feature": "Agent Active Call",
      "category": "A-agent-active-call",
      "title": "Very Long Call Recording Memory Unknown",
      "severity": "medium",
      "location": "Section 10 - Open Questions #3",
      "issue": "Open question asks \"How does recording handle very long calls? MediaRecorder chunking (1s) may help but memory?\" With max call duration at 120 minutes default, the recording could accumulate significant memory. No testing or documentation of memory behavior for extended calls.",
      "suggested_fix": "Test 2-hour call recording to measure memory usage. Consider periodic chunk flushing or streaming upload rather than accumulating all data in memory.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Test 2-hour call recording to measure memory usage. Consider periodic chunk flushing or streaming upload rather than accumulating all data in memory.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-168",
      "feature": "Agent Active Call",
      "category": "A-agent-active-call",
      "title": "No ICE Renegotiation Mid-Call",
      "severity": "medium",
      "location": "Section 10 - Open Questions #2",
      "issue": "Open question states \"Is there a mechanism to renegotiate if ICE fails mid-call? Doesn't appear to be.\" This confirms the lack of reconnection capability - if network conditions change mid-call, there's no graceful recovery.",
      "suggested_fix": "Implement iceConnectionState monitoring with automatic ICE restart when state transitions to \"disconnected\" or \"failed\". This is related to Finding #2 but specifically about mid-call failures.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Implement iceConnectionState monitoring with automatic ICE restart when state transitions to \"disconnected\" or \"failed\". This is related to Finding #2 but specifically about mid-call failures.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-169",
      "feature": "Agent Active Call",
      "category": "A-agent-active-call",
      "title": "Shadow DOM Co-browse Compatibility Unknown",
      "severity": "low",
      "location": "Section 10 - Open Questions #5",
      "issue": "Open question asks \"Does co-browse work with Shadow DOM? Need to verify DOMSerializer handles it.\" Modern web components use Shadow DOM, and if co-browse doesn't capture these, agents may see incomplete or broken visitor pages.",
      "suggested_fix": "Test co-browse with a page using Shadow DOM components. Document limitations if any exist.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Test co-browse with a page using Shadow DOM components. Document limitations if any exist.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-170",
      "feature": "Agent Active Call",
      "category": "A-agent-active-call",
      "title": "TURN Credentials Delivery Could Be Improved",
      "severity": "low",
      "location": "Section 7 - Identified Issues row 5",
      "issue": "Documentation notes \"TURN credentials in client code - Security audit finding\" with suggestion to \"Move to API endpoint (metered.ca supports this).\" While the current credentials are for a metered.ca TURN service and not a direct security risk, delivering them via API would be cleaner.",
      "suggested_fix": "Implement TURN credential endpoint that returns short-lived credentials on demand, as metered.ca supports this pattern.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Implement TURN credential endpoint that returns short-lived credentials on demand, as metered.ca supports this pattern.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-171",
      "feature": "Visitor Reassignment",
      "category": "P-visitor-reassignment",
      "title": "Pool Routing Ignored During Reassignment",
      "severity": "high",
      "location": "Section 6 - Technical Concerns, \"Known Issue: Pool Routing Ignored in Reassignment\"",
      "issue": "Documentation explicitly flags that `reassignVisitors()` calls `findBestAgent()` without passing a pool ID. A visitor originally matched to \"Sales Pool\" via URL routing could be reassigned to an agent in \"Support Pool\" when their original agent becomes unavailable. This defeats the purpose of pool-based routing and could result in visitors speaking to agents without the right expertise.",
      "suggested_fix": "Change to `findBestAgentForVisitor(visitor.orgId, visitor.pageUrl)` which respects pool routing and falls back to any agent if no pool agents available. Logged as Q-1202-001 in doc.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "ticketed",
      "ticket_id": "TKT-017",
      "options": [
        {
          "id": "implement_fix",
          "label": "Change to `findBestAgentForVisitor(visitor.orgId, visitor.pageUrl)` which respects pool routing and falls back to any agent if no pool agents available. Logged as Q-1202-001 in doc.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-172",
      "feature": "Visitor Reassignment",
      "category": "P-visitor-reassignment",
      "title": "Mid-Call Disconnect Ends Call Permanently with No Reconnection Option",
      "severity": "high",
      "location": "Section 7 - First Principles Review, Identified Issues row 2; Section 10 - Open Questions #2",
      "issue": "When an agent disconnects mid-call (browser crash, network drop), the call ends immediately with no grace period or reconnection attempt. Visitor sees \"Call ended\" and must manually refresh and restart the entire call flow. Open Question #2 asks \"Should mid-call agent disconnect have a grace period?\" but this is currently not implemented. This creates a poor visitor experience especially for important conversations.",
      "suggested_fix": "Add 10-second grace period for mid-call disconnects (matching pre-call behavior). If agent reconnects within window, resume call. If not, then end call with appropriate messaging.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "ticketed",
      "ticket_id": "TKT-024",
      "options": [
        {
          "id": "implement_fix",
          "label": "Add 10-second grace period for mid-call disconnects (matching pre-call behavior). If agent reconnects within window, resume call. If not, then end call with appropriate messaging.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-173",
      "feature": "Visitor Reassignment",
      "category": "P-visitor-reassignment",
      "title": "Inconsistent Pool Routing Behavior Across Triggers",
      "severity": "medium",
      "location": "Section 11 - Session Summary, \"Reassignment Triggers\" table",
      "issue": "The table at the end of the document shows that CALL_REJECT and RNA Timeout \"respect\" pool routing while 5 other triggers (Agent Away, Agent Offline, Agent Disconnect, Agent Accepts Call, Heartbeat Stale) do NOT. This creates inconsistent behavior - a visitor's reassignment outcome depends on HOW the original agent became unavailable rather than the visitor's routing requirements.",
      "suggested_fix": "All reassignment paths should consistently respect pool routing. Unify the routing logic so visitors get consistent treatment regardless of trigger type.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "All reassignment paths should consistently respect pool routing. Unify the routing logic so visitors get consistent treatment regardless of trigger type.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-174",
      "feature": "Visitor Reassignment",
      "category": "P-visitor-reassignment",
      "title": "No Cascade Protection for Multiple Sequential Agent Unavailability",
      "severity": "medium",
      "location": "Section 5 - Edge Cases #10 (marked ‚ö†Ô∏è); Section 7 - Identified Issues row 3",
      "issue": "If all 5 agents in a pool go away in sequence, a visitor could receive 5 separate handoff messages (\"Agent A got pulled away... Agent B got pulled away... etc.\"). Documentation notes \"Could chain-reassign same visitor multiple times\" with LOW severity but the UX impact of multiple interruptions seems more significant.",
      "suggested_fix": "Add cooldown or batch reassignment logic. Consider a \"final\" message after N reassignment attempts or implement debouncing to batch rapid reassignments.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add cooldown or batch reassignment logic. Consider a \"final\" message after N reassignment attempts or implement debouncing to batch rapid reassignments.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-175",
      "feature": "Visitor Reassignment",
      "category": "P-visitor-reassignment",
      "title": "Widget State After AGENT_UNAVAILABLE is Permanent Until Page Refresh",
      "severity": "medium",
      "location": "Section 4 - Visitor UX During Reassignment, \"What the Visitor Sees\" table",
      "issue": "When no agent is available, the widget hides and remains hidden \"until refresh\" as documented. The visitor has no way to retry or check if agents have become available again - they must manually refresh the entire page, potentially losing any form data or context they had entered.",
      "suggested_fix": "Consider adding a \"Check again\" button or auto-polling mechanism after AGENT_UNAVAILABLE. At minimum, show a clear message that refreshing the page will allow retry.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Consider adding a \"Check again\" button or auto-polling mechanism after AGENT_UNAVAILABLE. At minimum, show a clear message that refreshing the page will allow retry.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-176",
      "feature": "Visitor Reassignment",
      "category": "P-visitor-reassignment",
      "title": "Transparency Gap in \"Got Pulled Away\" Messaging",
      "severity": "medium",
      "location": "Section 7 - First Principles Review, point 3 (marked ‚ö†Ô∏è Partial); Section 10 - Open Questions #4",
      "issue": "Documentation notes transparency is only \"Partial\" because visitor knows agent \"got pulled away\" but not why. Open Question #4 asks \"Should visitor be notified of rejection reason?\" Currently the same generic message is shown whether agent rejected the call, timed out on RNA, manually went away, or disconnected. This could frustrate visitors who want to understand what happened.",
      "suggested_fix": "Consider differentiating messages: \"Agent is with another customer\" (for capacity), \"Agent stepped away\" (for manual away), \"Connection lost\" (for disconnect). This provides more context without being too technical.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Consider differentiating messages: \"Agent is with another customer\" (for capacity), \"Agent stepped away\" (for manual away), \"Connection lost\" (for disconnect). This provides more context without being too technical.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-177",
      "feature": "Visitor Reassignment",
      "category": "P-visitor-reassignment",
      "title": "HANDOFF_MESSAGE_DURATION Not Configurable",
      "severity": "low",
      "location": "Section 7 - Identified Issues row 4",
      "issue": "The handoff message (\"Sarah got pulled away. John is taking over.\") displays for exactly 3 seconds with no configuration option. For organizations with specific branding or accessibility requirements, this fixed duration may be too short (users with reading difficulties) or too long (fast-paced environments).",
      "suggested_fix": "Make duration configurable via widget settings, with 3 seconds as default. Range: 1-10 seconds.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Make duration configurable via widget settings, with 3 seconds as default. Range: 1-10 seconds.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-178",
      "feature": "Visitor Reassignment",
      "category": "P-visitor-reassignment",
      "title": "Pre-Call vs Mid-Call Recovery Asymmetry Not Clearly Justified",
      "severity": "low",
      "location": "Section 2 - How It Works, \"Pre-Call vs Mid-Call: Key Difference\" table",
      "issue": "Documentation explains that pre-call visitors get seamless reassignment while mid-call visitors get abrupt call termination. The justification given is \"Can't leave visitor in broken call\" but this doesn't fully explain why a grace period couldn't work mid-call. The asymmetric handling may confuse developers and could lead to questions about why mid-call gets worse treatment.",
      "suggested_fix": "Add clearer rationale for why mid-call requires immediate termination (e.g., WebRTC peer connection state, media stream continuity requirements). If there's a valid technical reason, document it. If not, consider adding mid-call grace period.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add clearer rationale for why mid-call requires immediate termination (e.g., WebRTC peer connection state, media stream continuity requirements). If there's a valid technical reason, document it. If not, consider adding mid-call grace period.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-179",
      "feature": "Visitor Reassignment",
      "category": "P-visitor-reassignment",
      "title": "Edge Case #12 References \"excludeVisitorId\" Without Full Explanation",
      "severity": "low",
      "location": "Section 5 - Edge Cases #12",
      "issue": "Row 12 states \"Two visitors same agent, one in call\" behavior is \"Only non-calling visitor reassigned\" and notes \"`excludeVisitorId` parameter\" - but the main reassignment algorithm in Section 3 doesn't clearly show where this parameter comes from or how the calling visitor is identified. This makes the logic flow harder to follow.",
      "suggested_fix": "Add a note in the Reassignment Algorithm section explaining how the system identifies which visitor is in the active call and passes that as excludeVisitorId.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add a note in the Reassignment Algorithm section explaining how the system identifies which visitor is in the active call and passes that as excludeVisitorId.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-180",
      "feature": "Visitor Reassignment",
      "category": "P-visitor-reassignment",
      "title": "Missing Metric/Logging for Reassignment Events",
      "severity": "low",
      "location": "Throughout document - no mention of metrics",
      "issue": "The documentation covers reassignment logic thoroughly but doesn't mention any metrics, logging, or analytics for reassignment events. Admins would benefit from knowing: how often reassignments occur, success rate of finding replacements, average time between trigger and reassignment, and which triggers are most common.",
      "suggested_fix": "Document existing metrics if any, or flag as enhancement: add reassignment_count, reassignment_success_rate, and trigger_type metrics to call logs or a dedicated analytics table.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Document existing metrics if any, or flag as enhancement: add reassignment_count, reassignment_success_rate, and trigger_type metrics to call logs or a dedicated analytics table.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-181",
      "feature": "Agent Stats Dashboard",
      "category": "A-agent-stats-dashboard",
      "title": "Accessibility Not Fully Verified - Keyboard Navigation",
      "severity": "medium",
      "location": "Section 5 - UI/UX Review - Accessibility",
      "issue": "Documentation explicitly marks keyboard navigation as \"‚ö†Ô∏è Not fully verified\". This is a significant accessibility gap as agents who rely on keyboard navigation may not be able to effectively use the dashboard.",
      "suggested_fix": "Conduct accessibility audit and document keyboard navigation paths. Ensure all interactive elements (filters, play buttons, expandable rows) are keyboard accessible.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Conduct accessibility audit and document keyboard navigation paths. Ensure all interactive elements (filters, play buttons, expandable rows) are keyboard accessible.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-182",
      "feature": "Agent Stats Dashboard",
      "category": "A-agent-stats-dashboard",
      "title": "Modal Focus Trapping Not Implemented",
      "severity": "medium",
      "location": "Section 5 - UI/UX Review - Accessibility",
      "issue": "Documentation notes \"Focus management: ‚ö†Ô∏è Modal should trap focus\". The video recording modal does not trap focus, which is an accessibility violation (WCAG 2.4.3). Users using screen readers or keyboard navigation could tab out of the modal into the page behind it.",
      "suggested_fix": "Implement focus trapping in the video modal component. Focus should move to the modal on open and return to the trigger element on close.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Implement focus trapping in the video modal component. Focus should move to the modal on open and return to the trigger element on close.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-183",
      "feature": "Agent Stats Dashboard",
      "category": "A-agent-stats-dashboard",
      "title": "No Loading Indicator During Data Refetch",
      "severity": "medium",
      "location": "Section 7 - First Principles Review, question 3",
      "issue": "Documentation states \"Is feedback immediate? ‚ö†Ô∏è Mostly - No loading spinner on date change\" and Section 7 Identified Issues confirms \"No loading state | User may not know refetch is happening\". When agents change date ranges or apply filters, there's no visual feedback that data is being fetched, leading to potential confusion.",
      "suggested_fix": "Add loading skeleton or spinner overlay when refetching data. Consider using React Suspense boundaries or a loading state in the server component.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add loading skeleton or spinner overlay when refetching data. Consider using React Suspense boundaries or a loading state in the server component.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-184",
      "feature": "Agent Stats Dashboard",
      "category": "A-agent-stats-dashboard",
      "title": "500 Call Limit May Cause Data Loss for High-Volume Agents",
      "severity": "medium",
      "location": "Section 4 - Edge Cases #5, Section 7 - Identified Issues, Section 10 - Open Question #1",
      "issue": "Multiple sections flag this concern. Edge Case #5 shows \"500+ calls in range | High volume agent | Limited to 500 calls | ‚ö†Ô∏è | Shows '(limit reached)' message\". High-volume agents selecting longer date ranges will have incomplete data and statistics. The \"(limit reached)\" message only partially mitigates this as agents still cannot access all their data.",
      "suggested_fix": "Implement pagination to allow agents to access all their calls. Alternatively, provide a stats-only endpoint that calculates stats across ALL calls (not just the limited 500) so at least the statistics are accurate.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Implement pagination to allow agents to access all their calls. Alternatively, provide a stats-only endpoint that calculates stats across ALL calls (not just the limited 500) so at least the statistics are accurate.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-185",
      "feature": "Agent Stats Dashboard",
      "category": "A-agent-stats-dashboard",
      "title": "Client-Side URL Filtering Is Inefficient for Large Datasets",
      "severity": "low",
      "location": "Section 6 - Technical Concerns - Performance, row 2",
      "issue": "Documentation notes \"URL conditions filtered after fetch | ‚ö†Ô∏è Could filter server-side for large datasets\". Currently, all 500 calls are fetched from the server, then URL condition filtering happens client-side. This means bandwidth and processing are wasted on calls that don't match the filter.",
      "suggested_fix": "Move URL condition filtering to the server-side query using SQL LIKE/ILIKE clauses or pg_trgm extension for pattern matching.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Move URL condition filtering to the server-side query using SQL LIKE/ILIKE clauses or pg_trgm extension for pattern matching.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-186",
      "feature": "Agent Stats Dashboard",
      "category": "A-agent-stats-dashboard",
      "title": "Answer Rate Calculation May Be Misleading When Including Rejected Calls",
      "severity": "low",
      "location": "Section 3 - Data Flow, calculateAgentStats function",
      "issue": "The formula shows \"answerPercentage = (totalAnswers / totalRings) * 100\" where totalRings includes rejected calls. If an agent intentionally rejects calls (e.g., going on break), their answer rate is penalized. This may not reflect true performance since intentional rejections are different from missed calls.",
      "suggested_fix": "Consider whether answer rate should be \"answers / (answers + missed)\" excluding rejected, or provide both metrics. Document the calculation methodology clearly for agents.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Consider whether answer rate should be \"answers / (answers + missed)\" excluding rejected, or provide both metrics. Document the calculation methodology clearly for agents.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-187",
      "feature": "Agent Stats Dashboard",
      "category": "A-agent-stats-dashboard",
      "title": "Filtered Stats May Confuse Agents About True Performance",
      "severity": "low",
      "location": "Section 2 - State Definitions, \"Filtered View\" row",
      "issue": "When filters are applied, \"Stats recalculated for filtered calls only\". An agent filtering by \"completed\" calls only would see a 100% answer rate. The documentation doesn't indicate if there's clear messaging that these are filtered stats, not overall performance.",
      "suggested_fix": "Add visual indicator when viewing filtered stats (e.g., \"Showing stats for X of Y total calls\" or \"Filtered view\" badge on stat cards).",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add visual indicator when viewing filtered stats (e.g., \"Showing stats for X of Y total calls\" or \"Filtered view\" badge on stat cards).",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-188",
      "feature": "Agent Stats Dashboard",
      "category": "A-agent-stats-dashboard",
      "title": "ARIA Support for Interactive Elements Not Verified",
      "severity": "low",
      "location": "Section 5 - UI/UX Review - Accessibility",
      "issue": "Documentation states \"Screen reader support: ‚ö†Ô∏è Table structure helps, but interactive elements may need ARIA\". The expandable transcription rows, AI summary toggles, and multi-select dropdowns may not have proper ARIA attributes for screen reader users.",
      "suggested_fix": "Audit interactive elements for proper ARIA roles (aria-expanded, aria-controls, aria-selected). Ensure the call log table uses proper table semantics.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Audit interactive elements for proper ARIA roles (aria-expanded, aria-controls, aria-selected). Ensure the call log table uses proper table semantics.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-189",
      "feature": "Agent Stats Dashboard",
      "category": "A-agent-stats-dashboard",
      "title": "No Data Export Capability",
      "severity": "low",
      "location": "Section 7 - Identified Issues, row 3",
      "issue": "Documentation identifies \"No data export | Cannot export call history | üü¢ Low | Add CSV export\". Agents may need to export their call history for personal tracking, performance reviews, or integration with external tools.",
      "suggested_fix": "Add CSV export button that exports currently filtered/visible calls with key columns (date, status, duration, disposition, page URL).",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add CSV export button that exports currently filtered/visible calls with key columns (date, status, duration, disposition, page URL).",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-190",
      "feature": "Agent Stats Dashboard",
      "category": "A-agent-stats-dashboard",
      "title": "URL Filter Complexity May Confuse Users",
      "severity": "low",
      "location": "Section 7 - Identified Issues, row 4",
      "issue": "Documentation notes \"URL filter complexity | Advanced feature may confuse some users | üü¢ Low | Add help tooltip\". The URL condition builder with domain/path/query_param matching and five match types (is_exactly, contains, etc.) is powerful but may overwhelm non-technical agents.",
      "suggested_fix": "Add help tooltip with examples. Consider adding preset filters for common patterns (e.g., \"Pricing page calls\", \"Homepage calls\").",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add help tooltip with examples. Consider adding preset filters for common patterns (e.g., \"Pricing page calls\", \"Homepage calls\").",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-191",
      "feature": "Agent Stats Dashboard",
      "category": "A-agent-stats-dashboard",
      "title": "No Real-Time Updates for New Calls",
      "severity": "low",
      "location": "Section 7 - Identified Issues, row 5",
      "issue": "Documentation notes \"No real-time updates | New calls require page refresh | üü¢ Low | Consider websocket updates\". Agents who complete a call and then open their stats dashboard won't see the new call until they manually refresh.",
      "suggested_fix": "Consider adding real-time subscription for new calls, or at minimum add a \"Refresh\" button with visual indicator when new calls are available.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Consider adding real-time subscription for new calls, or at minimum add a \"Refresh\" button with visual indicator when new calls are available.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-192",
      "feature": "Agent Stats Dashboard",
      "category": "A-agent-stats-dashboard",
      "title": "30-Day Default Period May Not Suit All Use Cases",
      "severity": "low",
      "location": "Section 10 - Open Questions #3 and #4",
      "issue": "Open questions ask \"Is 30-day default the right period?\" and \"Should there be a 'today' quick view?\". Many agents may only care about today's calls or weekly performance, yet must navigate through a 30-day view by default.",
      "suggested_fix": "Add quick date preset buttons (Today, This Week, This Month, Last 30 Days) alongside the date range picker for faster navigation.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add quick date preset buttons (Today, This Week, This Month, Last 30 Days) alongside the date range picker for faster navigation.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-193",
      "feature": "Agent Stats Dashboard",
      "category": "A-agent-stats-dashboard",
      "title": "No Notification When Transcription Completes",
      "severity": "low",
      "location": "Section 10 - Open Questions #5",
      "issue": "Open question asks \"Should completed transcriptions trigger notifications?\". Agents may want to review transcriptions of specific calls but have no way to know when processing completes without manually checking the dashboard.",
      "suggested_fix": "Consider in-app notification or email when transcription/AI summary completes for a call, especially for calls over a certain duration threshold.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Consider in-app notification or email when transcription/AI summary completes for a call, especially for calls over a certain duration threshold.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-194",
      "feature": "Agent Stats Dashboard",
      "category": "A-agent-stats-dashboard",
      "title": "Mobile 2-Column Layout May Be Too Dense",
      "severity": "low",
      "location": "Section 4 - Edge Cases #15",
      "issue": "Edge case #15 indicates \"Mobile viewport | Small screen | 2-column grid layout | ‚úÖ | Responsive grid\". However, displaying 8 stat cards in a 2x4 grid on mobile could be visually overwhelming and difficult to scan quickly.",
      "suggested_fix": "Consider single-column layout for very small screens, or collapsible stat groups. Prioritize showing the most important stats (e.g., answer rate, total calls) prominently.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Consider single-column layout for very small screens, or collapsible stat groups. Prioritize showing the most important stats (e.g., answer rate, total calls) prominently.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-195",
      "feature": "Transcription Service",
      "category": "P-transcription-service",
      "title": "State Machine Inconsistency - \"pending\" vs \"null\"",
      "severity": "low",
      "location": "Section 2 - State Machine diagram vs State Definitions table",
      "issue": "The state machine diagram shows `[pending] ‚îÄ‚îÄ‚îÄ‚ñ∫ [processing]` as the initial flow, but the State Definitions table shows `null` (not \"pending\") as the initial state with description \"Transcription not started\". These don't match - is the initial state `null` or `pending`?",
      "suggested_fix": "Align terminology. If initial state is `null`, update state machine diagram to show `[null] ‚îÄ‚îÄ‚îÄ‚ñ∫ [processing]`. Or clarify that \"pending\" represents the `null` state conceptually.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Align terminology. If initial state is `null`, update state machine diagram to show `[null] ‚îÄ‚îÄ‚îÄ‚ñ∫ [processing]`. Or clarify that \"pending\" represents the `null` state conceptually.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-196",
      "feature": "Transcription Service",
      "category": "P-transcription-service",
      "title": "No Retry Button in UI for Failed Transcriptions",
      "severity": "high",
      "location": "Section 5 - UI/UX Review, Admin Call Logs step 6; Section 7 - Identified Issues table row 1",
      "issue": "Documentation explicitly notes \"No retry button\" for failed transcriptions in the UI. When transcription fails (Deepgram error, timeout, etc.), users have no way to retry from the interface. They must wait for next recording or require \"manual intervention\" (not defined). This is confirmed in Section 7: \"Failed transcriptions stuck\" with suggested fix \"Add Retry button in UI\".",
      "suggested_fix": "Add a \"Retry Transcription\" button on the call log row when `transcription_status = \"failed\"`. Button should call the same `/api/transcription/process` endpoint.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "ticketed",
      "ticket_id": "TKT-018",
      "options": [
        {
          "id": "implement_fix",
          "label": "Add a \"Retry Transcription\" button on the call log row when `transcription_status = \"failed\"`. Button should call the same `/api/transcription/process` endpoint.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-197",
      "feature": "Transcription Service",
      "category": "P-transcription-service",
      "title": "Fire-and-Forget Pattern Loses Failures",
      "severity": "medium",
      "location": "Section 6 - Issue 2; Section 3 - Triggers & Events table row 1",
      "issue": "Documentation acknowledges: \"The transcription trigger from `use-call-recording.ts` is fire-and-forget. If the API call fails, no record of the failure exists.\" This means a network glitch during the POST to `/api/transcription/process` results in a permanently untranscribed call with no indication of failure.",
      "suggested_fix": "Either implement a queue/retry mechanism as suggested, or add a background job that identifies calls with recordings but no transcription status after X minutes.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Either implement a queue/retry mechanism as suggested, or add a background job that identifies calls with recordings but no transcription status after X minutes.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-198",
      "feature": "Transcription Service",
      "category": "P-transcription-service",
      "title": "No Search Capability for Transcriptions",
      "severity": "low",
      "location": "Section 6 - Issue 3; Section 7 - Identified Issues row 2",
      "issue": "Documentation states: \"Transcriptions are stored as text but there's no UI to search across transcriptions.\" For organizations with many calls, finding specific conversations requires manually expanding each call log.",
      "suggested_fix": "Add full-text search on `call_logs.transcription` field as suggested in doc.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add full-text search on `call_logs.transcription` field as suggested in doc.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-199",
      "feature": "Transcription Service",
      "category": "P-transcription-service",
      "title": "No Manual Trigger for Historical Recordings",
      "severity": "medium",
      "location": "Section 7 - Identified Issues row 4; Section 10 - Open Question #5",
      "issue": "Documentation notes: \"Currently only auto-triggered after new recordings. Manual trigger would help.\" Old recordings that were made before transcription was enabled cannot be transcribed - there's no \"Transcribe\" button.",
      "suggested_fix": "Add \"Transcribe\" button for calls with `recording_url` but `transcription_status = null`.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add \"Transcribe\" button for calls with `recording_url` but `transcription_status = null`.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-200",
      "feature": "Transcription Service",
      "category": "P-transcription-service",
      "title": "Rate Limit Handling Undefined",
      "severity": "medium",
      "location": "Section 10 - Open Question #2",
      "issue": "Open question states: \"No - each transcription is processed immediately on request. High volume could hit Deepgram rate limits.\" However, there's no documented behavior for what happens when rate limits are hit. Edge case matrix doesn't cover \"Deepgram rate limit exceeded\" scenario.",
      "suggested_fix": "Document expected behavior when Deepgram rate limits are hit. Consider adding rate limiting on our side or queuing for high-volume orgs.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Document expected behavior when Deepgram rate limits are hit. Consider adding rate limiting on our side or queuing for high-volume orgs.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-201",
      "feature": "Transcription Service",
      "category": "P-transcription-service",
      "title": "Supabase Outage During Processing Undocumented",
      "severity": "medium",
      "location": "Section 10 - Open Question #6",
      "issue": "Open question asks: \"What happens if Supabase is down during processing?\" but provides no answer. If Deepgram succeeds but the database write fails, transcription is lost with no retry. This scenario is not in the edge case matrix.",
      "suggested_fix": "Add to edge case matrix. Consider idempotent retry logic or at minimum log the successful transcription response before DB write.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add to edge case matrix. Consider idempotent retry logic or at minimum log the successful transcription response before DB write.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-202",
      "feature": "Transcription Service",
      "category": "P-transcription-service",
      "title": "Accessibility Not Verified",
      "severity": "medium",
      "location": "Section 5 - Accessibility subsection",
      "issue": "Documentation explicitly marks \"Keyboard navigation: ‚ö†Ô∏è Not verified\" and \"Screen reader support: ‚ö†Ô∏è Not verified\". This is a gap in accessibility testing for the transcription-related UI elements (expand/collapse, status badges, etc.).",
      "suggested_fix": "Conduct accessibility audit of call logs transcription UI. Add keyboard shortcuts for expand/collapse. Ensure status badges have proper aria-labels.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Conduct accessibility audit of call logs transcription UI. Add keyboard shortcuts for expand/collapse. Ensure status badges have proper aria-labels.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-203",
      "feature": "Transcription Service",
      "category": "P-transcription-service",
      "title": "AI Summary Cost Calculation May Be Inaccurate",
      "severity": "medium",
      "location": "Section 3 - Data Flow, AI Summary Processing section",
      "issue": "Documentation shows AI summary cost is calculated as `duration_minutes * $0.02`. However, OpenAI charges by tokens (input + output), not by audio duration. A 5-minute call with verbose conversation would have vastly different token counts than a 5-minute call with short exchanges, yet they'd be billed the same. This could lead to under- or over-charging.",
      "suggested_fix": "Calculate actual token usage from OpenAI response (`usage.prompt_tokens` + `usage.completion_tokens`) and apply per-token pricing.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Calculate actual token usage from OpenAI response (`usage.prompt_tokens` + `usage.completion_tokens`) and apply per-token pricing.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-204",
      "feature": "Transcription Service",
      "category": "P-transcription-service",
      "title": "Maximum Audio Length Behavior Contradictory",
      "severity": "low",
      "location": "Section 10 - Open Question #1",
      "issue": "Documentation states: \"Deepgram has no hard limit, but cost scales linearly. Very long calls (4+ hours) may timeout.\" This is contradictory - \"no hard limit\" but then \"may timeout\" implies there is effectively a limit. Users/admins have no guidance on expected behavior for very long calls.",
      "suggested_fix": "Test actual behavior with 4+ hour audio file. Document the practical limit or expected timeout threshold. Consider chunked processing for very long audio.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Test actual behavior with 4+ hour audio file. Document the practical limit or expected timeout threshold. Consider chunked processing for very long audio.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-205",
      "feature": "Transcription Service",
      "category": "P-transcription-service",
      "title": "Failed Transcription Reason Not Visible to Users",
      "severity": "low",
      "location": "Section 3 - Data Flow (On Failure section); Section 5 - UI/UX Review",
      "issue": "When transcription fails, the error is stored in `transcription_error` field (per Data Flow section). However, Section 5 UI/UX shows users only see \"Red warning badge\" - there's no indication that users can see WHY the transcription failed. Without knowing the reason (bad audio, API timeout, etc.), they can't take corrective action.",
      "suggested_fix": "Show error message on hover or in expanded view when transcription fails. E.g., \"Failed: No transcription returned - audio may be empty or corrupted\".",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Show error message on hover or in expanded view when transcription fails. E.g., \"Failed: No transcription returned - audio may be empty or corrupted\".",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-206",
      "feature": "Transcription Service",
      "category": "P-transcription-service",
      "title": "Audio Quality Issues Marked But No Mitigation Documented",
      "severity": "low",
      "location": "Section 4 - Edge Cases matrix, rows 18-20",
      "issue": "Three scenarios are marked ‚ö†Ô∏è: Background noise (\"Accuracy may vary\"), Non-English audio (Nova-2 multilingual), and Technical jargon (\"No custom vocabulary\"). These are acknowledged limitations but the documentation offers no guidance on setting user expectations or workarounds.",
      "suggested_fix": "Add user-facing help text about transcription accuracy expectations. Consider documenting how to enable custom vocabulary with Deepgram if domain-specific accuracy is needed.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add user-facing help text about transcription accuracy expectations. Consider documenting how to enable custom vocabulary with Deepgram if domain-specific accuracy is needed.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-207",
      "feature": "Agent Stats Detail",
      "category": "A-agent-stats-detail",
      "title": "Ambiguous \"Affected Users\" Description for Agents",
      "severity": "medium",
      "location": "Section \"Affected Users\", line 8",
      "issue": "Documentation states \"Agent (can view their own stats if admin)\" with checkbox marked. This wording is misleading - it implies agents have conditional access to their own stats. However, Section 4 Error States shows \"Non-admin accessing page | Redirect to /dashboard\" and Open Question #4 asks \"Should agents view their own stats? Currently admin-only.\" The affected users section suggests agents CAN view stats, but the feature is actually admin-only.",
      "suggested_fix": "Change to \"Agent: ‚ùå No access (admin-only)\" or clarify \"Agent with admin role: ‚úÖ (as admin, not as agent)\".",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Change to \"Agent: ‚ùå No access (admin-only)\" or clarify \"Agent with admin role: ‚úÖ (as admin, not as agent)\".",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-208",
      "feature": "Agent Stats Detail",
      "category": "A-agent-stats-detail",
      "title": "Conflicting Status on Deactivated Agent Stats Access",
      "severity": "medium",
      "location": "Section 4 Edge Case #6 vs Section 10 Open Questions #6",
      "issue": "Edge Case #6 marks \"Stats for deactivated agent | Page returns 404\" as \"‚úÖ Correct\". However, Open Question #6 asks \"Should deactivated agents retain accessible historical stats?\" If this is an open question, it shouldn't be marked as ‚úÖ correct in edge cases - it should be marked with ‚ö†Ô∏è pending decision.",
      "suggested_fix": "Either resolve Open Question #6 with a definitive answer, or change Edge Case #6 status from ‚úÖ to ‚ö†Ô∏è with note \"Pending policy decision\".",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Either resolve Open Question #6 with a definitive answer, or change Edge Case #6 status from ‚úÖ to ‚ö†Ô∏è with note \"Pending policy decision\".",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-209",
      "feature": "Agent Stats Detail",
      "category": "A-agent-stats-detail",
      "title": "No Loading State on Date Range Change",
      "severity": "low",
      "location": "Section 7 - Identified Issues, row 1; Section 5 - Accessibility",
      "issue": "Documentation explicitly flags \"No loading state on date change | User may think click didn't register | üü¢ Low\" and Section 5 notes \"Loading states: ‚ö†Ô∏è No explicit loading spinner during date change (full page navigation)\". Users may repeatedly click the date picker thinking their selection didn't register.",
      "suggested_fix": "Add a loading overlay or skeleton state during date range transitions. Even with full-page navigation, cursor change or subtle indicator would help.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add a loading overlay or skeleton state during date range transitions. Even with full-page navigation, cursor change or subtle indicator would help.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-210",
      "feature": "Agent Stats Detail",
      "category": "A-agent-stats-detail",
      "title": "Large Date Range Performance Degradation",
      "severity": "medium",
      "location": "Section 4 Edge Case #12; Section 6 Performance concerns; Section 7 Identified Issues row 4",
      "issue": "Multiple sections flag this: Edge Case #12 warns \"All data loaded, may be slow | ‚ö†Ô∏è | No pagination implemented\", Section 6 notes \"No pagination, fetches all calls/sessions in range | ‚ö†Ô∏è May be slow for >1000 records\", and Identified Issues mentions \"Large date ranges slow | Performance degrades with >1000 calls | üü° Medium\". High-volume agents could have thousands of calls, causing significant slowdown.",
      "suggested_fix": "Implement server-side pagination, or add a maximum date range limit (e.g., 90 days) with guidance to use shorter ranges for detailed analysis.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Implement server-side pagination, or add a maximum date range limit (e.g., 90 days) with guidance to use shorter ranges for detailed analysis.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-211",
      "feature": "Agent Stats Detail",
      "category": "A-agent-stats-detail",
      "title": "Keyboard Navigation and Screen Reader Support Unverified",
      "severity": "medium",
      "location": "Section 5 - Accessibility",
      "issue": "Documentation flags \"Keyboard navigation: ‚ö†Ô∏è Not fully verified\" and \"Screen reader support: ‚ö†Ô∏è Not fully verified\". For a data-heavy page with tabs, date pickers, and tables, accessibility is critical for compliance and usability.",
      "suggested_fix": "Conduct accessibility audit. Ensure tab order is logical, stat cards have appropriate ARIA labels, tab switcher is keyboard accessible, and session table is properly marked up for screen readers.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Conduct accessibility audit. Ensure tab order is logical, stat cards have appropriate ARIA labels, tab switcher is keyboard accessible, and session table is properly marked up for screen readers.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-212",
      "feature": "Agent Stats Detail",
      "category": "A-agent-stats-detail",
      "title": "No Export Functionality for Stats Data",
      "severity": "low",
      "location": "Section 7 - Identified Issues, row 2",
      "issue": "Documentation notes \"No export functionality | Cannot download data for external analysis | üü¢ Low\". Admins analyzing agent performance often need to share data with HR, export for reports, or perform external analysis.",
      "suggested_fix": "Add CSV/PDF export buttons for performance metrics, activity data, and session logs.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add CSV/PDF export buttons for performance metrics, activity data, and session logs.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-213",
      "feature": "Agent Stats Detail",
      "category": "A-agent-stats-detail",
      "title": "Utilization Formula Question Already Answered in Implementation",
      "severity": "low",
      "location": "Section 10 - Open Questions #3",
      "issue": "Open Question #3 asks \"Should utilization exclude away time?\" but Section 3 Data Flow already documents \"activeSeconds = idle + in_call (NOT away)\" and \"utilization = (in_call / active) * 100\". The implementation decision has already been made (excludes away time) but it's still listed as an open question.",
      "suggested_fix": "Remove from Open Questions or rephrase as \"Current implementation excludes away time - is this correct?\" to clarify it's seeking validation, not defining behavior.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Remove from Open Questions or rephrase as \"Current implementation excludes away time - is this correct?\" to clarify it's seeking validation, not defining behavior.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-214",
      "feature": "Agent Stats Detail",
      "category": "A-agent-stats-detail",
      "title": "Active Session Duration Handling Could Confuse Users",
      "severity": "low",
      "location": "Section 4 - Edge Cases #9",
      "issue": "Edge Case #9 states \"Agent in active session | Session has ended_at = null | Session shown with 'Active' badge in green | ‚úÖ | Duration not counted in averages\". While technically correct, if an agent is currently logged in for 4 hours, the Activity tab's \"Average Session Length\" won't include that time. This could create confusion about why session averages seem low while viewing during an active session.",
      "suggested_fix": "Add tooltip or note explaining \"averages based on completed sessions only\" or consider real-time calculation for current session.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add tooltip or note explaining \"averages based on completed sessions only\" or consider real-time calculation for current session.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-215",
      "feature": "Agent Stats Detail",
      "category": "A-agent-stats-detail",
      "title": "No Team Comparison/Benchmark Metrics",
      "severity": "low",
      "location": "Section 7 - Identified Issues, row 5; Section 10 Open Questions #5",
      "issue": "Documentation notes \"No team average comparison | Cannot see how agent compares to team | üü¢ Low\" and Open Question #5 asks \"Are team comparison metrics needed?\" Without benchmarks, admins can't quickly assess if an agent is performing above or below team average without manual comparison.",
      "suggested_fix": "Add optional benchmark indicators showing team average for key metrics (e.g., \"Your answer rate: 85% | Team avg: 78%\").",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add optional benchmark indicators showing team average for key metrics (e.g., \"Your answer rate: 85% | Team avg: 78%\").",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-216",
      "feature": "Agent Stats Detail",
      "category": "A-agent-stats-detail",
      "title": "Stats Caching Question Unresolved",
      "severity": "low",
      "location": "Section 10 - Open Questions #1",
      "issue": "Documentation asks \"Should stats be cached? Currently all queries hit DB fresh on each page load. Consider caching for performance with high-volume agents.\" This is related to the performance concerns in Finding #4 but represents a separate caching decision that could improve response times.",
      "suggested_fix": "Evaluate caching strategy. Options include: short-term cache (5-10 min) for date ranges older than today, or background pre-computation of common date ranges (last 7d, 30d, 90d).",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Evaluate caching strategy. Options include: short-term cache (5-10 min) for date ranges older than today, or background pre-computation of common date ranges (last 7d, 30d, 90d).",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-217",
      "feature": "Agent Stats Detail",
      "category": "A-agent-stats-detail",
      "title": "Max Date Range Limit Undefined",
      "severity": "low",
      "location": "Section 10 - Open Questions #2",
      "issue": "Documentation asks \"What's the max supported date range? No explicit limit - very long ranges may be slow.\" Combined with the performance concerns, this creates an undefined upper bound that could cause issues for users selecting multi-year date ranges.",
      "suggested_fix": "Define and enforce a maximum date range (e.g., 365 days), with clear messaging if user tries to exceed it.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Define and enforce a maximum date range (e.g., 365 days), with clear messaging if user tries to exceed it.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-218",
      "feature": "Agent Stats Detail",
      "category": "A-agent-stats-detail",
      "title": "Duplicate/Overlapping Feature Documentation with STATS1",
      "severity": "low",
      "location": "Section 9 - Related Features",
      "issue": "Related Features lists \"Agent Stats (STATS1)\" in `stats/agent-stats.md` as \"Same feature from stats category perspective\". Having two documents for the same feature creates maintenance burden and potential for inconsistencies. If changes are made to one doc, the other may not be updated.",
      "suggested_fix": "Consider consolidating into a single canonical document, or clearly define the scope difference between A6 (agent perspective) and STATS1 (admin analytics perspective) with cross-references to keep them in sync.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Consider consolidating into a single canonical document, or clearly define the scope difference between A6 (agent perspective) and STATS1 (admin analytics perspective) with cross-references to keep them in sync.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-219",
      "feature": "Incoming Call",
      "category": "A-incoming-call",
      "title": "Critical UI/Server Mismatch on Countdown Timer",
      "severity": "high",
      "location": "Section 3 - Timing Configuration, line 134; Section 5 - UX Audit row 2",
      "issue": "The modal displays a hardcoded 30-second countdown (\"Request expires in 25s\" shown in wireframe), but the actual RNA timeout fires at 15 seconds (or org-configured value). Agents are misled into thinking they have more time than they actually do. When the countdown shows \"15 seconds remaining,\" the RNA timeout may have already fired, marking them away unexpectedly.",
      "suggested_fix": "Fetch the org's actual RNA timeout value from `organizations.recording_settings.rna_timeout_seconds` and use that as the countdown duration in `incoming-call-modal.tsx`. Display a synchronized, accurate countdown.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "ticketed",
      "ticket_id": "TKT-019",
      "options": [
        {
          "id": "implement_fix",
          "label": "Fetch the org's actual RNA timeout value from `organizations.recording_settings.rna_timeout_seconds` and use that as the countdown duration in `incoming-call-modal.tsx`. Display a synchronized, accurate countdown.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-220",
      "feature": "Incoming Call",
      "category": "A-incoming-call",
      "title": "UI Countdown Duration Hardcoded (Root Cause of #1)",
      "severity": "medium",
      "location": "Section 3 - Timing Configuration table, \"UI Countdown Display\" row",
      "issue": "Documentation explicitly states \"UI Countdown Display | 30 seconds | ‚ùå No | Hardcoded in `incoming-call-modal.tsx`\". The countdown is not configurable and doesn't sync with the org's RNA timeout setting. This is the root cause of the countdown mismatch issue.",
      "suggested_fix": "Make the countdown dynamically read from the org's RNA timeout configuration passed in the `call:incoming` payload.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Make the countdown dynamically read from the org's RNA timeout configuration passed in the `call:incoming` payload.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-221",
      "feature": "Incoming Call",
      "category": "A-incoming-call",
      "title": "Multiple Tabs Behavior May Cause Agent Confusion",
      "severity": "low",
      "location": "Section 4 - Edge Cases row 8; Section 10 - Open Question #2",
      "issue": "When an agent has multiple dashboard tabs open, both tabs receive the incoming call notification. Documentation flags \"Accepting on one clears both\" with a ‚ö†Ô∏è warning. If an agent accidentally accepts on the wrong tab (e.g., one with a stale state), they might experience confusion. The doc explicitly asks: \"Should we only show on 'primary' tab?\"",
      "suggested_fix": "Consider implementing primary tab detection, or clearly document expected multi-tab behavior in agent onboarding materials.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Consider implementing primary tab detection, or clearly document expected multi-tab behavior in agent onboarding materials.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-222",
      "feature": "Incoming Call",
      "category": "A-incoming-call",
      "title": "First-Time AudioContext Initialization Has No User Prompt",
      "severity": "low",
      "location": "Section 4 - Edge Cases row 10; Section 7 - Identified Issues table",
      "issue": "Documentation notes \"AudioContext requires interaction\" and agents on first load won't hear the ringtone until they click/interact with the page. The doc suggests \"Add 'Enable audio' prompt in bullpen\" but this is not implemented. Agents could miss calls due to silent notifications on their first session.",
      "suggested_fix": "Add an audio initialization prompt when agent enters bullpen for the first time, or auto-initialize on any user interaction with clear feedback.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add an audio initialization prompt when agent enters bullpen for the first time, or auto-initialize on any user interaction with clear feedback.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-223",
      "feature": "Incoming Call",
      "category": "A-incoming-call",
      "title": "No \"Snooze\" or \"Hold\" Option for Incoming Calls",
      "severity": "low",
      "location": "Section 10 - Open Question #3",
      "issue": "Documentation explicitly asks: \"Should there be a 'snooze' option? Agent might want to finish something before taking call but not reject entirely.\" Currently agents have only Accept or Reject - no middle ground. An agent who needs 10 seconds to finish typing might reject a call they would otherwise take.",
      "suggested_fix": "Consider adding a \"Hold\" button that extends the RNA timeout by X seconds (once per call) while signaling the visitor that \"agent is preparing.\"",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Consider adding a \"Hold\" button that extends the RNA timeout by X seconds (once per call) while signaling the visitor that \"agent is preparing.\"",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-224",
      "feature": "Incoming Call",
      "category": "A-incoming-call",
      "title": "Reject Action Irreversibility Not Communicated in UI",
      "severity": "low",
      "location": "Section 7 - First Principles Review, question 4",
      "issue": "Documentation notes \"Is the flow reversible? ‚ùå No - Reject is final for that call (but visitor gets rerouted)\". The modal shows \"Decline\" button but doesn't indicate this is irreversible. An agent who accidentally clicks Decline cannot undo - that specific visitor is gone. There's no confirmation dialog.",
      "suggested_fix": "Consider adding confirmation for Decline (\"Are you sure? This visitor will be routed to another agent.\") or making the Decline button require deliberate action (e.g., hold-to-decline).",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Consider adding confirmation for Decline (\"Are you sure? This visitor will be routed to another agent.\") or making the Decline button require deliberate action (e.g., hold-to-decline).",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-225",
      "feature": "Incoming Call",
      "category": "A-incoming-call",
      "title": "RNA Timeout May Be Too Short for Some Organizations",
      "severity": "low",
      "location": "Section 10 - Open Question #4",
      "issue": "Documentation asks: \"Is 15s RNA timeout appropriate for all use cases? Some orgs might want longer timeouts during high-volume periods.\" The default 15-second timeout is configurable, but there's no guidance on appropriate values for different business contexts (e.g., high-complexity sales calls vs quick support).",
      "suggested_fix": "Add recommended timeout ranges in admin settings UI with context (e.g., \"15s recommended for support, 25-30s for complex sales\").",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add recommended timeout ranges in admin settings UI with context (e.g., \"15s recommended for support, 25-30s for complex sales\").",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-226",
      "feature": "Incoming Call",
      "category": "A-incoming-call",
      "title": "Date Typo in Session Summary",
      "severity": "low",
      "location": "Section - Session Summary, \"Date\" field",
      "issue": "The Session Summary states \"Date: 2024-12-02\" but based on the sprint context, this should likely be \"2025-12-02\". This is a minor documentation typo.",
      "suggested_fix": "Update date to \"2025-12-02\".",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Update date to \"2025-12-02\".",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-227",
      "feature": "Co-Browse Viewer",
      "category": "A-cobrowse-viewer",
      "title": "Password Fields Captured in DOM Snapshots",
      "severity": "critical",
      "location": "Section 6 - Technical Concerns > Security, Section 10 - Open Questions #1",
      "issue": "Documentation explicitly flags that password input values are captured in DOM snapshots, creating a security/privacy risk. The doc notes: \"CRITICAL: Password fields are currently captured. The DOM snapshot includes form input values.\" This is marked with üî¥ High risk in the Security table. While a code fix is recommended in the doc, no evidence this fix has been implemented.",
      "suggested_fix": "Implement the sanitization code already proposed in the documentation to mask password inputs before snapshot.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "ticketed",
      "ticket_id": "TKT-001",
      "options": [
        {
          "id": "implement_fix",
          "label": "Implement the sanitization code already proposed in the documentation to mask password inputs before snapshot.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-228",
      "feature": "Co-Browse Viewer",
      "category": "A-cobrowse-viewer",
      "title": "Credit Card and Sensitive Fields Not Sanitized",
      "severity": "high",
      "location": "Section 6 - Technical Concerns > Security Gaps, lines 377-381",
      "issue": "Security section identifies that credit card fields, personal data, and session tokens may be visible in DOM snapshots, but the recommended mitigations only show password masking. The comment \"Consider also masking: input[type='tel'], input[autocomplete='cc-number'], Elements with data-sensitive='true']\" is incomplete - no implementation for these is provided.",
      "suggested_fix": "Extend sanitization to include credit card inputs, telephone inputs, and any elements marked with a data-sensitive attribute.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "ticketed",
      "ticket_id": "TKT-001",
      "options": [
        {
          "id": "implement_fix",
          "label": "Extend sanitization to include credit card inputs, telephone inputs, and any elements marked with a data-sensitive attribute.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-229",
      "feature": "Co-Browse Viewer",
      "category": "A-cobrowse-viewer",
      "title": "No Loading State Before First Snapshot",
      "severity": "medium",
      "location": "Section 5 - UI/UX Review > Accessibility, Section 7 - Identified Issues",
      "issue": "Documentation identifies that there is no explicit \"Loading DOM...\" state. Agent sees stale or blank viewer before first snapshot arrives. Section 5 notes \"Loading states | ‚ö†Ô∏è | No explicit 'Loading DOM...' state\" and Section 7 lists this as üü° Medium severity.",
      "suggested_fix": "Add \"Loading visitor's screen...\" placeholder until first snapshot received.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add \"Loading visitor's screen...\" placeholder until first snapshot received.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-230",
      "feature": "Co-Browse Viewer",
      "category": "A-cobrowse-viewer",
      "title": "Missing Screen Reader Accessibility",
      "severity": "medium",
      "location": "Section 5 - UI/UX Review > Accessibility",
      "issue": "Accessibility table shows \"Screen reader | ‚ö†Ô∏è | Could add aria-label for viewer\". No ARIA labels or roles are documented for the co-browse viewer, which could make it difficult for agents using assistive technology to understand the interface.",
      "suggested_fix": "Add aria-label=\"Visitor's screen view\" and appropriate ARIA roles to the CobrowseViewer component.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add aria-label=\"Visitor's screen view\" and appropriate ARIA roles to the CobrowseViewer component.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-231",
      "feature": "Co-Browse Viewer",
      "category": "A-cobrowse-viewer",
      "title": "Iframes Not Captured - No User Indication",
      "severity": "medium",
      "location": "Section 4 - Edge Cases #4, Section 10 - Open Questions #3",
      "issue": "Documentation notes iframes are not captured (marked ‚ö†Ô∏è) and Open Questions asks \"How should iframe content be handled?\" The agent sees an empty iframe box with no indication of why content is missing. This could be confusing when visitors are on pages with embedded content.",
      "suggested_fix": "Either document this limitation visibly to agents (placeholder message in blank iframe areas) or implement same-origin iframe recursive capture.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Either document this limitation visibly to agents (placeholder message in blank iframe areas) or implement same-origin iframe recursive capture.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-232",
      "feature": "Co-Browse Viewer",
      "category": "A-cobrowse-viewer",
      "title": "Canvas Elements Show Blank - No User Indication",
      "severity": "medium",
      "location": "Section 4 - Edge Cases #5, Section 10 - Open Questions #4",
      "issue": "Canvas elements appear blank to agents (marked ‚ö†Ô∏è). This affects viewing of charts, graphs, and interactive visualizations. The visitor might be looking at a chart that's central to the conversation, but the agent sees nothing. No placeholder or indication that content exists but cannot be displayed.",
      "suggested_fix": "Consider implementing canvas.toDataURL() capture, or at minimum display a placeholder indicating \"Canvas content not available\".",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Consider implementing canvas.toDataURL() capture, or at minimum display a placeholder indicating \"Canvas content not available\".",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-233",
      "feature": "Co-Browse Viewer",
      "category": "A-cobrowse-viewer",
      "title": "No Privacy Opt-Out for Visitors",
      "severity": "medium",
      "location": "Section 10 - Open Questions #2",
      "issue": "Open Questions asks \"Should there be a 'co-browse disabled' option?\" Documentation notes \"Some visitors might prefer privacy during calls. No toggle currently exists - cobrowse is automatic.\" This could be a privacy/compliance concern depending on jurisdiction (GDPR, etc.).",
      "suggested_fix": "Consider adding visitor-side toggle to disable screen sharing, or at minimum document that cobrowse is mandatory and ensure terms of service reflect this.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Consider adding visitor-side toggle to disable screen sharing, or at minimum document that cobrowse is mandatory and ensure terms of service reflect this.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-234",
      "feature": "Co-Browse Viewer",
      "category": "A-cobrowse-viewer",
      "title": "Large DOM Snapshots Not Compressed",
      "severity": "medium",
      "location": "Section 4 - Edge Cases #2, Section 6 - Technical Concerns > Performance",
      "issue": "Edge case #2 notes large DOMs (>1MB) are \"Sent as-is, may lag\" (marked ‚ö†Ô∏è). Performance section shows \"Large DOM snapshots | No compression | üü° Medium\" with recommendation to \"Consider gzip or delta encoding\". High-bandwidth pages could cause noticeable lag in co-browse updates.",
      "suggested_fix": "Implement gzip compression for snapshot payloads or delta-based updates.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Implement gzip compression for snapshot payloads or delta-based updates.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-235",
      "feature": "Co-Browse Viewer",
      "category": "A-cobrowse-viewer",
      "title": "No Stale View Indication on Snapshot Failure",
      "severity": "low",
      "location": "Section 4 - Error States",
      "issue": "Error States table shows \"Snapshot capture fails | JS error in DOM clone | Console error, no update | Next interval retries\". The agent sees the last valid snapshot with no indication it's stale. If multiple snapshots fail, the agent could be looking at an outdated view without knowing.",
      "suggested_fix": "Add visual indicator (timestamp badge or staleness warning) when snapshot hasn't updated for longer than expected interval.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add visual indicator (timestamp badge or staleness warning) when snapshot hasn't updated for longer than expected interval.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-236",
      "feature": "Co-Browse Viewer",
      "category": "A-cobrowse-viewer",
      "title": "\"Significant Change Filter\" Undefined",
      "severity": "low",
      "location": "Section 4 - Edge Cases #3",
      "issue": "Edge Case #3 mentions \"Debouncing via significant change filter\" for frequent DOM changes, but the document doesn't define what qualifies as a \"significant change\". This makes it unclear how the system behaves during React app re-renders or rapid DOM mutations.",
      "suggested_fix": "Document the criteria for what the MutationObserver considers a \"significant\" change worth capturing (e.g., minimum node count change, specific mutation types).",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Document the criteria for what the MutationObserver considers a \"significant\" change worth capturing (e.g., minimum node count change, specific mutation types).",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-237",
      "feature": "Co-Browse Viewer",
      "category": "A-cobrowse-viewer",
      "title": "Code Reference Line Numbers May Become Stale",
      "severity": "low",
      "location": "Section 8 - Code References",
      "issue": "Section 8 contains specific line number references (e.g., \"37-122\", \"127-139\", \"1287-1369\"). As code evolves, these line numbers will become inaccurate, leading to documentation drift. This is a maintenance burden.",
      "suggested_fix": "Consider using function/method names as primary references instead of line numbers, or implement automated tooling to verify line numbers during CI.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Consider using function/method names as primary references instead of line numbers, or implement automated tooling to verify line numbers during CI.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-238",
      "feature": "Co-Browse Viewer",
      "category": "A-cobrowse-viewer",
      "title": "Memory Leak Potential in Iframe Updates",
      "severity": "low",
      "location": "Section 6 - Technical Concerns > Performance",
      "issue": "Performance table notes \"Memory in iframe | New iframe content each snapshot | üü° Medium | Could diff and patch\". Writing new content to iframe every 2 seconds could accumulate memory, especially on long calls with complex pages.",
      "suggested_fix": "Implement DOM diffing/patching instead of full replacement, or ensure proper cleanup of old content before writing new.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Implement DOM diffing/patching instead of full replacement, or ensure proper cleanup of old content before writing new.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-239",
      "feature": "Co-Browse Viewer",
      "category": "A-cobrowse-viewer",
      "title": "Document Footer Has Incorrect Year",
      "severity": "low",
      "location": "Document Footer (line 401)",
      "issue": "Footer states \"Last updated: 2024-12-03\" but current date is December 2025. This appears to be a typo (2024 instead of 2025).",
      "suggested_fix": "Correct year to 2025.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Correct year to 2025.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-240",
      "feature": "Subscription Creation",
      "category": "B-subscription-creation",
      "title": "Screen Reader Accessibility Not Verified for Stripe Elements",
      "severity": "high",
      "location": "Section 5 - UI/UX Review > Accessibility",
      "issue": "Documentation explicitly states \"Screen reader support: ‚ö†Ô∏è Not fully verified for Stripe Elements\". This is a significant accessibility gap for a critical payment flow. Users with visual impairments may be unable to complete subscription creation.",
      "suggested_fix": "Conduct accessibility audit with screen readers (NVDA, VoiceOver) on the Stripe Elements integration. Document any issues found and implement fixes. Add automated accessibility testing to CI.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "ticketed",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Conduct accessibility audit with screen readers (NVDA, VoiceOver) on the Stripe Elements integration. Document any issues found and implement fixes. Add automated accessibility testing to CI.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-241",
      "feature": "Subscription Creation",
      "category": "B-subscription-creation",
      "title": "Price ID Fallback Silently Downgrades to Monthly Pricing",
      "severity": "high",
      "location": "Section 4 - Edge Cases #18, Section 10 - Open Questions #6",
      "issue": "When annual or 6-month price IDs aren't configured in environment, the system \"falls back to monthly price ID with a console warning\". This means a user explicitly selecting annual billing could be charged monthly rates without clear notification - a potential billing dispute issue and trust violation.",
      "suggested_fix": "Make missing price ID a hard error that blocks subscription creation. Show user-facing error: \"Annual billing temporarily unavailable. Please contact support or select monthly billing.\"",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "ticketed",
      "ticket_id": "TKT-020",
      "options": [
        {
          "id": "implement_fix",
          "label": "Make missing price ID a hard error that blocks subscription creation. Show user-facing error: \"Annual billing temporarily unavailable. Please contact support or select monthly billing.\"",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-242",
      "feature": "Subscription Creation",
      "category": "B-subscription-creation",
      "title": "6-Month Popup Logic Creates Unexpected Behavior",
      "severity": "medium",
      "location": "Section 10 - Open Questions #4",
      "issue": "Documentation asks: \"If user selects annual, changes to monthly, they see the popup. Is this intended?\" This suggests the popup trigger logic may fire unexpectedly. The `exitPopupShown` ref prevents re-showing, but the document is unclear if this edge case was intentionally designed.",
      "suggested_fix": "Clarify intended behavior in documentation. If unintended, fix logic to only show popup on initial monthly selection, not after changing from annual.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Clarify intended behavior in documentation. If unintended, fix logic to only show popup on initial monthly selection, not after changing from annual.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-243",
      "feature": "Subscription Creation",
      "category": "B-subscription-creation",
      "title": "Race Condition Risk Between API Response and Webhook",
      "severity": "medium",
      "location": "Section 10 - Open Questions #1",
      "issue": "Documentation flags: \"What happens if webhook arrives before API response?\" While it notes the handler is \"idempotent (won't downgrade trialing to trialing)\", the concern is documented as \"worth monitoring\" without a concrete monitoring strategy.",
      "suggested_fix": "Add explicit logging when webhook arrives before API response completes. Consider adding a small delay in webhook processing or using a state lock to prevent race conditions.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add explicit logging when webhook arrives before API response completes. Consider adding a small delay in webhook processing or using a state lock to prevent race conditions.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-244",
      "feature": "Subscription Creation",
      "category": "B-subscription-creation",
      "title": "Dev Mode Could Mask Production Integration Bugs",
      "severity": "medium",
      "location": "Section 10 - Open Questions #5, Section 4 - Edge Cases #17",
      "issue": "Dev mode allows \"subscription flow without Stripe\" which is convenient but the documentation asks \"How long should dev mode be supported?\" This mode could mask critical Stripe integration issues until production deployment.",
      "suggested_fix": "Add mandatory Stripe integration tests in staging environment before production deploys. Consider requiring Stripe test mode credentials for local development instead of pure dev mode bypass.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add mandatory Stripe integration tests in staging environment before production deploys. Consider requiring Stripe test mode credentials for local development instead of pure dev mode bypass.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-245",
      "feature": "Subscription Creation",
      "category": "B-subscription-creation",
      "title": "Card Information Lost on Back Navigation",
      "severity": "medium",
      "location": "Section 7 - First Principles Review #4",
      "issue": "Documentation notes flow is only \"Partial\" reversible: \"Can go back in browser, but card info must be re-entered if leaving paywall\". Users who navigate away and return must re-enter sensitive payment information, creating friction and potential abandonment.",
      "suggested_fix": "Cache SetupIntent clientSecret in sessionStorage to allow card reuse if user returns to /paywall within same session. Display \"Card saved ‚úì\" message when returning.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Cache SetupIntent clientSecret in sessionStorage to allow card reuse if user returns to /paywall within same session. Display \"Card saved ‚úì\" message when returning.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-246",
      "feature": "Subscription Creation",
      "category": "B-subscription-creation",
      "title": "SetupIntent Created Fresh on Every Page Load",
      "severity": "low",
      "location": "Section 10 - Open Questions #2",
      "issue": "Documentation asks: \"Should SetupIntent be reused if user returns to Step 1?\" Currently creates new SetupIntent on each page load. Combined with Edge Case #12 (SetupIntent orphaned if user leaves), this could accumulate unused Stripe resources.",
      "suggested_fix": "Cache clientSecret in sessionStorage. On page load, check for existing valid SetupIntent before creating new one.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Cache clientSecret in sessionStorage. On page load, check for existing valid SetupIntent before creating new one.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-247",
      "feature": "Subscription Creation",
      "category": "B-subscription-creation",
      "title": "No Explicit Back Buttons in Paywall Flow",
      "severity": "low",
      "location": "Section 7 - Identified Issues table, row 3",
      "issue": "Documentation explicitly identifies: \"No explicit 'back' buttons - Relies on browser back\". This is a UX gap as users expect navigation controls within the application, especially in a multi-step wizard.",
      "suggested_fix": "Add \"‚Üê Back\" links in Step 2 (seats) and Step 3 (billing) that navigate to previous steps. Style consistently with existing UI.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add \"‚Üê Back\" links in Step 2 (seats) and Step 3 (billing) that navigate to previous steps. Style consistently with existing UI.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-248",
      "feature": "Subscription Creation",
      "category": "B-subscription-creation",
      "title": "\"Overpaying\" Messaging May Feel Aggressive",
      "severity": "low",
      "location": "Section 5 - UI/UX Review > Step 3 #3, Section 7 - Identified Issues table, row 2",
      "issue": "When user selects monthly billing, a \"red 'overpaying' callout\" is shown. Documentation flags this as \"Slightly aggressive\" and notes it \"May feel pressured\". This could damage trust and conversions.",
      "suggested_fix": "Soften language to focus on savings opportunity rather than user \"error\". Example: \"Save 35% with annual billing\" instead of \"You're overpaying\".",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Soften language to focus on savings opportunity rather than user \"error\". Example: \"Save 35% with annual billing\" instead of \"You're overpaying\".",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-249",
      "feature": "Subscription Creation",
      "category": "B-subscription-creation",
      "title": "localStorage Seat Count Vulnerable to Clearing",
      "severity": "low",
      "location": "Section 7 - Identified Issues table, row 4",
      "issue": "Documentation notes \"localStorage seats lost on clear - Must re-select seats\". If user clears browser data mid-funnel or uses private browsing, seat selection is lost and must be repeated.",
      "suggested_fix": "Consider using sessionStorage instead of localStorage, or store seat selection server-side after Step 2 completion.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Consider using sessionStorage instead of localStorage, or store seat selection server-side after Step 2 completion.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-250",
      "feature": "Subscription Creation",
      "category": "B-subscription-creation",
      "title": "Funnel Step Order Not A/B Tested",
      "severity": "low",
      "location": "Section 10 - Open Questions #3",
      "issue": "Documentation questions: \"Current flow is Card ‚Üí Seats ‚Üí Billing. Some funnels do Card ‚Üí Billing ‚Üí Seats. Worth A/B testing which converts better.\" No plan exists to validate the current step order optimizes conversions.",
      "suggested_fix": "Implement A/B test infrastructure to compare Card ‚Üí Seats ‚Üí Billing vs Card ‚Üí Billing ‚Üí Seats conversion rates.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Implement A/B test infrastructure to compare Card ‚Üí Seats ‚Üí Billing vs Card ‚Üí Billing ‚Üí Seats conversion rates.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-251",
      "feature": "Subscription Creation",
      "category": "B-subscription-creation",
      "title": "SetupIntent Orphaning Acknowledged But No Cleanup",
      "severity": "low",
      "location": "Section 4 - Edge Cases #12, Section 7 - Identified Issues table, row 1",
      "issue": "Edge Case #12 notes \"SetupIntent may be orphaned\" when user leaves /paywall mid-flow. While documentation says \"Stripe auto-expires unused intents\", there's no proactive cleanup or tracking of orphaned intents.",
      "suggested_fix": "Consider tracking SetupIntent creation in DB. Run periodic cleanup job or rely on Stripe's automatic expiration. Add monitoring for orphan rate.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Consider tracking SetupIntent creation in DB. Run periodic cleanup job or rely on Stripe's automatic expiration. Add monitoring for orphan rate.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-252",
      "feature": "Seat Management",
      "category": "B-seat-management",
      "title": "Maximum Seat Limit Enforced Inconsistently Between UI and API",
      "severity": "high",
      "location": "Section 10 - Open Questions #1",
      "issue": "Documentation explicitly states \"Currently capped at 50 in signup UI (`Math.min(prev + 1, 50)`) but not enforced in API\". This creates a security and consistency gap where direct API calls could set arbitrarily high seat counts, potentially causing billing issues or system strain.",
      "suggested_fix": "Enforce maximum seat limit (50 or configurable per plan) in the API endpoints `/api/billing/seats` and `/api/billing/update-settings`. Return validation error if exceeded.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "ticketed",
      "ticket_id": "TKT-022",
      "options": [
        {
          "id": "implement_fix",
          "label": "Enforce maximum seat limit (50 or configurable per plan) in the API endpoints `/api/billing/seats` and `/api/billing/update-settings`. Return validation error if exceeded.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-253",
      "feature": "Seat Management",
      "category": "B-seat-management",
      "title": "Stripe-to-DB Update Not Atomic - Partial State Risk",
      "severity": "high",
      "location": "Section 6 - Reliability: \"Stripe updated before DB for seats route\"",
      "issue": "Documentation acknowledges \"Stripe updated before DB for seats route\". If Stripe subscription update succeeds but the subsequent database update (`UPDATE organizations SET seat_count = ...`) fails, the system enters an inconsistent state where Stripe charges for seats not reflected in the app.",
      "suggested_fix": "Implement compensating transaction pattern: if DB update fails, roll back Stripe change. Or use a two-phase approach with pending state. Add monitoring/alerting for DB write failures post-Stripe update.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "ticketed",
      "ticket_id": "TKT-023",
      "options": [
        {
          "id": "implement_fix",
          "label": "Implement compensating transaction pattern: if DB update fails, roll back Stripe change. Or use a two-phase approach with pending state. Add monitoring/alerting for DB write failures post-Stripe update.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-254",
      "feature": "Seat Management",
      "category": "B-seat-management",
      "title": "Trial Period Seat Changes Not Documented",
      "severity": "medium",
      "location": "Section 10 - Open Questions #3",
      "issue": "Open question states \"How to handle seat changes during trial period? Currently no special handling - trial organizations follow same flow\". This leaves critical questions unanswered: Does adding seats during trial create prorated charges? Does it affect trial end date? What does the user see?",
      "suggested_fix": "Document explicit behavior: either (a) seat changes during trial are free and only applied after trial ends, or (b) seat changes trigger immediate billing and end trial early, or (c) seat changes are blocked during trial.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Document explicit behavior: either (a) seat changes during trial are free and only applied after trial ends, or (b) seat changes trigger immediate billing and end trial early, or (c) seat changes are blocked during trial.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-255",
      "feature": "Seat Management",
      "category": "B-seat-management",
      "title": "Invite Rollback on Billing Failure May Not Be Atomic",
      "severity": "medium",
      "location": "Section 4 - Edge Cases #8",
      "issue": "Edge case #8 states invite is \"rolled back (deleted)\" if billing fails, marked as \"Transactional\". However, if the Stripe call fails and the subsequent invite deletion also fails (DB error, connection timeout), the system could end up with an orphaned invite that was never billed for. No retry mechanism is documented.",
      "suggested_fix": "Document the exact error handling flow. Consider: (1) creating invite in \"pending_billing\" state first, (2) updating to \"active\" only after billing succeeds, (3) background cleanup job for orphaned pending invites.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Document the exact error handling flow. Consider: (1) creating invite in \"pending_billing\" state first, (2) updating to \"active\" only after billing succeeds, (3) background cleanup job for orphaned pending invites.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-256",
      "feature": "Seat Management",
      "category": "B-seat-management",
      "title": "Screen Reader Counter Announcements Missing",
      "severity": "medium",
      "location": "Section 5 - Accessibility, Section 7 - Identified Issues",
      "issue": "Document explicitly flags \"Screen reader support: ‚ö†Ô∏è Counter value not announced on change\" and lists it as a Medium severity issue in Section 7. When admins use +/- buttons to adjust seat count, screen reader users receive no feedback that the value changed.",
      "suggested_fix": "Add `aria-live=\"polite\"` region around the seat counter or use `aria-atomic` with role=\"status\" to announce value changes.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add `aria-live=\"polite\"` region around the seat counter or use `aria-atomic` with role=\"status\" to announce value changes.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-257",
      "feature": "Seat Management",
      "category": "B-seat-management",
      "title": "No API Rate Limiting on Seat Operations",
      "severity": "low",
      "location": "Section 6 - Security, Section 7 - Identified Issues",
      "issue": "Document explicitly flags \"No explicit rate limit ‚ö†Ô∏è\" under Security concerns. Malicious or buggy clients could spam seat change requests, causing excessive Stripe API calls and potential billing issues.",
      "suggested_fix": "Add rate limit middleware to `/api/billing/seats` and `/api/billing/update-settings` endpoints (e.g., 10 requests per minute per org).",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add rate limit middleware to `/api/billing/seats` and `/api/billing/update-settings` endpoints (e.g., 10 requests per minute per org).",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-258",
      "feature": "Seat Management",
      "category": "B-seat-management",
      "title": "No Client-Side Debounce on Rapid Seat Changes",
      "severity": "low",
      "location": "Section 4 - Edge Cases #10, Section 7 - Identified Issues",
      "issue": "Edge case #10 notes \"Multiple rapid seat changes | Admin clicks +/+ quickly | Each processed independently | ‚ö†Ô∏è No debounce on API\". This is also listed in Section 7 as Low severity. Rapid clicking creates multiple Stripe API calls and prorated charges.",
      "suggested_fix": "Add 300-500ms debounce on the +/- button handlers in `BillingSettingsClient` before calling the API.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add 300-500ms debounce on the +/- button handlers in `BillingSettingsClient` before calling the API.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-259",
      "feature": "Seat Management",
      "category": "B-seat-management",
      "title": "Expired Invites Not Cleaned Up",
      "severity": "low",
      "location": "Section 10 - Open Questions #4",
      "issue": "Open question asks \"Should expired invites auto-free seats?\" with note \"Currently they're just not counted - no explicit cleanup\". Expired invites accumulate in the database indefinitely, which could lead to data bloat and potential confusion when viewing invite history.",
      "suggested_fix": "Implement a scheduled job (daily CRON) to delete or archive invites where `expires_at < NOW() - interval '30 days'`. Document retention policy.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Implement a scheduled job (daily CRON) to delete or archive invites where `expires_at < NOW() - interval '30 days'`. Document retention policy.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-260",
      "feature": "Seat Management",
      "category": "B-seat-management",
      "title": "Invite Expiration Period Hardcoded",
      "severity": "low",
      "location": "Section 10 - Open Questions #5",
      "issue": "Documentation states \"Is the 7-day invite expiration appropriate for all use cases? Hardcoded, not configurable per-org\". Enterprise organizations with slower onboarding processes may need longer invite windows.",
      "suggested_fix": "Add `invite_expiration_days` field to organizations table with default of 7. Allow admins to configure in Organization Settings.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add `invite_expiration_days` field to organizations table with default of 7. Allow admins to configure in Organization Settings.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-261",
      "feature": "Billing Frequency",
      "category": "B-billing-frequency",
      "title": "No Grace Period for Permanent 6-Month Offer Loss",
      "severity": "high",
      "location": "Section 7 - Identified Issues, and Section 10 - Open Question #1",
      "issue": "When a customer switches away from the 6-month billing plan, the `has_six_month_offer` flag is immediately and permanently set to `false`. There is no grace period, undo window, or confirmation delay. An accidental click followed by a confirmation could permanently lose a customer their 40% discount with no recourse. The document flags this as \"üü° Medium\" but the permanent, irreversible nature makes this a significant customer satisfaction risk.",
      "suggested_fix": "Implement a 24-48 hour grace period where the offer loss can be reverted, or require a secondary confirmation (e.g., email confirmation) before the offer is permanently removed.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "ticketed",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Implement a 24-48 hour grace period where the offer loss can be reverted, or require a secondary confirmation (e.g., email confirmation) before the offer is permanently removed.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-262",
      "feature": "Billing Frequency",
      "category": "B-billing-frequency",
      "title": "Confusing Edge Case Note: \"Still Loses 40% Rate\"",
      "severity": "medium",
      "location": "Section 4 - Edge Cases, Row #5",
      "issue": "Edge Case #5 states \"6-month ‚Üí Annual: Warning: loses 6-month offer ‚úÖ Still loses 40% rate\". The note \"Still loses 40% rate\" is ambiguous - it's unclear if this means the customer loses the 40% discount (going to annual's 35%) or if there's some other implication. The warning should clarify they're moving from 40% to 35% savings, not that they're losing discount entirely.",
      "suggested_fix": "Clarify note to: \"Moves from 40% discount (6-month) to 35% discount (annual)\".",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Clarify note to: \"Moves from 40% discount (6-month) to 35% discount (annual)\".",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-263",
      "feature": "Billing Frequency",
      "category": "B-billing-frequency",
      "title": "No Rate Limiting on Frequency Changes",
      "severity": "low",
      "location": "Section 6 - Technical Concerns > Security, and Section 7 - Identified Issues",
      "issue": "Documentation explicitly notes \"No explicit rate limiting ‚ö†Ô∏è Could add\" for the frequency change API endpoint. While the UI prevents rapid changes via modal, a malicious actor could directly call the API endpoint repeatedly.",
      "suggested_fix": "Add rate limiting (e.g., max 5 frequency changes per hour) or cooldown period between changes.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add rate limiting (e.g., max 5 frequency changes per hour) or cooldown period between changes.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-264",
      "feature": "Billing Frequency",
      "category": "B-billing-frequency",
      "title": "Screen Reader Support Not Verified",
      "severity": "medium",
      "location": "Section 5 - Accessibility",
      "issue": "Accessibility section marks \"Screen reader support: ‚ö†Ô∏è Not verified\". For a billing feature where users are making financial decisions, accessibility is critical. Users with visual impairments must be able to understand pricing, discounts, and the permanent consequences of their choices.",
      "suggested_fix": "Conduct screen reader testing with NVDA/VoiceOver and ensure all pricing information, warnings (especially the 6-month offer loss warning), and confirmation modals are properly announced.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Conduct screen reader testing with NVDA/VoiceOver and ensure all pricing information, warnings (especially the 6-month offer loss warning), and confirmation modals are properly announced.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-265",
      "feature": "Billing Frequency",
      "category": "B-billing-frequency",
      "title": "Modal Focus Trap Missing",
      "severity": "low",
      "location": "Section 5 - Accessibility and Section 7 - Identified Issues",
      "issue": "Documentation notes \"Focus management: ‚ö†Ô∏è Modal should trap focus\". The confirmation modal for billing frequency changes doesn't trap keyboard focus, allowing users to Tab outside the modal. This is both an accessibility issue and a potential source of user confusion.",
      "suggested_fix": "Add focus trap hook to the confirmation modal component to ensure keyboard navigation stays within the modal while it's open.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add focus trap hook to the confirmation modal component to ensure keyboard navigation stays within the modal while it's open.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-266",
      "feature": "Billing Frequency",
      "category": "B-billing-frequency",
      "title": "Paused Account Frequency Change Behavior Ambiguous",
      "severity": "medium",
      "location": "Section 4 - Edge Cases, Row #9 and Section 10 - Open Question #5",
      "issue": "Edge Case #9 states \"Frequency change while paused: Works - frequency stored ‚ö†Ô∏è Takes effect when resumed\". This is flagged as a concern but not fully resolved. Open Question #5 asks \"Should paused accounts be able to change frequency?\" The expected behavior is unclear - users might be confused if they change frequency while paused and don't see immediate effect.",
      "suggested_fix": "Either: (a) Disable frequency changes while paused with clear messaging, or (b) Allow changes but show clear UI indication: \"This change will take effect when your subscription resumes.\"",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Either: (a) Disable frequency changes while paused with clear messaging, or (b) Allow changes but show clear UI indication: \"This change will take effect when your subscription resumes.\"",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-267",
      "feature": "Billing Frequency",
      "category": "B-billing-frequency",
      "title": "Stripe Price ID Fallback Behavior May Be Incorrect",
      "severity": "medium",
      "location": "Section 4 - Edge Cases, Row #11",
      "issue": "Edge Case #11 states \"Stripe price ID not configured: Falls back to monthly price ID ‚ö†Ô∏è Logs warning\". If an admin selects annual billing but the annual price ID is misconfigured, silently falling back to monthly pricing is incorrect behavior - the customer expects annual pricing but gets charged monthly rates. This could cause billing disputes.",
      "suggested_fix": "Instead of silent fallback, fail the request with a clear error and alert operations team. The fallback masks a configuration error that should be caught immediately.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Instead of silent fallback, fail the request with a clear error and alert operations team. The fallback masks a configuration error that should be caught immediately.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-268",
      "feature": "Billing Frequency",
      "category": "B-billing-frequency",
      "title": "6-Month Offer Not Available for Re-subscribers - Business Logic Undocumented",
      "severity": "medium",
      "location": "Section 10 - Open Question #6",
      "issue": "Open Question #6 asks \"Is the 6-month offer available for re-subscribers? Currently: No.\" This is a significant business decision that affects win-back campaigns and customer re-acquisition. The behavior is implemented but the business rationale is not documented. Additionally, Edge Cases section doesn't cover the re-subscription scenario at all.",
      "suggested_fix": "Document the business decision explicitly in the feature doc and add edge case row for \"Re-subscriber attempts 6-month selection\" with expected behavior.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Document the business decision explicitly in the feature doc and add edge case row for \"Re-subscriber attempts 6-month selection\" with expected behavior.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-269",
      "feature": "Billing Frequency",
      "category": "B-billing-frequency",
      "title": "No Email Notification on Frequency Change",
      "severity": "low",
      "location": "Section 7 - Identified Issues and Section 10 - Open Question #3",
      "issue": "Documentation notes \"No email notification: Change not confirmed via email üü¢ Low\" and Open Question #3 asks if frequency changes should trigger emails. For billing changes, email confirmation is standard practice for audit trail and customer communication. Users may not remember they changed frequency when they see a different charge amount.",
      "suggested_fix": "Send confirmation email on frequency change including: old frequency, new frequency, effective date, and new pricing.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Send confirmation email on frequency change including: old frequency, new frequency, effective date, and new pricing.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-270",
      "feature": "Billing Frequency",
      "category": "B-billing-frequency",
      "title": "Seat Addition Pricing During Pending Frequency Change Unclear in UI",
      "severity": "medium",
      "location": "Section 4 - Edge Cases Row #13 and Section 10 - Open Question #4",
      "issue": "Edge Case #13 states \"Add seats after frequency change: Seats charged at current (old) rate ‚úÖ Until renewal\" and Open Question #4 asks \"is this documented clearly enough in UI?\" The document doesn't specify if/how users are informed that new seats will be charged at the old rate until renewal. This could cause billing confusion.",
      "suggested_fix": "Add clear UI messaging on seat addition: \"New seats will be billed at [old frequency] rate ($X/seat) until your next renewal on [date], then switch to [new frequency] rate.\"",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add clear UI messaging on seat addition: \"New seats will be billed at [old frequency] rate ($X/seat) until your next renewal on [date], then switch to [new frequency] rate.\"",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-271",
      "feature": "Billing Frequency",
      "category": "B-billing-frequency",
      "title": "Proration Behavior Not Fully Explained",
      "severity": "low",
      "location": "Section 4 - Edge Cases Row #12",
      "issue": "Edge Case #12 states \"Change near billing date: Proration calculated by Stripe ‚úÖ create_prorations behavior\". The document doesn't explain what this means for the customer - will they get a credit, be charged extra, or nothing? The Data Flow section shows `proration_behavior: 'create_prorations'` but doesn't explain the user-facing impact.",
      "suggested_fix": "Add explanation of proration behavior: \"When upgrading mid-cycle, customer is charged prorated difference. When downgrading, credit is applied to next invoice.\"",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add explanation of proration behavior: \"When upgrading mid-cycle, customer is charged prorated difference. When downgrading, credit is applied to next invoice.\"",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-272",
      "feature": "Billing Frequency",
      "category": "B-billing-frequency",
      "title": "Stripe Price ID Update Requires Deployment",
      "severity": "low",
      "location": "Section 10 - Open Question #2",
      "issue": "Open Question #2 states \"What happens if Stripe price IDs change? Currently hardcoded in environment. Would need deployment to update.\" This creates operational friction if Stripe prices need to be updated (e.g., price increase, new promotion). Environment variable changes still require deployment.",
      "suggested_fix": "Consider storing Stripe Price IDs in database with admin UI for updates, or document the deployment process clearly in runbook.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Consider storing Stripe Price IDs in database with admin UI for updates, or document the deployment process clearly in runbook.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-273",
      "feature": "Bullpen & Agent States",
      "category": "A-bullpen-states",
      "title": "No Warning Before Idle Timeout in Visible Tab",
      "severity": "medium",
      "location": "Section 4 - Edge Cases #3, Section 5 - UX Review step 4, Section 7 - Identified Issues row 1",
      "issue": "Documentation explicitly flags this: \"5 min idle ‚Üí (If visible) Immediately goes away\" with ‚ö†Ô∏è. When an agent is in a visible tab and becomes idle for 5 minutes, they are immediately marked as away with no warning. This can be jarring and lead to missed calls if the agent was expecting to still be available. The doc suggests \"Show countdown toast at 4:30 (30s warning)\" as a fix.",
      "suggested_fix": "Implement a 30-second countdown toast warning before auto-away triggers in visible tabs, matching the notification-based grace period behavior for background tabs.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Implement a 30-second countdown toast warning before auto-away triggers in visible tabs, matching the notification-based grace period behavior for background tabs.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-274",
      "feature": "Bullpen & Agent States",
      "category": "A-bullpen-states",
      "title": "`in_simulation` Status Terminology Unclear to Agents",
      "severity": "low",
      "location": "Section 7 - Identified Issues row 2, Section 10 - Open Questions Q-A1-002",
      "issue": "The `in_simulation` status displays as \"Broadcasting\" in the UI, but documentation notes \"Agent may not understand 'Broadcasting'\". This is flagged as an open question: \"Is this the right label? Alternatives: Live, Active, Streaming.\" The internal state name (`in_simulation`) vs UI text (\"Broadcasting\") vs actual meaning (visitor watching pre-recorded video) creates a semantic gap.",
      "suggested_fix": "Consider user testing to determine best label. \"Visitor Watching\" or \"Pre-Call\" might be clearer than \"Broadcasting\" since the agent isn't actually broadcasting - visitors are watching pre-recorded content.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Consider user testing to determine best label. \"Visitor Watching\" or \"Pre-Call\" might be clearer than \"Broadcasting\" since the agent isn't actually broadcasting - visitors are watching pre-recorded content.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-275",
      "feature": "Bullpen & Agent States",
      "category": "A-bullpen-states",
      "title": "Page Refresh During Active Call Ends Call Immediately",
      "severity": "medium",
      "location": "Section 4 - Edge Cases #7, Section 7 - Identified Issues row 3",
      "issue": "Documentation states: \"Page refresh while in call | F5 / reload | Call ends immediately | ‚ö†Ô∏è | No grace period for active calls\". While idle agents get a 10-second grace period on refresh (via `pendingDisconnects` map), agents in active calls do not. An accidental F5 or browser refresh terminates the call instantly. The doc references \"Q-1202-004\" for adding call recovery grace period.",
      "suggested_fix": "Add call recovery grace period similar to the existing 10-second disconnect grace for idle agents. Allow brief reconnection window for in-call state.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add call recovery grace period similar to the existing 10-second disconnect grace for idle agents. Allow brief reconnection window for in-call state.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-276",
      "feature": "Bullpen & Agent States",
      "category": "A-bullpen-states",
      "title": "Screen Reader Status Changes Not Announced",
      "severity": "medium",
      "location": "Section 5 - Accessibility",
      "issue": "Documentation explicitly flags \"‚ö†Ô∏è Screen reader support: Status changes not announced\". When agent status changes (idle‚Üíaway, away‚Üíidle, etc.), the change is not announced to screen reader users, making the application less accessible for visually impaired agents.",
      "suggested_fix": "Add ARIA live regions for status changes. Use `aria-live=\"polite\"` to announce status transitions to assistive technology users.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add ARIA live regions for status changes. Use `aria-live=\"polite\"` to announce status transitions to assistive technology users.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-277",
      "feature": "Bullpen & Agent States",
      "category": "A-bullpen-states",
      "title": "Staleness Check Has O(n) Performance Concern",
      "severity": "low",
      "location": "Section 6 - Technical Concerns, Performance",
      "issue": "Documentation notes \"‚ö†Ô∏è Staleness check runs every 60s on server - linear scan of agents map\". For large organizations with many agents, this linear scan every 60 seconds could become a performance bottleneck. The check iterates through all agents to find those with stale heartbeats.",
      "suggested_fix": "Consider using a sorted data structure (heap/priority queue) based on `lastActivityAt` timestamp, allowing O(log n) staleness detection. Alternatively, document acceptable scale limits.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Consider using a sorted data structure (heap/priority queue) based on `lastActivityAt` timestamp, allowing O(log n) staleness detection. Alternatively, document acceptable scale limits.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-278",
      "feature": "Bullpen & Agent States",
      "category": "A-bullpen-states",
      "title": "Worker Fallback May Throttle in Background",
      "severity": "low",
      "location": "Section 6 - Technical Concerns, Reliability",
      "issue": "Documentation states \"‚ö†Ô∏è If worker terminates unexpectedly, falls back to setTimeout (may throttle)\". If the Web Worker for idle/heartbeat detection crashes, the fallback to setTimeout is subject to Chrome's background tab throttling, potentially causing missed staleness detection or delayed auto-away.",
      "suggested_fix": "Add worker health monitoring and automatic restart on failure. Consider using SharedWorker for better reliability, or document this as a known limitation with recommended browser settings.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add worker health monitoring and automatic restart on failure. Consider using SharedWorker for better reliability, or document this as a known limitation with recommended browser settings.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-279",
      "feature": "Bullpen & Agent States",
      "category": "A-bullpen-states",
      "title": "Multiple Tabs Cause Socket Takeover Without Warning",
      "severity": "medium",
      "location": "Section 4 - Edge Cases #14",
      "issue": "Edge case states: \"Multiple tabs open | Open dashboard in 2 tabs | Second tab takes over socket | ‚ö†Ô∏è | First tab shows disconnected\". When an agent opens the dashboard in a second tab, it silently takes over the socket connection, leaving the first tab in a disconnected state. This can confuse agents who have multiple tabs open.",
      "suggested_fix": "Either prevent second tab from connecting (show \"Already connected in another tab\" message), or implement tab synchronization to keep both tabs aware of the shared state.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Either prevent second tab from connecting (show \"Already connected in another tab\" message), or implement tab synchronization to keep both tabs aware of the shared state.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-280",
      "feature": "Bullpen & Agent States",
      "category": "A-bullpen-states",
      "title": "Idle Timeout Not Configurable Per Organization",
      "severity": "low",
      "location": "Section 10 - Open Questions Q-A1-003",
      "issue": "Open question asks: \"Should the idle timeout be configurable per organization? Currently hardcoded to 5 minutes in `TIMING.AGENT_IDLE_TIMEOUT`.\" Different organizations may have different needs - a sales team might want shorter timeouts (2 min) while a support team might need longer (10 min). Currently all orgs use the same 5-minute timeout.",
      "suggested_fix": "Add organization-level setting for idle timeout. Provide reasonable default (5 min) but allow admin override within bounds (e.g., 1-30 minutes).",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add organization-level setting for idle timeout. Provide reasonable default (5 min) but allow admin override within bounds (e.g., 1-30 minutes).",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-281",
      "feature": "Bullpen & Agent States",
      "category": "A-bullpen-states",
      "title": "State Diagram Shows Ambiguous `in_call` to `offline` Transition",
      "severity": "low",
      "location": "Section 2 - State Machine diagram",
      "issue": "The state diagram shows \"in_call ‚Üí offline: Agent disconnects mid-call\" but doesn't show what happens to the visitor in this case. Does the visitor see an error? Is the call automatically ended? Is there any reconnection attempt? This transition's visitor-side behavior isn't documented in this feature doc.",
      "suggested_fix": "Add clarification for visitor experience when agent disconnects mid-call, or add cross-reference to the relevant visitor/platform feature doc that covers this scenario.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add clarification for visitor experience when agent disconnects mid-call, or add cross-reference to the relevant visitor/platform feature doc that covers this scenario.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-282",
      "feature": "Bullpen & Agent States",
      "category": "A-bullpen-states",
      "title": "setAway Retry Fallback Assumes Success",
      "severity": "low",
      "location": "Section 4 - Edge Cases #16, Section 4 - Error States",
      "issue": "Edge case #16 states: \"setAway fails (network) | Emit fails | Retry 3x with exponential backoff | ‚úÖ | Falls back to local state\". Error state also says \"setAway ack timeout... then assume success, Local state updated\". If all 3 retries fail and the system assumes success, the local state shows \"away\" but the server still thinks agent is \"idle\". This state desync could cause visitors to be routed to an agent who thinks they're away.",
      "suggested_fix": "After retry exhaustion, show explicit error state to agent (\"Could not update status - you may still receive calls\") rather than assuming success. Consider periodic state reconciliation on reconnect.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "After retry exhaustion, show explicit error state to agent (\"Could not update status - you may still receive calls\") rather than assuming success. Consider periodic state reconciliation on reconnect.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-283",
      "feature": "Pause Subscription",
      "category": "B-pause-subscription",
      "title": "No Stripe Integration - Billing Continues During Pause",
      "severity": "critical",
      "location": "Section 6 - Known Implementation Gaps, Issue 1",
      "issue": "The `pauseAccount()` and `resumeAccount()` actions update the database but do NOT interact with Stripe. Documentation explicitly states \"Impact: üî¥ High - Customers will still be billed during 'pause'\". Code comments at `actions.ts:127-131` indicate this is TODO. This defeats the core purpose of the pause feature.",
      "suggested_fix": "Implement Stripe `subscription.pause_collection` with `behavior: void` or one of the alternative approaches listed in Open Questions.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "ticketed",
      "ticket_id": "TKT-004",
      "options": [
        {
          "id": "implement_fix",
          "label": "Implement Stripe `subscription.pause_collection` with `behavior: void` or one of the alternative approaches listed in Open Questions.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-284",
      "feature": "Pause Subscription",
      "category": "B-pause-subscription",
      "title": "No Auto-Resume Functionality",
      "severity": "critical",
      "location": "Section 6 - Known Implementation Gaps, Issue 2; Section 2 - State Machine",
      "issue": "There is no cron job, scheduled task, or webhook to automatically resume subscriptions when `pause_ends_at` is reached. State diagram explicitly marks auto-resume as \"(NOT YET IMPLEMENTED)\". The database has an index (`idx_organizations_pause_ends_at`) ready for this query, but no scheduler exists. Subscriptions will stay paused indefinitely.",
      "suggested_fix": "Implement scheduled task using Supabase Edge Function, Railway cron, or Vercel cron as suggested in Open Questions.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "ticketed",
      "ticket_id": "TKT-004",
      "options": [
        {
          "id": "implement_fix",
          "label": "Implement scheduled task using Supabase Edge Function, Railway cron, or Vercel cron as suggested in Open Questions.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-285",
      "feature": "Pause Subscription",
      "category": "B-pause-subscription",
      "title": "Widget Not Disabled During Pause",
      "severity": "high",
      "location": "Section 6 - Known Implementation Gaps, Issue 3; Section 4 - Edge Case #16",
      "issue": "Edge case #16 explicitly states \"Widget visibility during pause | Visitor loads site | **Widget still shows** - server doesn't check pause status | ‚ùå | TODO in code comments\". The VISITOR_JOIN handler in `socket-handlers.ts:97-209` does not check `subscription_status` before assigning agents. Paused organizations can still receive calls, negating the purpose of pausing.",
      "suggested_fix": "Add `subscription_status` check in VISITOR_JOIN handler to reject/hide widget for paused organizations.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "ticketed",
      "ticket_id": "TKT-004",
      "options": [
        {
          "id": "implement_fix",
          "label": "Add `subscription_status` check in VISITOR_JOIN handler to reject/hide widget for paused organizations.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-286",
      "feature": "Pause Subscription",
      "category": "B-pause-subscription",
      "title": "No Email Notifications Implemented",
      "severity": "medium",
      "location": "Section 6 - Known Implementation Gaps, Issue 4; Section 3 - Data Flow",
      "issue": "Code comments in Data Flow section indicate emails should be sent for: (1) Pause confirmation, (2) 7-day reminder before resume, (3) Resume confirmation. None of these are implemented. This creates poor customer communication about their account status.",
      "suggested_fix": "Implement transactional emails for all three notification types using existing email infrastructure.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Implement transactional emails for all three notification types using existing email infrastructure.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-287",
      "feature": "Pause Subscription",
      "category": "B-pause-subscription",
      "title": "Pause Allowed During Trial Period",
      "severity": "medium",
      "location": "Section 4 - Edge Case #8",
      "issue": "Edge case #8 states \"Pause during trial period | Admin pauses while trialing | Allowed - no validation against trial | ‚ö†Ô∏è | May cause billing issues\". No business rule prevents trial users from pausing, which could create confusing billing scenarios when combined with trial-to-paid transitions.",
      "suggested_fix": "Either block pausing during trial, or document explicit behavior for trial pause scenarios. Consider if remaining trial days should be preserved (Open Question #5).",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Either block pausing during trial, or document explicit behavior for trial pause scenarios. Consider if remaining trial days should be preserved (Open Question #5).",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-288",
      "feature": "Pause Subscription",
      "category": "B-pause-subscription",
      "title": "No UI Debounce on Pause Button",
      "severity": "medium",
      "location": "Section 4 - Edge Case #11",
      "issue": "Edge case #11 notes \"Multiple consecutive pause requests | Rapid clicks | Second click proceeds | ‚ö†Ô∏è | No debounce on UI button\". This could lead to duplicate database operations or confusing state if user rapidly clicks the pause button.",
      "suggested_fix": "Add debounce to the \"Pause for X Months\" button or disable button after first click while request is pending.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add debounce to the \"Pause for X Months\" button or disable button after first click while request is pending.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-289",
      "feature": "Pause Subscription",
      "category": "B-pause-subscription",
      "title": "Active Call Behavior During Pause is Unclear",
      "severity": "medium",
      "location": "Section 4 - Edge Case #6; Section 10 - Open Question #2",
      "issue": "Edge case #6 states \"Pause requested during active call | Admin pauses mid-call | Pause proceeds immediately | ‚ö†Ô∏è | Call may continue until ended; widget behavior unclear\". Open Question #2 asks whether active calls should end immediately or complete naturally. There's no defined behavior for this scenario.",
      "suggested_fix": "Define and document explicit behavior: either (a) allow current calls to complete naturally, or (b) gracefully end calls with notification to participants.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Define and document explicit behavior: either (a) allow current calls to complete naturally, or (b) gracefully end calls with notification to participants.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-290",
      "feature": "Pause Subscription",
      "category": "B-pause-subscription",
      "title": "Admin Access Loss Leaves Org Stranded",
      "severity": "medium",
      "location": "Section 4 - Edge Case #13",
      "issue": "Edge case #13 states \"Admin loses access during pause | Admin deleted while paused | Org remains paused, no one can resume | ‚ö†Ô∏è | Edge case; needs platform admin intervention\". If the sole admin is deleted while organization is paused, there's no self-service recovery path.",
      "suggested_fix": "Either prevent deleting the last admin of a paused org, or document clear platform admin intervention process for this scenario.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Either prevent deleting the last admin of a paused org, or document clear platform admin intervention process for this scenario.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-291",
      "feature": "Pause Subscription",
      "category": "B-pause-subscription",
      "title": "Pause Near Billing Cycle End May Still Charge",
      "severity": "medium",
      "location": "Section 4 - Edge Case #9",
      "issue": "Edge case #9 states \"Pause near end of billing cycle | Admin pauses day before renewal | Pause proceeds; Stripe NOT updated | ‚ö†Ô∏è | May still be charged\". Since Stripe integration is missing, pausing right before a billing cycle doesn't prevent the upcoming charge.",
      "suggested_fix": "This will be resolved by implementing Stripe integration (Finding #1), but should be explicitly tested as an edge case.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "This will be resolved by implementing Stripe integration (Finding #1), but should be explicitly tested as an edge case.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-292",
      "feature": "Pause Subscription",
      "category": "B-pause-subscription",
      "title": "Accessibility Not Verified",
      "severity": "medium",
      "location": "Section 5 - Accessibility",
      "issue": "Section 5 lists \"Keyboard navigation: ‚ö†Ô∏è Modal focus trap not verified\" and \"Screen reader support: ‚ö†Ô∏è Not verified; needs aria-labels review\". Core accessibility requirements for the pause modal have not been validated.",
      "suggested_fix": "Verify modal has proper focus trap, aria-labels, and keyboard navigation. Test with screen reader.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Verify modal has proper focus trap, aria-labels, and keyboard navigation. Test with screen reader.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-293",
      "feature": "Pause Subscription",
      "category": "B-pause-subscription",
      "title": "No Rate Limiting on Pause/Resume Actions",
      "severity": "low",
      "location": "Section 6 - Security",
      "issue": "Security table states \"Rate limiting | No explicit rate limit on pause/resume actions\". While the risk is low since only authenticated admins can trigger these, repeated pause/resume could create database churn and confuse audit history.",
      "suggested_fix": "Consider adding basic rate limit (e.g., max 5 pause/resume actions per hour).",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Consider adding basic rate limit (e.g., max 5 pause/resume actions per hour).",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-294",
      "feature": "Pause Subscription",
      "category": "B-pause-subscription",
      "title": "No Agent Notification When Org Paused",
      "severity": "low",
      "location": "Section 10 - Open Question #3",
      "issue": "Open Question #3 asks \"Should agents be notified when org is paused? Currently no notification - agents might not know why they can't log in (if widget disabled).\" If the widget is eventually disabled during pause, agents have no way to know why they suddenly can't receive calls.",
      "suggested_fix": "Send notification to all org agents when pause begins, explaining the pause and expected resume date.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Send notification to all org agents when pause begins, explaining the pause and expected resume date.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-295",
      "feature": "Pause Subscription",
      "category": "B-pause-subscription",
      "title": "No Limit on Number of Pauses",
      "severity": "low",
      "location": "Section 4 - Edge Case #17; Section 7 - Identified Issues",
      "issue": "Edge case #17 states \"Multiple pauses in sequence | Pause ‚Üí Resume ‚Üí Pause | Works, all events logged to history | ‚úÖ | No pause limit enforced\". Section 7 lists this as a Low severity issue with suggestion to \"Consider adding yearly pause limit\". Unlimited pauses could be abused to avoid billing indefinitely.",
      "suggested_fix": "Consider implementing business rule limiting pauses (e.g., max 2 pauses per year, max 6 months total pause time per year).",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Consider implementing business rule limiting pauses (e.g., max 2 pauses per year, max 6 months total pause time per year).",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-296",
      "feature": "Payment Failure",
      "category": "B-payment-failure",
      "title": "TypeScript Type Missing `past_due` Status",
      "severity": "high",
      "location": "Section 7 - Identified Issues, Section 8 - Code References, Section 10 - Open Questions #6",
      "issue": "Documentation explicitly identifies that `packages/domain/src/database.types.ts` line 39 is missing `past_due` in the `SubscriptionStatus` type. The database migration adds `past_due` to the constraint, but the TypeScript type hasn't been updated. This will cause type errors when handling payment failures and could lead to runtime issues.",
      "suggested_fix": "Update `packages/domain/src/database.types.ts` line 39 to: `export type SubscriptionStatus = \"active\" | \"paused\" | \"cancelled\" | \"trialing\" | \"past_due\";`",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "ticketed",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Update `packages/domain/src/database.types.ts` line 39 to: `export type SubscriptionStatus = \"active\" | \"paused\" | \"cancelled\" | \"trialing\" | \"past_due\";`",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-297",
      "feature": "Payment Failure",
      "category": "B-payment-failure",
      "title": "Zero User Feedback on Payment Failure",
      "severity": "critical",
      "location": "Section 5 - UI/UX Review, Section 7 - First Principles Review",
      "issue": "Documentation clearly states that when payment fails: \"Admin unaware of payment issue\", \"No notification, email, or banner\", \"User never knew there was an issue\". Error States table shows all user-facing responses as \"**NOTHING**\". First Principles Review shows 5 out of 6 criteria failed (‚ùå). This is a fundamental UX failure where users have no idea their subscription is at risk.",
      "suggested_fix": "Implement at minimum: (1) Dashboard banner showing past-due status, (2) Email notification on `invoice.payment_failed`, (3) Toast/alert on login when `past_due`.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "ticketed",
      "ticket_id": "TKT-005",
      "options": [
        {
          "id": "implement_fix",
          "label": "Implement at minimum: (1) Dashboard banner showing past-due status, (2) Email notification on `invoice.payment_failed`, (3) Toast/alert on login when `past_due`.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-298",
      "feature": "Payment Failure",
      "category": "B-payment-failure",
      "title": "No Self-Service Payment Method Update",
      "severity": "high",
      "location": "Section 1 - User Goals, Section 4 - Edge Case #7, Section 5 - UI/UX Step 4",
      "issue": "User Goals table shows \"Update payment method | ‚ùå NOT IMPLEMENTED - No self-service flow\". Edge Case #7 is marked ‚ùå incorrect behavior. Users \"Must contact support or use Stripe portal\" but there's no documented path to the Stripe billing portal for customers. This prevents users from recovering from payment failures on their own.",
      "suggested_fix": "Add Stripe Customer Portal integration or implement custom payment method update flow in dashboard settings.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "ticketed",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add Stripe Customer Portal integration or implement custom payment method update flow in dashboard settings.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-299",
      "feature": "Payment Failure",
      "category": "B-payment-failure",
      "title": "Seat Addition During Past-Due May Cause Inconsistency",
      "severity": "high",
      "location": "Section 4 - Edge Case #8, Section 10 - Open Questions #7",
      "issue": "Edge case #8 notes \"seats still added in DB\" when payment fails during seat addition, marked ‚ö†Ô∏è with note \"Seats may be inconsistent with Stripe quantity\". Open Questions #7 confirms this needs investigation. If admin adds seats, payment fails, and seats remain in DB but Stripe has different quantity, billing and access could be inconsistent.",
      "suggested_fix": "Either: (1) Don't add seats to DB until Stripe invoice succeeds, or (2) Implement reconciliation on `invoice.payment_failed` to roll back seat changes.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "skipped",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Either: (1) Don't add seats to DB until Stripe invoice succeeds, or (2) Implement reconciliation on `invoice.payment_failed` to roll back seat changes.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-300",
      "feature": "Payment Failure",
      "category": "B-payment-failure",
      "title": "No Service Restrictions During Past-Due",
      "severity": "medium",
      "location": "Section 4 - Edge Case #9, Section 5 - UI/UX Step 3, Section 10 - Open Questions #3",
      "issue": "Edge Case #9 shows service access during `past_due` provides \"Full access continues\" marked ‚ö†Ô∏è. UI/UX Step 3 shows adding seats \"Works normally\" with note \"Should probably be blocked\". Open Questions #3 lists three options but no decision. The documentation itself suggests current behavior is incorrect but no specification exists for what restrictions should apply.",
      "suggested_fix": "Define policy for past-due restrictions (e.g., block seat additions, show warning on widget, etc.) and implement.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Define policy for past-due restrictions (e.g., block seat additions, show warning on widget, etc.) and implement.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-301",
      "feature": "Payment Failure",
      "category": "B-payment-failure",
      "title": "Undefined Grace Period",
      "severity": "medium",
      "location": "Section 10 - Open Questions #2",
      "issue": "Open Questions #2 asks \"What is the intended grace period?\" and states \"Not defined. Currently no restrictions during `past_due` at all.\" Without a defined grace period, there's no clear policy on when (or if) service should be degraded or terminated for non-payment.",
      "suggested_fix": "Define business policy for grace period (e.g., 7 days full access, then warning-only mode, then widget disabled after 14 days).",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Define business policy for grace period (e.g., 7 days full access, then warning-only mode, then widget disabled after 14 days).",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-302",
      "feature": "Payment Failure",
      "category": "B-payment-failure",
      "title": "Edge Case: Payment Succeeds After Cancellation Not Handled",
      "severity": "medium",
      "location": "Section 4 - Edge Case #14",
      "issue": "Edge case #14 \"Subscription cancelled then payment succeeds\" shows current behavior as \"Depends on timing\" and is marked ‚ö†Ô∏è with note \"Edge case not explicitly handled\". If `invoice.paid` arrives after `subscription.deleted`, the final subscription state could be incorrect. This is a race condition.",
      "suggested_fix": "Add explicit handling: if subscription is already `cancelled` when `invoice.paid` arrives, either ignore the payment event or log it for manual review.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add explicit handling: if subscription is already `cancelled` when `invoice.paid` arrives, either ignore the payment event or log it for manual review.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-303",
      "feature": "Payment Failure",
      "category": "B-payment-failure",
      "title": "Related Features Reference Non-Existent Documentation",
      "severity": "low",
      "location": "Section 9 - Related Features",
      "issue": "Section 9 references three related feature docs that don't exist: `subscription-creation.md` (NOT YET DOCUMENTED), `subscription-cancellation.md` (NOT YET DOCUMENTED), `account-pause.md` (NOT YET DOCUMENTED). This creates broken cross-references and prevents understanding the full billing lifecycle.",
      "suggested_fix": "Either create these documentation files or update references to point to existing billing docs (e.g., `cancel-subscription.md`, `pause-subscription.md`).",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Either create these documentation files or update references to point to existing billing docs (e.g., `cancel-subscription.md`, `pause-subscription.md`).",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-304",
      "feature": "Payment Failure",
      "category": "B-payment-failure",
      "title": "No Dunning Email Strategy Defined",
      "severity": "medium",
      "location": "Section 7 - Identified Issues, Section 10 - Open Questions #4",
      "issue": "Identified Issues lists \"No dunning emails\" as üî¥ High severity. Open Questions #4 asks \"Should we send emails or rely on Stripe emails?\" with note that Stripe can send automated emails. No decision is documented on whether to supplement with custom dunning sequence. This leaves a critical communication gap undefined.",
      "suggested_fix": "Document decision: (A) Enable Stripe's built-in dunning emails, or (B) Implement custom email sequence, or (C) Use both. If custom, specify timing (e.g., immediate, day 3, day 7).",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Document decision: (A) Enable Stripe's built-in dunning emails, or (B) Implement custom email sequence, or (C) Use both. If custom, specify timing (e.g., immediate, day 3, day 7).",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-305",
      "feature": "Payment Failure",
      "category": "B-payment-failure",
      "title": "Missing Migration File Reference",
      "severity": "low",
      "location": "Section 8 - Code References",
      "issue": "Code References table lists migration file as `supabase/migrations/20251204200000_expand_subscription_status.sql` with date \"20251204\" (Dec 4, 2025). However, current date is Dec 3, 2025, meaning this migration hasn't been created yet or the filename/date is incorrect.",
      "suggested_fix": "Verify migration file exists and update reference if filename differs.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Verify migration file exists and update reference if filename differs.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-306",
      "feature": "Agent Assignment Algorithm",
      "category": "P-agent-assignment",
      "title": "reassignVisitors() Bypasses Pool-Based Routing",
      "severity": "medium",
      "location": "Section 6 - Technical Concerns, Section 7 - Identified Issues, Section 8 - Code References (lines 767-806)",
      "issue": "Documentation explicitly identifies this issue: \"reassignVisitors() calls findBestAgent() with no poolId, which bypasses pool-based routing. This means a visitor originally matched to 'Sales Pool' could be reassigned to an agent in 'Support Pool'.\" The code excerpt in Section 6 confirms `this.findBestAgent()` is called without any pool context.",
      "suggested_fix": "Pass visitor's `orgId` + `pageUrl` and use `findBestAgentForVisitor()` instead of `findBestAgent()` during reassignment. Alternatively, store `matchedPoolId` on the visitor and use that during reassignment.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Pass visitor's `orgId` + `pageUrl` and use `findBestAgentForVisitor()` instead of `findBestAgent()` during reassignment. Alternatively, store `matchedPoolId` on the visitor and use that during reassignment.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-307",
      "feature": "Agent Assignment Algorithm",
      "category": "P-agent-assignment",
      "title": "No Default Pool Falls Back to Any Agent (Wrong Pool Risk)",
      "severity": "medium",
      "location": "Section 4 - Edge Case #13",
      "issue": "Edge case table marks this with ‚ö†Ô∏è: \"No default pool configured | Org has no default pool | Falls back to any agent (poolId=null) | ‚ö†Ô∏è | May route to wrong pool\". When an organization hasn't configured a default pool and no routing rules match, visitors are routed to any available agent regardless of pool assignment, defeating the purpose of pool-based specialization.",
      "suggested_fix": "Require default pool configuration during org setup, or show admin warning when routing rules exist but no default pool is set. At minimum, emit a warning event when this fallback occurs for monitoring.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Require default pool configuration during org setup, or show admin warning when routing rules exist but no default pool is set. At minimum, emit a warning event when this fallback occurs for monitoring.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-308",
      "feature": "Agent Assignment Algorithm",
      "category": "P-agent-assignment",
      "title": "Ambiguous Away-Agent Fallback Behavior",
      "severity": "medium",
      "location": "Section 10 - Open Questions #2",
      "issue": "Documentation asks: \"What's the intended behavior when all Tier 1 agents are 'away' but have capacity? Currently they're skipped. Should they be included as last resort before Tier 2?\" This creates ambiguity: an admin might expect that an \"away\" senior agent with capacity would still receive overflow rather than routing to a junior agent in Tier 2.",
      "suggested_fix": "Document the design decision explicitly. If \"away\" always skips regardless of tier, document this as intentional. If overflow should include away agents, implement and document that behavior with clear admin guidance.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Document the design decision explicitly. If \"away\" always skips regardless of tier, document this as intentional. If overflow should include away agents, implement and document that behavior with clear admin guidance.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-309",
      "feature": "Agent Assignment Algorithm",
      "category": "P-agent-assignment",
      "title": "Global Round-Robin May Cause Uneven Per-Pool Distribution",
      "severity": "medium",
      "location": "Section 10 - Open Questions #4",
      "issue": "Documentation notes: \"Should round-robin track per-pool or globally? Currently it's global (lastAssignmentOrder is per-agent, not per-pool). Agent in multiple pools gets same order everywhere.\" An agent in both Sales and Support pools who just received a Sales call will be deprioritized in Support, even if they haven't received a Support call in hours.",
      "suggested_fix": "Consider implementing per-pool assignment tracking for agents in multiple pools, or document this as intentional behavior with rationale (e.g., \"global tracking ensures overall workload balance across all pools\").",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Consider implementing per-pool assignment tracking for agents in multiple pools, or document this as intentional behavior with rationale (e.g., \"global tracking ensures overall workload balance across all pools\").",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-310",
      "feature": "Agent Assignment Algorithm",
      "category": "P-agent-assignment",
      "title": "No Tiebreaker for Identical Assignment Order",
      "severity": "low",
      "location": "Section 7 - Identified Issues row 2",
      "issue": "Documentation explicitly flags: \"No tiebreaker for same-order agents | Arbitrary selection if two agents have identical assignment order | üü¢ LOW\". This could occur when two agents are initialized simultaneously or haven't received assignments. The selection becomes non-deterministic.",
      "suggested_fix": "Add secondary tiebreaker as suggested (e.g., agentId string comparison) to ensure deterministic selection for testing and debugging.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add secondary tiebreaker as suggested (e.g., agentId string comparison) to ensure deterministic selection for testing and debugging.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-311",
      "feature": "Agent Assignment Algorithm",
      "category": "P-agent-assignment",
      "title": "maxSimultaneousSimulations Hardcoded to 25",
      "severity": "low",
      "location": "Section 7 - Identified Issues row 3",
      "issue": "Documentation identifies: \"maxSimultaneousSimulations hardcoded to 25 | Can't customize per org/agent | üü¢ LOW\". Different organizations may have different capacity requirements - a call center might want 5, while a self-service demo page might want 50.",
      "suggested_fix": "Make this configurable at the organization level (with reasonable bounds, e.g., 1-100), and optionally per-agent for specialized roles.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Make this configurable at the organization level (with reasonable bounds, e.g., 1-100), and optionally per-agent for specialized roles.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-312",
      "feature": "Agent Assignment Algorithm",
      "category": "P-agent-assignment",
      "title": "No Maximum Tier Count Documented for Admin UI",
      "severity": "low",
      "location": "Section 10 - Open Questions #3",
      "issue": "Documentation asks: \"Is there a maximum number of tiers supported? Code handles any number, but is there a UX limit in the admin UI?\" If admins can create unlimited tiers, the UI may become unwieldy and the routing logic harder to reason about.",
      "suggested_fix": "Document recommended tier limits (e.g., 3-5 tiers) in admin help text. Consider soft validation in UI with warning if exceeding recommended maximum.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Document recommended tier limits (e.g., 3-5 tiers) in admin help text. Consider soft validation in UI with warning if exceeding recommended maximum.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-313",
      "feature": "Agent Assignment Algorithm",
      "category": "P-agent-assignment",
      "title": "Server Restart Requires Full Visitor Reconnection",
      "severity": "low",
      "location": "Section 6 - Reliability",
      "issue": "Documentation notes: \"Server restart: Visitors must reconnect, re-trigger assignment.\" This means a server deploy or restart interrupts all active visitor sessions and requires full re-assignment. For a production system with continuous deploys, this could cause visitor experience degradation.",
      "suggested_fix": "Consider implementing Redis-backed state persistence or a graceful handoff mechanism during restarts. At minimum, document expected frequency of restarts and impact on visitor experience.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Consider implementing Redis-backed state persistence or a graceful handoff mechanism during restarts. At minimum, document expected frequency of restarts and impact on visitor experience.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-314",
      "feature": "Agent Assignment Algorithm",
      "category": "P-agent-assignment",
      "title": "Agent Disconnect Grace Period May Cause Brief Agent Unavailability",
      "severity": "low",
      "location": "Section 4 - Edge Case #10",
      "issue": "Edge case shows: \"Agent disconnects right after selection | Socket disconnects post-assignment | 10s grace period, then reassign | ‚úÖ\". While marked as correct, during the 10-second grace period, the visitor is assigned to an unreachable agent. If the visitor tries to initiate a call during this window, the experience may be confusing.",
      "suggested_fix": "Consider emitting a \"connecting to agent\" or \"waiting for agent\" state to the visitor during the grace period rather than showing the agent as fully available.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Consider emitting a \"connecting to agent\" or \"waiting for agent\" state to the visitor during the grace period rather than showing the agent as fully available.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-315",
      "feature": "Cancel Subscription",
      "category": "B-cancel-subscription",
      "title": "Stripe Subscription Not Actually Cancelled",
      "severity": "critical",
      "location": "Section 6 - Technical Concerns > Potential Issues Found > Issue 1",
      "issue": "The document explicitly states that the code contains TODO comments and does NOT call Stripe API to cancel subscriptions. Current behavior only downgrades plan to \"free\" while Stripe subscription may continue billing. Quote: \"Current behavior: Only downgrades plan to 'free', does NOT call Stripe API. Impact: Stripe subscription may continue billing.\"",
      "suggested_fix": "Implement Stripe API call to cancel the subscription before/after downgrading the plan. This should be the highest priority fix as it causes financial harm to customers.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "ticketed",
      "ticket_id": "TKT-002",
      "options": [
        {
          "id": "implement_fix",
          "label": "Implement Stripe API call to cancel the subscription before/after downgrading the plan. This should be the highest priority fix as it causes financial harm to customers.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-316",
      "feature": "Cancel Subscription",
      "category": "B-cancel-subscription",
      "title": "Data Deletion Claims Are Misleading",
      "severity": "critical",
      "location": "Section 6 - Technical Concerns > Potential Issues Found > Issue 2",
      "issue": "The UI shows a deletion warning listing \"All call recordings\", \"Call logs & history\", \"Analytics & stats\", \"Agent configurations\", and \"Routing rules\" as being permanently deleted. However, actual behavior just sets plan to \"free\" with no data deletion occurring. This is a trust issue and potential compliance concern.",
      "suggested_fix": "Either implement actual data deletion with appropriate scheduling/retention, OR update the UI copy to accurately reflect that data is retained but access is limited.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "ticketed",
      "ticket_id": "TKT-003",
      "options": [
        {
          "id": "implement_fix",
          "label": "Either implement actual data deletion with appropriate scheduling/retention, OR update the UI copy to accurately reflect that data is retained but access is limited.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-317",
      "feature": "Cancel Subscription",
      "category": "B-cancel-subscription",
      "title": "No Grace Period Implementation",
      "severity": "high",
      "location": "Section 6 - Technical Concerns > Potential Issues Found > Issue 4",
      "issue": "The UI mentions \"access continues until end of billing period\" but there is no implementation: no `subscription_ends_at` field tracked, no access gating based on billing period end, and immediate downgrade to \"free\" plan occurs. Users expect to retain access until their paid period ends.",
      "suggested_fix": "Track `subscription_ends_at`, schedule the actual downgrade for end of billing period, and gate access appropriately during the grace period.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Track `subscription_ends_at`, schedule the actual downgrade for end of billing period, and gate access appropriately during the grace period.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-318",
      "feature": "Cancel Subscription",
      "category": "B-cancel-subscription",
      "title": "No Confirmation Email Sent",
      "severity": "medium",
      "location": "Section 6 - Technical Concerns > Potential Issues Found > Issue 3",
      "issue": "Document explicitly notes \"No cancellation confirmation email\" is sent. This is poor UX and may cause confusion, especially since users may want a receipt/confirmation for their records and to verify the action completed.",
      "suggested_fix": "Implement email notification for cancellation confirmation including: confirmation message, effective date, data retention policy, and reactivation instructions.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Implement email notification for cancellation confirmation including: confirmation message, effective date, data retention policy, and reactivation instructions.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-319",
      "feature": "Cancel Subscription",
      "category": "B-cancel-subscription",
      "title": "Agents Not Notified on Cancellation",
      "severity": "medium",
      "location": "Section 6 - Technical Concerns > Potential Issues Found > Issue 3; Section 4 Edge Case #15",
      "issue": "When an organization cancels, agents receive no notification and are not logged out. Edge Case #15 states \"Agents not notified/logged out\" with ‚ö†Ô∏è flag. The Identified Issues table also notes: \"Agents confused when widget stops.\"",
      "suggested_fix": "Implement agent notification (email or in-app) when organization is cancelled, and gracefully terminate agent sessions.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Implement agent notification (email or in-app) when organization is cancelled, and gracefully terminate agent sessions.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-320",
      "feature": "Cancel Subscription",
      "category": "B-cancel-subscription",
      "title": "Plan Update May Fail Silently",
      "severity": "medium",
      "location": "Section 4 - Edge Cases > Error States table",
      "issue": "The Error States table shows that when \"Plan update fails\" on DB error, it is \"Logged but not thrown\". This means feedback is saved but the plan update could fail silently, leaving the user believing they cancelled but still being charged.",
      "suggested_fix": "Make the plan update transactional with feedback save, or ensure explicit error handling and user notification if plan update fails.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Make the plan update transactional with feedback save, or ensure explicit error handling and user notification if plan update fails.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-321",
      "feature": "Cancel Subscription",
      "category": "B-cancel-subscription",
      "title": "In-Progress Calls Not Handled",
      "severity": "medium",
      "location": "Section 10 - Open Questions #7",
      "issue": "Open question asks \"What happens to in-progress calls during cancellation?\" but no handling is documented. If an admin cancels while an agent is mid-call, behavior is undefined. This could cause abrupt disconnection and poor visitor experience.",
      "suggested_fix": "Document expected behavior (e.g., allow active calls to complete, then apply cancellation) and implement appropriate guards.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Document expected behavior (e.g., allow active calls to complete, then apply cancellation) and implement appropriate guards.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-322",
      "feature": "Cancel Subscription",
      "category": "B-cancel-subscription",
      "title": "No Proration or Refund Logic",
      "severity": "medium",
      "location": "Section 10 - Open Questions #3",
      "issue": "Open question notes code doesn't handle: mid-period cancellations, unused time credits, or annual plan partial refunds. This creates unclear expectations about what happens to already-paid funds.",
      "suggested_fix": "Define and document refund policy. Implement Stripe proration API integration if partial refunds are to be offered.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Define and document refund policy. Implement Stripe proration API integration if partial refunds are to be offered.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-323",
      "feature": "Cancel Subscription",
      "category": "B-cancel-subscription",
      "title": "Accessibility Not Tested",
      "severity": "medium",
      "location": "Section 5 - UI/UX Review > Accessibility",
      "issue": "Document explicitly notes keyboard navigation, screen reader support, and focus management in modals are \"‚ö†Ô∏è Not explicitly tested\". For a critical destructive action like cancellation, accessibility is important to ensure all users can complete the flow.",
      "suggested_fix": "Perform accessibility audit on cancel flow: verify keyboard navigation, screen reader announcements for step changes and warnings, and proper focus trapping in modals.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Perform accessibility audit on cancel flow: verify keyboard navigation, screen reader announcements for step changes and warnings, and proper focus trapping in modals.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-324",
      "feature": "Cancel Subscription",
      "category": "B-cancel-subscription",
      "title": "Trial Cancellation Has No Special Handling",
      "severity": "medium",
      "location": "Section 4 - Edge Cases #8",
      "issue": "Edge Case #8 shows \"Cancel during trial\" scenario with ‚ö†Ô∏è flag, noting \"No special trial handling visible\". Trial users may have different expectations (e.g., immediate cancellation with no data, no billing impact).",
      "suggested_fix": "Define and implement trial-specific cancellation behavior, potentially with simplified flow since no billing is involved.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Define and implement trial-specific cancellation behavior, potentially with simplified flow since no billing is involved.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-325",
      "feature": "Cancel Subscription",
      "category": "B-cancel-subscription",
      "title": "Pause Modal May Confuse Users",
      "severity": "low",
      "location": "Section 5 - UI/UX Review > Pause Modal Flow Step 1; Section 7 - First Principles Review",
      "issue": "When user clicks \"Cancel Subscription\", a Pause Modal appears first (not a cancel modal). Document notes this \"May confuse users expecting cancel flow\" and is marked with ‚ö†Ô∏è. The First Principles Review also flags \"Pause downsell first may confuse.\"",
      "suggested_fix": "Consider A/B testing flow order, or add clear messaging in pause modal that this is an alternative to cancellation.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Consider A/B testing flow order, or add clear messaging in pause modal that this is an alternative to cancellation.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-326",
      "feature": "Cancel Subscription",
      "category": "B-cancel-subscription",
      "title": "Partial Input Lost on Modal Re-open",
      "severity": "low",
      "location": "Section 4 - Edge Cases #14",
      "issue": "Edge Case #14 notes that if a user encounters an error and re-opens the cancel modal, they get a \"Fresh state, no pre-filled data\" with ‚ö†Ô∏è flag. This means users must re-enter all feedback if submission fails.",
      "suggested_fix": "Preserve partial form input in component state or localStorage so users can resume after an error without re-entering all information.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Preserve partial form input in component state or localStorage so users can resume after an error without re-entering all information.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-327",
      "feature": "Cancel Subscription",
      "category": "B-cancel-subscription",
      "title": "Free Plan Capabilities Not Defined",
      "severity": "low",
      "location": "Section 10 - Open Questions #4",
      "issue": "Open question asks \"Should cancelled users retain read-only access? Current behavior is unclear on what 'free' plan includes.\" Users cancelling don't know what access they'll have post-cancellation.",
      "suggested_fix": "Document and communicate what the \"free\" plan includes (e.g., read-only access to historical data, no agent functionality, etc.) and display this in the cancellation confirmation screen.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Document and communicate what the \"free\" plan includes (e.g., read-only access to historical data, no agent functionality, etc.) and display this in the cancellation confirmation screen.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-328",
      "feature": "Cancel Subscription",
      "category": "B-cancel-subscription",
      "title": "GDPR Compliance Gap for Feedback Data",
      "severity": "low",
      "location": "Section 10 - Open Questions #8",
      "issue": "Open question notes: \"Should cancellation feedback be anonymizable? For GDPR compliance, might need to handle user_id in feedback after full account deletion.\" If a user requests full data deletion under GDPR, the feedback record with user_id may need special handling.",
      "suggested_fix": "Implement feedback anonymization process that can strip user_id while retaining aggregated analytics value. Document data retention policy for cancellation feedback.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Implement feedback anonymization process that can strip user_id while retaining aggregated analytics value. Document data retention policy for cancellation feedback.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-329",
      "feature": "B2B Retargeting Pixel",
      "category": "SA-retargeting-analytics",
      "title": "Silent Toggle Failure with No User Feedback",
      "severity": "high",
      "location": "Section 4 - Edge Cases, Row #13; Section 4 - Error States, \"Org toggle failure\"",
      "issue": "When an org toggle fails due to network error, the documentation states: \"Error logged, UI not updated\" (‚ö†Ô∏è flagged) and Error States shows \"Toggle reverts (silently)\". The admin has no indication the toggle failed - they believe the org is enabled for B2B tracking when it's not, leading to missed retargeting events.",
      "suggested_fix": "Show error toast when org toggle fails and ensure UI reflects actual state. Consider optimistic UI with rollback + error notification.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "ticketed",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Show error toast when org toggle fails and ensure UI reflects actual state. Consider optimistic UI with rollback + error notification.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-330",
      "feature": "B2B Retargeting Pixel",
      "category": "SA-retargeting-analytics",
      "title": "No Way to Verify Events Are Firing",
      "severity": "medium",
      "location": "Section 7 - Identified Issues, Row 2; Section 10 - Open Questions #3, #7",
      "issue": "Multiple places flag this concern: \"Admin can't verify events firing\" (üü° Medium), \"Is there a test event flow in the UI? Test Event Code field exists but no 'send test' button\", and \"How are events verified working? Admin must manually check FB Events Manager\". This creates a poor admin experience and debugging difficulty.",
      "suggested_fix": "Add a \"Send Test Event\" button next to the Test Event Code field that fires a test event and shows confirmation (or error) inline.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add a \"Send Test Event\" button next to the Test Event Code field that fires a test event and shows confirmation (or error) inline.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-331",
      "feature": "B2B Retargeting Pixel",
      "category": "SA-retargeting-analytics",
      "title": "Silent CAPI Failures with No Monitoring",
      "severity": "medium",
      "location": "Section 7 - Identified Issues, Row 5; Section 4 - Error States, \"CAPI request failed\"",
      "issue": "Document flags \"Silent CAPI failures - Events may not fire without notice\" (üü° Medium) and Error States shows \"CAPI request failed\" results in \"Nothing (server-side)\". The platform has no visibility into whether events are successfully reaching Facebook, meaning retargeting campaigns could be ineffective without anyone knowing.",
      "suggested_fix": "Add error monitoring/alerting for CAPI failures. Consider logging event success rates to a dashboard or Sentry.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add error monitoring/alerting for CAPI failures. Consider logging event success rates to a dashboard or Sentry.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-332",
      "feature": "B2B Retargeting Pixel",
      "category": "SA-retargeting-analytics",
      "title": "No Retry Logic for Failed Events",
      "severity": "medium",
      "location": "Section 7 - Identified Issues, Row 6; Section 6 - Reliability",
      "issue": "Document explicitly flags \"No retry logic - Failed events are lost\" (üü° Medium). Reliability section confirms \"Events skip, no retries\" for database unavailable scenario. This means transient network issues or Facebook API hiccups cause permanent loss of retargeting data.",
      "suggested_fix": "Implement a simple queue/retry mechanism for failed CAPI events, at minimum for transient failures (5xx errors, timeouts).",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Implement a simple queue/retry mechanism for failed CAPI events, at minimum for transient failures (5xx errors, timeouts).",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-333",
      "feature": "B2B Retargeting Pixel",
      "category": "SA-retargeting-analytics",
      "title": "Cache Delay After Settings Change",
      "severity": "low",
      "location": "Section 4 - Edge Cases, Row #15; Section 7 - Identified Issues, Row 3; Section 10 - Open Questions #5, #6",
      "issue": "Multiple flags: Edge Case #15 shows \"Old settings used (up to 5min)\" (‚ö†Ô∏è), Identified Issues flags \"Cache delay after changes\" (üü¢ Low), and Open Questions ask \"Should cache be invalidated on save?\" and \"Is `clearRetargetingCaches()` exposed anywhere? Function exists but not used in UI.\" Admin makes changes but they don't take effect for 5 minutes.",
      "suggested_fix": "Add cache clear endpoint callable on settings save, or expose clearRetargetingCaches() via API and call it when saving pixel settings.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add cache clear endpoint callable on settings save, or expose clearRetargetingCaches() via API and call it when saving pixel settings.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-334",
      "feature": "B2B Retargeting Pixel",
      "category": "SA-retargeting-analytics",
      "title": "Potential Rate Limiting at Scale",
      "severity": "medium",
      "location": "Section 4 - Edge Cases, Row #14; Section 4 - Error States, \"Rate limiting\"; Section 10 - Open Questions #4",
      "issue": "Edge Case #14 shows \"Very high traffic org - Events fire serially\" (‚ö†Ô∏è), Error States shows rate limiting causes \"Some events dropped\", and Open Question asks \"What happens at scale? Facebook rate limits could affect high-volume orgs\". No mitigation or monitoring for rate limits exists.",
      "suggested_fix": "Document Facebook rate limits, add monitoring for 429 responses, consider batching events for high-traffic orgs.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Document Facebook rate limits, add monitoring for 429 responses, consider batching events for high-traffic orgs.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-335",
      "feature": "B2B Retargeting Pixel",
      "category": "SA-retargeting-analytics",
      "title": "No Pagination for Organizations Table",
      "severity": "low",
      "location": "Section 6 - Performance, Row 4; Section 7 - Identified Issues, Row 4",
      "issue": "Performance section shows \"Large org list rendering - All orgs loaded at once\" (‚ö†Ô∏è) and Identified Issues flags \"No pagination for orgs - Could slow on 1000+ orgs\" (üü¢ Low). As the platform grows, this page will become slow and unusable.",
      "suggested_fix": "Implement server-side pagination with page size of ~50 orgs, add loading states for table.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Implement server-side pagination with page size of ~50 orgs, add loading states for table.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-336",
      "feature": "B2B Retargeting Pixel",
      "category": "SA-retargeting-analytics",
      "title": "Missing Call Site Documentation",
      "severity": "medium",
      "location": "Section 10 - Open Questions #1, #2",
      "issue": "Open Questions explicitly ask: \"Where exactly is `trackWidgetView` called? - Need to trace call site in widget/server code\" and \"Where exactly is `trackCallStarted` called? - Need to trace call site in signaling handlers\". The documentation describes these functions but doesn't document where they're actually invoked, making it hard to understand the full event flow.",
      "suggested_fix": "Trace and document the exact call sites - likely in widget lifecycle handlers and call signaling handlers. Add references in Section 9 (Related Features).",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Trace and document the exact call sites - likely in widget lifecycle handlers and call signaling handlers. Add references in Section 9 (Related Features).",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-337",
      "feature": "B2B Retargeting Pixel",
      "category": "SA-retargeting-analytics",
      "title": "Keyboard Navigation Not Verified",
      "severity": "low",
      "location": "Section 5 - Accessibility",
      "issue": "Accessibility section notes \"Keyboard navigation: ‚ö†Ô∏è Not verified (toggle buttons may need focus states)\". Toggle buttons are critical UI elements in this feature; if they're not keyboard accessible, platform admins using keyboard navigation cannot enable/disable org retargeting.",
      "suggested_fix": "Test and verify keyboard navigation works for all toggles, add visible focus states if missing.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Test and verify keyboard navigation works for all toggles, add visible focus states if missing.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-338",
      "feature": "B2B Retargeting Pixel",
      "category": "SA-retargeting-analytics",
      "title": "Feedback for Event Firing is Invisible",
      "severity": "low",
      "location": "Section 7 - First Principles Review #3, #5",
      "issue": "First Principles Review flags: \"Is feedback immediate? ‚ö†Ô∏è Partial - Save shows success, but event firing is invisible\" and \"Are errors recoverable? ‚ö†Ô∏è Partial - Save errors shown, but CAPI errors silent\". Admins have no visibility into whether their configuration is actually working.",
      "suggested_fix": "Consider adding a \"Recent Events\" mini-dashboard or status indicator showing last successful event timestamp.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Consider adding a \"Recent Events\" mini-dashboard or status indicator showing last successful event timestamp.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-339",
      "feature": "B2B Retargeting Pixel",
      "category": "SA-retargeting-analytics",
      "title": "Server-Side Data Fetch Could Be Optimized",
      "severity": "low",
      "location": "Section 6 - Performance, Row 3",
      "issue": "Performance section shows \"Server-side data fetch - Parallel queries for orgs, calls, pageviews\" (‚ö†Ô∏è Could be optimized). While queries run in parallel, there may be opportunity for query optimization or caching at the page level.",
      "suggested_fix": "Profile queries to identify bottlenecks; consider denormalizing pageview/call counts or caching aggregated data.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Profile queries to identify bottlenecks; consider denormalizing pageview/call counts or caching aggregated data.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-340",
      "feature": "B2B Retargeting Pixel",
      "category": "SA-retargeting-analytics",
      "title": "Event Volume Monitoring Not Available",
      "severity": "low",
      "location": "Section 10 - Open Questions #8",
      "issue": "Open Question asks \"Should there be event volume monitoring? - No visibility into event success rates.\" The platform has no internal view of how many events are being sent, success rates, or trends - all must be checked in Facebook Events Manager.",
      "suggested_fix": "Add basic event counters/logging that can be viewed in platform dashboard (even if FB Events Manager remains the source of truth for detailed analytics).",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add basic event counters/logging that can be viewed in platform dashboard (even if FB Events Manager remains the source of truth for detailed analytics).",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-341",
      "feature": "Cancellations Dashboard",
      "category": "SA-cancellations-dashboard",
      "title": "Churn Rate Uses ALL Cancellations Instead of Filtered",
      "severity": "medium",
      "location": "Section 7 - Identified Issues, Section 10 - Open Questions #1",
      "issue": "Documentation explicitly identifies: \"Churn rate uses ALL cancellations | Not filtered by date | üü° Medium | Should use filtered count for consistency\". Open Question #1 also asks: \"Should the churn rate use filtered cancellations? Currently uses ALL cancellations divided by total orgs, even when date filter is applied. This could be confusing.\" This creates misleading metrics - if admin filters to last 7 days, they expect churn rate to reflect that period, not all-time.",
      "suggested_fix": "Calculate churn rate using `filteredCancellations.length / totalOrganizations * 100` to maintain consistency with the selected date range. Alternatively, clearly label the metric as \"All-Time Churn Rate\" vs \"Period Churn Rate\".",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Calculate churn rate using `filteredCancellations.length / totalOrganizations * 100` to maintain consistency with the selected date range. Alternatively, clearly label the metric as \"All-Time Churn Rate\" vs \"Period Churn Rate\".",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-342",
      "feature": "Cancellations Dashboard",
      "category": "SA-cancellations-dashboard",
      "title": "No Pagination on List View for High Volume",
      "severity": "medium",
      "location": "Section 4 - Edge Case #5, Section 7 - Identified Issues, Section 10 - Open Questions #3",
      "issue": "Documentation flags three times: Edge case #5 shows \"Very high cancellation volume | Many cancellations | All rendered in list view | ‚ö†Ô∏è | No pagination implemented\". Identified Issues lists \"No pagination on list view | Slow with many cancellations | üü° Medium\". Open Question #3 asks: \"Should there be pagination?\" With hundreds or thousands of cancellations, the list view will become unresponsive.",
      "suggested_fix": "Implement virtual scrolling (e.g., react-window or Tanstack Virtual) or server-side pagination with cursor-based navigation. Consider 50-100 items per page default.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Implement virtual scrolling (e.g., react-window or Tanstack Virtual) or server-side pagination with cursor-based navigation. Consider 50-100 items per page default.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-343",
      "feature": "Cancellations Dashboard",
      "category": "SA-cancellations-dashboard",
      "title": "Keyboard Navigation Not Accessible",
      "severity": "high",
      "location": "Section 5 - Accessibility",
      "issue": "Documentation states: \"Keyboard navigation: ‚ö†Ô∏è Tab buttons are not keyboard-focusable\". This means users who rely on keyboard navigation (including screen reader users and those with motor impairments) cannot switch between the four view modes (Overview, Responses, Cohorts, All Cancellations). This is an accessibility compliance issue.",
      "suggested_fix": "Use proper `<button>` elements or add `tabIndex={0}` and `onKeyDown` handlers to the tab controls. Consider using a headless UI library like Radix Tabs for full accessibility.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Use proper `<button>` elements or add `tabIndex={0}` and `onKeyDown` handlers to the tab controls. Consider using a headless UI library like Radix Tabs for full accessibility.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-344",
      "feature": "Cancellations Dashboard",
      "category": "SA-cancellations-dashboard",
      "title": "Screen Reader Support Missing",
      "severity": "high",
      "location": "Section 5 - Accessibility",
      "issue": "Documentation states: \"Screen reader support: ‚ö†Ô∏è No ARIA labels on interactive elements\". The dashboard has many interactive elements (tabs, date picker, clickable rows, modal) without proper ARIA attributes. Screen reader users cannot understand the current state or navigate effectively.",
      "suggested_fix": "Add `role=\"tablist\"`, `role=\"tab\"`, `aria-selected`, `aria-controls` to tabs. Add `aria-label` to date picker. Add `role=\"row\"` and descriptive labels to clickable cancellation rows. Ensure modal has `role=\"dialog\"` and `aria-modal=\"true\"`.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add `role=\"tablist\"`, `role=\"tab\"`, `aria-selected`, `aria-controls` to tabs. Add `aria-label` to date picker. Add `role=\"row\"` and descriptive labels to clickable cancellation rows. Ensure modal has `role=\"dialog\"` and `aria-modal=\"true\"`.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-345",
      "feature": "Cancellations Dashboard",
      "category": "SA-cancellations-dashboard",
      "title": "No Loading State or Skeleton UI",
      "severity": "low",
      "location": "Section 5 - Accessibility, Section 7 - Identified Issues",
      "issue": "Accessibility section notes \"Loading states: ‚ö†Ô∏è No loading skeleton during SSR fetch\". Identified Issues lists \"No loading state | Flash of empty content | üü¢ Low | Add skeleton UI\". Users may see a blank screen or flash of empty content while server-side data is being fetched.",
      "suggested_fix": "Add loading skeleton components that match the layout of stats row, reason chart, and list view. Use React Suspense boundaries if applicable.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add loading skeleton components that match the layout of stats row, reason chart, and list view. Use React Suspense boundaries if applicable.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-346",
      "feature": "Cancellations Dashboard",
      "category": "SA-cancellations-dashboard",
      "title": "No User-Facing Error UI",
      "severity": "medium",
      "location": "Section 6 - Reliability",
      "issue": "Error States table shows \"Database fetch error | Supabase unavailable | Console error, empty data | Page refresh\". Users see empty data with no indication that an error occurred or how to recover. Recovery path is just \"Page refresh\" which the user must discover on their own.",
      "suggested_fix": "Implement error boundary with user-friendly message: \"Unable to load cancellation data. Please try refreshing the page or contact support if the issue persists.\" Include a \"Retry\" button.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Implement error boundary with user-friendly message: \"Unable to load cancellation data. Please try refreshing the page or contact support if the issue persists.\" Include a \"Retry\" button.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-347",
      "feature": "Cancellations Dashboard",
      "category": "SA-cancellations-dashboard",
      "title": "No Retry Mechanism for Failed Loads",
      "severity": "low",
      "location": "Section 7 - First Principles Review, Question 5",
      "issue": "First Principles Review asks \"Are errors recoverable?\" with answer \"‚ö†Ô∏è Partial - No retry mechanism for failed loads\". If the initial data fetch fails, users cannot retry without manually refreshing the page. This is suboptimal UX for a dashboard that may experience transient network issues.",
      "suggested_fix": "Add a \"Retry\" button when data fetch fails. Consider implementing automatic retry with exponential backoff (e.g., retry 3 times with 1s, 2s, 4s delays).",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add a \"Retry\" button when data fetch fails. Consider implementing automatic retry with exponential backoff (e.g., retry 3 times with 1s, 2s, 4s delays).",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-348",
      "feature": "Cancellations Dashboard",
      "category": "SA-cancellations-dashboard",
      "title": "Cohort Analysis Missing Denominator for True Churn Rate",
      "severity": "medium",
      "location": "Section 10 - Open Questions #5",
      "issue": "Documentation asks: \"Should cohort analysis include total signups per cohort? Currently only shows churned count, not the denominator for calculating true cohort churn rate.\" Without knowing how many organizations signed up in each cohort month, the absolute churn numbers are misleading - 10 churns from 100 signups (10%) is very different from 10 churns from 1000 signups (1%).",
      "suggested_fix": "Query total signups per month from organizations table (`GROUP BY DATE_TRUNC('month', created_at)`). Display both \"X churned / Y total\" and calculate percentage. Add visual indicator for cohort health (e.g., green <5%, yellow 5-10%, red >10%).",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Query total signups per month from organizations table (`GROUP BY DATE_TRUNC('month', created_at)`). Display both \"X churned / Y total\" and calculate percentage. Add visual indicator for cohort health (e.g., green <5%, yellow 5-10%, red >10%).",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-349",
      "feature": "Cancellations Dashboard",
      "category": "SA-cancellations-dashboard",
      "title": "Route Protection Verification Not Confirmed",
      "severity": "low",
      "location": "Section 6 - Security",
      "issue": "Security section shows \"Platform admin only | Route protection via middleware (presumed)\". The word \"presumed\" indicates this security control has not been verified. If the middleware protection is missing or misconfigured, non-platform admins could access sensitive cancellation data across all organizations.",
      "suggested_fix": "Verify middleware protection exists and is correctly configured. Update documentation to confirm: \"Route protection via middleware - verified in [file:line]\". Add to test suite if not already tested.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Verify middleware protection exists and is correctly configured. Update documentation to confirm: \"Route protection via middleware - verified in [file:line]\". Add to test suite if not already tested.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-350",
      "feature": "Cancellations Dashboard",
      "category": "SA-cancellations-dashboard",
      "title": "Involuntary vs Voluntary Cancellations Not Distinguished",
      "severity": "medium",
      "location": "Section 10 - Open Questions #6",
      "issue": "Documentation asks: \"Is there a need to track involuntary cancellations separately? Payment failure cancellations vs voluntary cancellations may need different analysis.\" Currently, a customer who churned due to failed payment (often recoverable) is mixed with customers who actively chose to leave. This conflates two different problems requiring different solutions (dunning vs product improvement).",
      "suggested_fix": "Add a `cancellation_type` field to `cancellation_feedback` table: `voluntary` (user-initiated) vs `involuntary` (payment failure). Add filter in UI to view each type separately. Display breakdown in stats row.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add a `cancellation_type` field to `cancellation_feedback` table: `voluntary` (user-initiated) vs `involuntary` (payment failure). Add filter in UI to view each type separately. Display breakdown in stats row.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-351",
      "feature": "Cancellations Dashboard",
      "category": "SA-cancellations-dashboard",
      "title": "Four Separate DB Queries on Page Load",
      "severity": "low",
      "location": "Section 6 - Performance, Section 7 - Identified Issues",
      "issue": "Performance section shows \"Multiple DB queries | 4 separate queries on page load | ‚ö†Ô∏è Could be combined\". Identified Issues lists \"Four separate DB queries | Slower page load | üü¢ Low | Combine into single query with joins\". Each round-trip adds latency, especially under load.",
      "suggested_fix": "Combine into single query using JOINs: `SELECT cf.*, o.name as org_name, o.plan, o.created_at as org_created_at, u.email, u.full_name FROM cancellation_feedback cf LEFT JOIN organizations o ON cf.org_id = o.id LEFT JOIN users u ON cf.user_id = u.id ORDER BY cf.created_at DESC`.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Combine into single query using JOINs: `SELECT cf.*, o.name as org_name, o.plan, o.created_at as org_created_at, u.email, u.full_name FROM cancellation_feedback cf LEFT JOIN organizations o ON cf.org_id = o.id LEFT JOIN users u ON cf.user_id = u.id ORDER BY cf.created_at DESC`.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-352",
      "feature": "Cancellations Dashboard",
      "category": "SA-cancellations-dashboard",
      "title": "No Export Functionality for External Analysis",
      "severity": "low",
      "location": "Section 7 - Identified Issues, Section 10 - Open Questions #2",
      "issue": "Identified Issues lists \"No export functionality | Can't analyze data externally | üü¢ Low | Add CSV export button\". Open Question #2 asks: \"Is there a need for data export? Platform admins may want to export cancellation data to CSV for external analysis or reporting.\" Platform admins often need to share churn analysis with executives or analyze in external tools.",
      "suggested_fix": "Add \"Export CSV\" button that exports filtered cancellations with all fields. Consider also adding PDF report export for executive summaries.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add \"Export CSV\" button that exports filtered cancellations with all fields. Consider also adding PDF report export for executive summaries.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-353",
      "feature": "Feedback Dashboard",
      "category": "SA-feedback-dashboard",
      "title": "Modal Not Keyboard-Trapped - Accessibility Violation",
      "severity": "medium",
      "location": "Section 5 - Accessibility",
      "issue": "Documentation explicitly flags: \"Keyboard navigation: ‚ö†Ô∏è Tab navigation works, but modal not keyboard-trapped\". When a detail modal is open, users can tab outside the modal to elements behind it, which violates WCAG 2.1 modal accessibility guidelines. This is particularly problematic for screen reader users who may lose context of where they are in the page.",
      "suggested_fix": "Implement focus trapping in the detail and survey modals using a focus-trap library or custom implementation. Ensure focus returns to the triggering element when modal closes.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Implement focus trapping in the detail and survey modals using a focus-trap library or custom implementation. Ensure focus returns to the triggering element when modal closes.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-354",
      "feature": "Feedback Dashboard",
      "category": "SA-feedback-dashboard",
      "title": "Missing ARIA Labels for Screen Readers",
      "severity": "medium",
      "location": "Section 5 - Accessibility",
      "issue": "Documentation notes: \"Screen reader support: ‚ö†Ô∏è Limited - missing ARIA labels\". Interactive elements like tabs, status badges, priority indicators, and the search input lack proper ARIA labels. Screen reader users cannot understand the purpose or current state of these elements.",
      "suggested_fix": "Add `aria-label` to tabs (e.g., \"Bug Reports tab, 15 items\"), `aria-current=\"true\"` to active tab, `role=\"status\"` to badge elements, and `aria-describedby` to connect filters with result counts.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add `aria-label` to tabs (e.g., \"Bug Reports tab, 15 items\"), `aria-current=\"true\"` to active tab, `role=\"status\"` to badge elements, and `aria-describedby` to connect filters with result counts.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-355",
      "feature": "Feedback Dashboard",
      "category": "SA-feedback-dashboard",
      "title": "No Loading Indicator During Initial Data Fetch",
      "severity": "low",
      "location": "Section 5 - Accessibility and Section 7 - First Principles Review",
      "issue": "Documentation identifies: \"Loading states: ‚ö†Ô∏è No loading indicator during data fetch\" and \"Is feedback immediate? ‚ö†Ô∏è Mostly - No loading spinner during initial fetch\". Users see nothing while server fetches all feedback items, which could take seconds with high volume. This creates uncertainty about whether the page is working.",
      "suggested_fix": "Add a skeleton loading state or spinner during the initial server-side data fetch. Consider using Next.js loading.tsx convention for consistent loading UX.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add a skeleton loading state or spinner during the initial server-side data fetch. Consider using Next.js loading.tsx convention for consistent loading UX.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-356",
      "feature": "Feedback Dashboard",
      "category": "SA-feedback-dashboard",
      "title": "No Pagination - Performance Degrades with Volume",
      "severity": "high",
      "location": "Section 4 - Edge Cases row 16 and Section 6 - Performance",
      "issue": "Documentation explicitly flags multiple times: \"High volume (many items) | Scroll list | All items rendered | ‚ö†Ô∏è No virtualization\" and \"All feedback fetched at once | No pagination | ‚ö†Ô∏è Could be slow with many items\". As the platform grows, fetching all feedback items on every page load will cause increasing latency and memory pressure. This is marked as a medium issue in Identified Issues but given the cumulative nature, severity should be higher.",
      "suggested_fix": "Implement server-side pagination with limit/offset. Add \"Load more\" or infinite scroll pattern. For immediate mitigation, add list virtualization (e.g., react-virtual) for client-side rendering.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Implement server-side pagination with limit/offset. Add \"Load more\" or infinite scroll pattern. For immediate mitigation, add list virtualization (e.g., react-virtual) for client-side rendering.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-357",
      "feature": "Feedback Dashboard",
      "category": "SA-feedback-dashboard",
      "title": "Admin Response Fields Exist But UI Doesn't Support Responding",
      "severity": "medium",
      "location": "Section 10 - Open Questions #2",
      "issue": "Documentation asks: \"Should platform admins be able to respond to feedback? Database has `admin_response`, `admin_responded_at`, `admin_responded_by` fields but UI doesn't use them.\" The database schema was designed for admin responses, but this capability was never implemented in the UI. Users submitting feedback never receive acknowledgment from admins.",
      "suggested_fix": "Either implement response functionality (add text input + save in detail modal) or document that responses happen through external channels. If never planned, consider deprecating unused database columns.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Either implement response functionality (add text input + save in detail modal) or document that responses happen through external channels. If never planned, consider deprecating unused database columns.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-358",
      "feature": "Feedback Dashboard",
      "category": "SA-feedback-dashboard",
      "title": "No Content Moderation for Offensive Feedback",
      "severity": "medium",
      "location": "Section 4 - Edge Cases row 17 and Section 10 - Open Questions #3",
      "issue": "Documentation explicitly identifies: \"Offensive content | View item | Content shown as-is | ‚ö†Ô∏è No content moderation\" and asks \"Is there any content moderation needed?\" Feedback text, including potentially offensive or inappropriate content, is displayed without filtering. While platform admins can handle such content, there's no mechanism to flag, hide, or filter it.",
      "suggested_fix": "Add a \"flag as inappropriate\" action that hides content behind a warning. Consider basic profanity filter option. At minimum, add visual warning for flagged content.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add a \"flag as inappropriate\" action that hides content behind a warning. Consider basic profanity filter option. At minimum, add visual warning for flagged content.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-359",
      "feature": "Feedback Dashboard",
      "category": "SA-feedback-dashboard",
      "title": "No Aggregate PMF Score Calculation",
      "severity": "medium",
      "location": "Section 7 - Identified Issues and Section 10 - Open Questions #1",
      "issue": "Documentation notes: \"No PMF analytics | No aggregate scores | üü° Medium\" and asks \"Should there be aggregate PMF metrics?\". The PMF (Product-Market Fit) score is a standard calculation: (% \"very disappointed\" responses). Individual responses are shown but the key metric is never calculated. This defeats the purpose of collecting PMF survey data.",
      "suggested_fix": "Add a summary card at the top of PMF Surveys tab showing: total responses, PMF score (% very disappointed), and trend over time. Consider adding a simple chart showing distribution of disappointment levels.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add a summary card at the top of PMF Surveys tab showing: total responses, PMF score (% very disappointed), and trend over time. Consider adding a simple chart showing distribution of disappointment levels.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-360",
      "feature": "Feedback Dashboard",
      "category": "SA-feedback-dashboard",
      "title": "No Data Export Functionality",
      "severity": "low",
      "location": "Section 7 - Identified Issues",
      "issue": "Documentation identifies: \"No export | Can't extract data | üü¢ Low\". Platform admins cannot export feedback data for external analysis, reporting, or sharing with stakeholders. All analysis must be done within the dashboard interface.",
      "suggested_fix": "Add CSV export button for each tab (bugs, features, PMF surveys). Include all visible columns plus full description text. Consider date range filter applying to export.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add CSV export button for each tab (bugs, features, PMF surveys). Include all visible columns plus full description text. Consider date range filter applying to export.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-361",
      "feature": "Feedback Dashboard",
      "category": "SA-feedback-dashboard",
      "title": "No Real-Time Updates - Stale Data Displayed",
      "severity": "low",
      "location": "Section 7 - Identified Issues and Section 10 - Open Questions #4",
      "issue": "Documentation notes: \"No real-time updates | Stale data possible | üü¢ Low\". Feedback is fetched once on page load. If a user submits new feedback while an admin has the dashboard open, the admin won't see it until they refresh. For a monitoring dashboard, this could mean missing time-sensitive bug reports.",
      "suggested_fix": "Add polling interval (e.g., every 30-60 seconds) to refresh data. Alternatively, show \"New feedback available\" banner when new items detected, with refresh button. WebSocket overkill for this use case.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add polling interval (e.g., every 30-60 seconds) to refresh data. Alternatively, show \"New feedback available\" banner when new items detected, with refresh button. WebSocket overkill for this use case.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-362",
      "feature": "Feedback Dashboard",
      "category": "SA-feedback-dashboard",
      "title": "Feedback Notifications Table Not Used",
      "severity": "low",
      "location": "Section 10 - Open Questions #7",
      "issue": "Documentation asks: \"Should there be notification alerts for critical bugs? Database has `feedback_notifications` table but not used in this dashboard.\" The database schema includes infrastructure for feedback notifications, but this feature was never connected to the dashboard. Critical bugs may go unnoticed until an admin manually checks.",
      "suggested_fix": "Document whether the notifications table is intended for this dashboard or another feature. If intended here, add alert configuration for critical priority bugs (email or in-app notification).",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Document whether the notifications table is intended for this dashboard or another feature. If intended here, add alert configuration for critical priority bugs (email or in-app notification).",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-363",
      "feature": "Feedback Dashboard",
      "category": "SA-feedback-dashboard",
      "title": "Invalid Date Range Shows Empty Instead of Error",
      "severity": "low",
      "location": "Section 4 - Error States",
      "issue": "Documentation states: \"Invalid date range | to < from | Still renders but empty results | Correct the date range\". When a user selects a \"to\" date before the \"from\" date, the system silently shows no results instead of alerting the user to the invalid selection. This could cause confusion as users may think there's genuinely no data.",
      "suggested_fix": "Add validation in DateRangePicker that prevents selecting an end date before start date, or show an inline error message explaining the issue.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add validation in DateRangePicker that prevents selecting an end date before start date, or show an inline error message explaining the issue.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-364",
      "feature": "Feedback Dashboard",
      "category": "SA-feedback-dashboard",
      "title": "Dismissed PMF Surveys Completely Hidden - No Audit Trail",
      "severity": "low",
      "location": "Section 4 - Edge Cases row 13 and Section 10 - Open Questions #8",
      "issue": "Documentation shows: \"PMF survey dismissed=true | Page load | Excluded from results | ‚úÖ\" but then asks \"How should dismissed PMF surveys be handled? Currently excluded from view - should they be visible with a 'dismissed' flag?\" Dismissed surveys are filtered server-side with no option to view them. If surveys can be dismissed, there's no way for admins to audit or review what was dismissed.",
      "suggested_fix": "Add a toggle or filter to \"Show dismissed surveys\". Display dismissed surveys with a visual indicator (strikethrough or badge). Consider adding dismissal reason and who dismissed.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add a toggle or filter to \"Show dismissed surveys\". Display dismissed surveys with a visual indicator (strikethrough or badge). Consider adding dismissal reason and who dismissed.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-365",
      "feature": "Feedback Dashboard",
      "category": "SA-feedback-dashboard",
      "title": "No Error Recovery Mechanism",
      "severity": "low",
      "location": "Section 7 - First Principles Review",
      "issue": "Documentation notes: \"Are errors recoverable? ‚ö†Ô∏è Partial - No retry mechanism, page refresh needed\". When the Supabase fetch fails, errors are logged but users see an empty list with no indication of failure or way to retry without a full page refresh.",
      "suggested_fix": "Add error boundary that catches fetch failures and displays an error state with a \"Retry\" button. This provides better UX than silent failure or forcing browser refresh.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add error boundary that catches fetch failures and displays an error state with a \"Retry\" button. This provides better UX than silent failure or forcing browser refresh.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-366",
      "feature": "Feedback Dashboard",
      "category": "SA-feedback-dashboard",
      "title": "Route Auth Assumed - Not Verified",
      "severity": "medium",
      "location": "Section 6 - Security",
      "issue": "Documentation states: \"Platform admin only access | Route under /platform/ (assumed auth)\". The security model relies on the assumption that `/platform/` routes are protected, but this isn't verified or documented. If the middleware or auth check is misconfigured, sensitive feedback data from all organizations could be exposed to non-platform-admins.",
      "suggested_fix": "Explicitly document the auth mechanism (middleware route matching, role check, etc.). Add a comment in the page component referencing the auth requirement. Consider adding explicit role check in the server component as defense-in-depth.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Explicitly document the auth mechanism (middleware route matching, role check, etc.). Add a comment in the page component referencing the auth requirement. Consider adding explicit role check in the server component as defense-in-depth.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-367",
      "feature": "Funnel Analytics",
      "category": "SA-funnel-analytics",
      "title": "Landing Page Tracking Not Implemented",
      "severity": "high",
      "location": "Section 10 - Open Questions #7; Section 2 - Funnel Stages",
      "issue": "Open Question 7 explicitly states: \"Should the landing page tracker be added? Currently no `landing` events visible in tracked pages.\" The funnel diagram shows LANDING PAGE as the first step, but the Code References section shows no landing page tracking implementation. This means the funnel cannot show true landing‚Üísignup conversion rates or landing page drop-off.",
      "suggested_fix": "Implement landing page tracking on the marketing site to capture the true top-of-funnel metrics and calculate accurate drop-off between landing and signup.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "ticketed",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Implement landing page tracking on the marketing site to capture the true top-of-funnel metrics and calculate accurate drop-off between landing and signup.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-368",
      "feature": "Funnel Analytics",
      "category": "SA-funnel-analytics",
      "title": "Platform Admin Route Protection Only \"Assumed\"",
      "severity": "high",
      "location": "Section 6 - Technical Concerns > Security",
      "issue": "The security section states \"Platform admin only (route protection assumed)\" without verification. This is a critical analytics dashboard containing sensitive conversion and revenue data. Route protection should be explicitly verified, not assumed.",
      "suggested_fix": "Verify and document the exact route protection mechanism (middleware, component check, RLS policy) that restricts `/platform/funnel` to platform admins only.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Verify and document the exact route protection mechanism (middleware, component check, RLS policy) that restricts `/platform/funnel` to platform admins only.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-369",
      "feature": "Funnel Analytics",
      "category": "SA-funnel-analytics",
      "title": "No Cross-Device User Linking",
      "severity": "medium",
      "location": "Section 4 - Edge Cases #6; Section 7 - Identified Issues",
      "issue": "Documentation explicitly notes: \"Same user on phone then desktop\" results in \"Different visitor_ids, counted as separate users\" with a ‚ö†Ô∏è warning flag. Open Question 1 asks: \"Should visitor_id be linked to user_id after signup?\" This means users who start signup on mobile and complete on desktop are counted as two separate funnels.",
      "suggested_fix": "After signup_complete, update previous funnel_events for that visitor_id to associate with the new user_id, enabling cross-session attribution.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "After signup_complete, update previous funnel_events for that visitor_id to associate with the new user_id, enabling cross-session attribution.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-370",
      "feature": "Funnel Analytics",
      "category": "SA-funnel-analytics",
      "title": "Direct URL Access Creates Data Gaps",
      "severity": "medium",
      "location": "Section 4 - Edge Cases #4",
      "issue": "When users access funnel pages directly via URL (bookmarks, links, returning users), documentation notes: \"Missing intermediate events, funnel shows gaps\" with a ‚ö†Ô∏è flag marked \"Data accuracy affected\". This undermines funnel accuracy as conversion rates become misleading.",
      "suggested_fix": "Consider back-filling missing pageview events when a conversion event occurs, or add visual indicators in the dashboard when data gaps are detected.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Consider back-filling missing pageview events when a conversion event occurs, or add visual indicators in the dashboard when data gaps are detected.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-371",
      "feature": "Funnel Analytics",
      "category": "SA-funnel-analytics",
      "title": "Incognito Mode Over-Counts Unique Visitors",
      "severity": "medium",
      "location": "Section 4 - Edge Cases #7",
      "issue": "Edge case explicitly notes that users in incognito/private mode get \"New visitor_id each session\" with ‚ö†Ô∏è flag and \"Over-counts unique visitors\" impact. This inflates unique visitor counts and deflates conversion rates.",
      "suggested_fix": "Document this limitation prominently in the dashboard or consider fingerprinting alternatives that work in incognito mode while respecting privacy.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Document this limitation prominently in the dashboard or consider fingerprinting alternatives that work in incognito mode while respecting privacy.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-372",
      "feature": "Funnel Analytics",
      "category": "SA-funnel-analytics",
      "title": "No Pagination for Event Data at Scale",
      "severity": "medium",
      "location": "Section 6 - Technical Concerns > Performance; Section 10 - Open Questions #2",
      "issue": "Performance section notes \"Full table scan\" with ‚ö†Ô∏è flag: \"No pagination, fetches all events. May need pagination at scale.\" Open Question 2 explicitly asks: \"Is pagination needed for funnel_events at scale?\" As the product grows, this will cause dashboard loading issues.",
      "suggested_fix": "Implement server-side pagination or aggregation for funnel_events, with pre-computed daily/weekly rollups for historical data.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Implement server-side pagination or aggregation for funnel_events, with pre-computed daily/weekly rollups for historical data.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-373",
      "feature": "Funnel Analytics",
      "category": "SA-funnel-analytics",
      "title": "Accessibility Not Verified",
      "severity": "medium",
      "location": "Section 5 - UI/UX Review > Accessibility",
      "issue": "Documentation explicitly flags: \"Keyboard navigation: ‚ö†Ô∏è Not verified (date picker may need testing)\" and \"Screen reader support: ‚ö†Ô∏è Tables have headers but may need ARIA labels\". For a platform admin tool, accessibility should be verified.",
      "suggested_fix": "Conduct accessibility audit on the funnel dashboard, particularly the date picker component and data tables. Add ARIA labels where needed.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Conduct accessibility audit on the funnel dashboard, particularly the date picker component and data tables. Add ARIA labels where needed.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-374",
      "feature": "Funnel Analytics",
      "category": "SA-funnel-analytics",
      "title": "Duplicate Events From Rapid Clicks",
      "severity": "low",
      "location": "Section 4 - Edge Cases #11; Section 7 - Identified Issues",
      "issue": "Edge case notes that double-clicks on \"Continue\" buttons result in \"Duplicate events in DB\" with ‚ö†Ô∏è flag \"No client-side debounce\". Identified Issues section confirms: \"Potential duplicate events - No client-side debounce\" with severity Low.",
      "suggested_fix": "Add 1-second debounce on trackFunnelEvent() calls or server-side deduplication based on visitor_id + step + timestamp window.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add 1-second debounce on trackFunnelEvent() calls or server-side deduplication based on visitor_id + step + timestamp window.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-375",
      "feature": "Funnel Analytics",
      "category": "SA-funnel-analytics",
      "title": "UTM Attribution Data Collected But Not Displayed",
      "severity": "low",
      "location": "Section 7 - Identified Issues; Section 10 - Open Questions #3",
      "issue": "The Identified Issues section notes: \"No attribution tracking - UTM params stored but not displayed\" and Open Question 3 asks: \"Should UTM attribution be displayed in the dashboard? Data is collected but not shown.\" UTM parameters are being tracked and stored but provide no value without a UI.",
      "suggested_fix": "Add a UTM attribution breakdown view to the dashboard showing conversion by source/medium/campaign.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add a UTM attribution breakdown view to the dashboard showing conversion by source/medium/campaign.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-376",
      "feature": "Funnel Analytics",
      "category": "SA-funnel-analytics",
      "title": "No Data Retention Policy Defined",
      "severity": "low",
      "location": "Section 10 - Open Questions #6",
      "issue": "Open Question 6 explicitly asks: \"How far back should historical data be retained? No data retention policy defined.\" Without a policy, the funnel_events table will grow indefinitely, impacting query performance and storage costs.",
      "suggested_fix": "Define data retention policy (e.g., 24 months rolling) and implement automated archival/deletion for aged funnel events.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Define data retention policy (e.g., 24 months rolling) and implement automated archival/deletion for aged funnel events.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-377",
      "feature": "Funnel Analytics",
      "category": "SA-funnel-analytics",
      "title": "No Time-to-Conversion Metrics",
      "severity": "low",
      "location": "Section 4 - Edge Cases #5; Section 7 - Identified Issues; Section 10 - Open Questions #4",
      "issue": "Multiple sections flag this: Edge Case #5 notes \"Same visitor_id links events, time not tracked\", Identified Issues includes \"No time-to-conversion metric - Can't see how long users take between steps\", and Open Question 4 asks \"Should time-to-conversion metrics be added?\"",
      "suggested_fix": "Add timestamp delta calculations between funnel steps and display average/median time-to-conversion in the dashboard.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add timestamp delta calculations between funnel steps and display average/median time-to-conversion in the dashboard.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-378",
      "feature": "Funnel Analytics",
      "category": "SA-funnel-analytics",
      "title": "Silent Tracking Failures Invisible to Admins",
      "severity": "low",
      "location": "Section 4 - Edge Cases #12; Section 4 - Error States",
      "issue": "When tracking fails due to network or API errors, the system uses \"fire-and-forget\" pattern with \"Silent failure, console.error logged\". While this correctly doesn't block users, platform admins have no visibility into tracking failure rates which could silently corrupt funnel data.",
      "suggested_fix": "Add a tracking health metric or error rate indicator to the funnel dashboard, or log failures to a monitoring system.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add a tracking health metric or error rate indicator to the funnel dashboard, or log failures to a monitoring system.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-379",
      "feature": "Organizations Manager",
      "category": "SA-organizations-manager",
      "title": "Platform Admin Route Protection Unclear",
      "severity": "high",
      "location": "Section 10 - Open Questions #1; Section 6 - Security",
      "issue": "Open question explicitly asks \"Is there route protection for platform admins?\" The documentation notes \"Page appears to be under `/platform/` route but access control not visible in code.\" Security section only mentions \"Platform admin route protection (assumed)\" without verification. This is a potential security gap - if route protection is missing, any authenticated user could access organization data.",
      "suggested_fix": "Verify and document the middleware/auth guard that restricts `/platform/*` routes to platform admins only. If missing, implement it immediately.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "ticketed",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Verify and document the middleware/auth guard that restricts `/platform/*` routes to platform admins only. If missing, implement it immediately.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-380",
      "feature": "Organizations Manager",
      "category": "SA-organizations-manager",
      "title": "No Pagination for Large Organization Lists",
      "severity": "medium",
      "location": "Section 4 - Edge Cases #9; Section 6 - Performance; Section 7 - Identified Issues",
      "issue": "Multiple sections flag this: Edge Case #9 notes \"All orgs fetched server-side ‚ö†Ô∏è No pagination visible\"; Section 6 Performance shows \"All fetched at once ‚ö†Ô∏è No pagination\"; Section 7 explicitly lists \"No pagination | Performance issues at scale | üü° Medium\". As the platform grows, loading all organizations in a single query will degrade performance significantly.",
      "suggested_fix": "Implement server-side pagination with cursor-based navigation, or add virtual scrolling for client-side performance at scale.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Implement server-side pagination with cursor-based navigation, or add virtual scrolling for client-side performance at scale.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-381",
      "feature": "Organizations Manager",
      "category": "SA-organizations-manager",
      "title": "Coverage Rate Division by Zero Edge Case",
      "severity": "medium",
      "location": "Section 2 - Data Aggregation Flow; Section 4 - Edge Cases #4",
      "issue": "Coverage Rate formula is defined as `pageviews_with_agent / total_pageviews`. Edge Case #4 states \"Org with no pageviews | Inactive widget | Coverage = 100% (not a problem) | ‚úÖ\". However, if total_pageviews = 0, this is mathematically a division by zero. Setting this to 100% may mask real issues where the widget isn't even loading or is misconfigured - showing 100% coverage when there's actually no coverage to measure is potentially misleading.",
      "suggested_fix": "Display \"N/A\" or \"No data\" for coverage when total_pageviews = 0, rather than implying 100% coverage. This provides clearer feedback to super admins about which orgs need investigation.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Display \"N/A\" or \"No data\" for coverage when total_pageviews = 0, rather than implying 100% coverage. This provides clearer feedback to super admins about which orgs need investigation.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-382",
      "feature": "Organizations Manager",
      "category": "SA-organizations-manager",
      "title": "Activity Score Formula Inconsistency",
      "severity": "low",
      "location": "Section 3 - Health Score Calculation; Section 4 - Edge Cases #3",
      "issue": "Section 3 states Activity Score logic as \"100 if ‚â§1 day, down to 10 if >30 days\". However, Edge Case #3 states \"Org with no calls ever | New org | Activity score = 20\". If an org has never had a call, days_since_last_call would be infinite/undefined, which according to the formula should result in score of 10 (not 20). This is a documentation inconsistency.",
      "suggested_fix": "Clarify the Activity Score calculation for orgs with no calls ever. Document: \"For organizations with no call history, Activity Score defaults to 20\" if that's the intended behavior.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Clarify the Activity Score calculation for orgs with no calls ever. Document: \"For organizations with no call history, Activity Score defaults to 20\" if that's the intended behavior.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-383",
      "feature": "Organizations Manager",
      "category": "SA-organizations-manager",
      "title": "Keyboard Navigation Not Verified",
      "severity": "medium",
      "location": "Section 5 - Accessibility",
      "issue": "Documentation explicitly states \"Keyboard navigation: ‚ö†Ô∏è Not verified (interactive elements may need focus states)\". The organizations table has multiple interactive elements (sort headers, filter dropdowns, tabs, cards) that should be keyboard-accessible for accessibility compliance.",
      "suggested_fix": "Conduct keyboard accessibility audit and ensure all interactive elements have proper focus states, tab order, and keyboard activation.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Conduct keyboard accessibility audit and ensure all interactive elements have proper focus states, tab order, and keyboard activation.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-384",
      "feature": "Organizations Manager",
      "category": "SA-organizations-manager",
      "title": "Screen Reader Support Not Verified",
      "severity": "medium",
      "location": "Section 5 - Accessibility",
      "issue": "Documentation states \"Screen reader support: ‚ö†Ô∏è Not verified\". Given the data-dense nature of this dashboard (health scores, risk levels, trends with visual indicators), screen reader users may have difficulty understanding the content without proper ARIA labels and announcements.",
      "suggested_fix": "Add ARIA labels to visual indicators (shields, trend arrows, color-coded badges). Ensure table headers are properly associated with data cells. Test with screen readers.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add ARIA labels to visual indicators (shields, trend arrows, color-coded badges). Ensure table headers are properly associated with data cells. Test with screen readers.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-385",
      "feature": "Organizations Manager",
      "category": "SA-organizations-manager",
      "title": "No Loading State for Server-Rendered Page",
      "severity": "low",
      "location": "Section 5 - Accessibility; Section 7 - Identified Issues",
      "issue": "Documentation notes \"Loading states: ‚ö†Ô∏è No explicit loading state visible (server-rendered)\" and Section 7 lists \"No explicit loading state | User unsure if loading | üü¢ Low\". While server-side rendering handles initial load, the page may appear frozen during data fetching, especially with many organizations.",
      "suggested_fix": "Add loading skeleton or spinner for the data table while server component fetches organization data.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add loading skeleton or spinner for the data table while server component fetches organization data.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-386",
      "feature": "Organizations Manager",
      "category": "SA-organizations-manager",
      "title": "Organization Rows Not Clickable",
      "severity": "medium",
      "location": "Section 7 - Identified Issues; Section 10 - Open Questions #6",
      "issue": "Section 7 lists \"No click-through to org | Can't access org details | üü° Medium\" and Open Question #6 asks \"Should clicking an org row navigate to org details? Currently rows are not clickable.\" Super admins viewing the dashboard have no way to drill down into a specific organization for more details.",
      "suggested_fix": "Make organization rows clickable to navigate to a detailed view of that organization, or add an explicit \"View Details\" action button.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Make organization rows clickable to navigate to a detailed view of that organization, or add an explicit \"View Details\" action button.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-387",
      "feature": "Organizations Manager",
      "category": "SA-organizations-manager",
      "title": "Database Errors Show Empty State Only",
      "severity": "low",
      "location": "Section 4 - Edge Cases #12; Section 4 - Error States; Section 7 - Identified Issues",
      "issue": "Edge Case #12 states \"Database query failure | Network/DB issue | Error logged, empty data ‚ö†Ô∏è | No user-facing error message\". Section 7 confirms \"Database error not shown | User sees empty state only | üü¢ Low\". Super admins seeing an empty list have no way to distinguish between \"no organizations exist\" and \"database error occurred\".",
      "suggested_fix": "Add error boundary or error toast to inform users when data fetch fails. Display a different UI state for errors vs. empty results.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add error boundary or error toast to inform users when data fetch fails. Display a different UI state for errors vs. empty results.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-388",
      "feature": "Organizations Manager",
      "category": "SA-organizations-manager",
      "title": "Impersonation Feature Not Implemented",
      "severity": "low",
      "location": "Section 7 - Identified Issues; Section 10 - Open Questions #3",
      "issue": "Section 7 lists \"No impersonation | Can't act as org user | üü° Medium\" and Open Question #3 asks \"Should super admins be able to impersonate users? Mentioned in requirements but not implemented.\" If impersonation is a requirement, it represents a missing feature.",
      "suggested_fix": "Clarify if impersonation is a required feature. If yes, implement secure impersonation with audit logging. If no, remove from requirements.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Clarify if impersonation is a required feature. If yes, implement secure impersonation with audit logging. If no, remove from requirements.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-389",
      "feature": "Organizations Manager",
      "category": "SA-organizations-manager",
      "title": "Activity Log Feature Not Visible",
      "severity": "low",
      "location": "Section 10 - Open Questions #4",
      "issue": "Open Question #4 asks \"Is there an activity log for org actions? Mentioned in requirements but not visible.\" If activity logging is required for audit trails or debugging, this is a missing feature that may have compliance implications.",
      "suggested_fix": "Clarify requirements for activity logging. If needed, implement audit log for super admin actions (viewed org, exported data, etc.).",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Clarify requirements for activity logging. If needed, implement audit log for super admin actions (viewed org, exported data, etc.).",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-390",
      "feature": "Organizations Manager",
      "category": "SA-organizations-manager",
      "title": "At-Risk MRR Threshold Not Defined",
      "severity": "low",
      "location": "Section 10 - Open Questions #5",
      "issue": "Open Question #5 states \"What is the threshold for 'at risk' MRR alerts? Currently shows any at-risk MRR, no threshold.\" Without a threshold, super admins may receive constant alerts even for minimal MRR at risk, reducing the signal-to-noise ratio for actionable insights.",
      "suggested_fix": "Define business threshold for at-risk MRR alerts (e.g., only highlight when at-risk MRR > $1000 or > 5% of total MRR).",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Define business threshold for at-risk MRR alerts (e.g., only highlight when at-risk MRR > $1000 or > 5% of total MRR).",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-391",
      "feature": "Pool Management",
      "category": "D-pool-management",
      "title": "No Delete Confirmation for Pools",
      "severity": "high",
      "location": "Section 4 - Edge Cases #5; Section 5 - UI/UX Review Step 6; Section 7 - Identified Issues; Section 10 - Open Questions #1",
      "issue": "Multiple sections document that pools are deleted immediately without confirmation. Edge Case #5 states \"Pool removed immediately (no confirmation)\" with ‚ö†Ô∏è warning. Section 7 lists \"No delete confirmation | Accidental deletion possible | üü° Medium\". Open Question #1 explicitly asks \"Should there be a delete confirmation?\" This creates significant risk of accidental data loss, especially since deletion cascades to all pool members and routing rules.",
      "suggested_fix": "Add confirmation modal before pool deletion. Modal should clearly state what will be deleted (pool name, X routing rules, X agent assignments).",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "ticketed",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add confirmation modal before pool deletion. Modal should clearly state what will be deleted (pool name, X routing rules, X agent assignments).",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-392",
      "feature": "Pool Management",
      "category": "D-pool-management",
      "title": "Cannot Edit or Rename Pool Names",
      "severity": "medium",
      "location": "Section 4 - Edge Cases #11; Section 5 - UI/UX Review Step 11; Section 7 - Identified Issues; Section 10 - Open Questions #2",
      "issue": "Documentation confirms pool names cannot be edited after creation. Edge Case #11 states \"Cannot edit pool name after creation\" with ‚ö†Ô∏è warning. Section 5 shows \"Admin tries to edit pool name | No option available | ‚ùå Feature missing\". Section 7 lists \"No pool rename/edit | Admin must delete and recreate to rename | üü° Medium\". Open Question #2 asks if this is intentional or an oversight. This forces admins to delete and recreate pools to fix typos or update naming conventions.",
      "suggested_fix": "Add inline edit capability for pool name. Double-click or edit icon on pool name to enable editing.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add inline edit capability for pool name. Double-click or edit icon on pool name to enable editing.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-393",
      "feature": "Pool Management",
      "category": "D-pool-management",
      "title": "Silent Failures for Database and Server Operations",
      "severity": "high",
      "location": "Section 4 - Error States; Section 7 - Identified Issues",
      "issue": "Error States table documents multiple silent failure modes: \"Database save fails | Network error on any save | Error in console (silent fail)\", \"Server sync fails | Signaling server unreachable | Console warning only\", \"RLS permission denied | Non-admin tries to modify | Operation fails silently\". Section 7 confirms \"Silent failures | Admin may not know save failed | üü° Medium\". Admins have no feedback when critical operations fail.",
      "suggested_fix": "Implement toast notifications for all save/delete operations. Show success confirmation and error messages with retry options.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "ticketed",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Implement toast notifications for all save/delete operations. Show success confirmation and error messages with retry options.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-394",
      "feature": "Pool Management",
      "category": "D-pool-management",
      "title": "Empty Pool Falls Back to Any Available Agent",
      "severity": "medium",
      "location": "Section 4 - Edge Cases #9; Section 7 - Identified Issues; Section 10 - Open Questions #3",
      "issue": "Edge Case #9 states \"Pool with no agents | Visitor routed to empty pool | Falls back to ANY available agent ‚ö†Ô∏è | May get agent from different pool\". Section 7 lists \"Empty pool fallback | Visitors may get wrong agent | üü° Medium\". Open Question #3 asks if there should be \"strict pool routing\" option. This behavior may violate routing intent - a visitor matched to \"Enterprise Support\" pool could be routed to a Sales agent if Enterprise pool is empty.",
      "suggested_fix": "Add pool-level setting for \"strict routing\" mode. When enabled, show \"no agents available\" instead of falling back to random agent.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add pool-level setting for \"strict routing\" mode. When enabled, show \"no agents available\" instead of falling back to random agent.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-395",
      "feature": "Pool Management",
      "category": "D-pool-management",
      "title": "Pools Cannot Be Reordered",
      "severity": "low",
      "location": "Section 7 - Identified Issues; Section 10 - Open Questions #4",
      "issue": "Section 7 lists \"Cannot sort/reorder pools | Pools shown in creation order | üü¢ Low\". Open Question #4 asks \"Should pool order be customizable? Pools are currently shown with catch-all first, then by creation date.\" Admins cannot organize pools in a logical order (e.g., by importance or usage frequency).",
      "suggested_fix": "Add drag-and-drop reordering for pools, or alphabetical sort option.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add drag-and-drop reordering for pools, or alphabetical sort option.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-396",
      "feature": "Pool Management",
      "category": "D-pool-management",
      "title": "No Pool Statistics Displayed",
      "severity": "low",
      "location": "Section 10 - Open Questions #5",
      "issue": "Open Question #5 states \"Should there be pool statistics? The UI shows agent count and rule count, but not visitor/call counts per pool.\" Admins cannot see how many visitors or calls are routed to each pool, making it difficult to assess pool effectiveness or optimize routing.",
      "suggested_fix": "Add pool statistics showing visitors routed, calls completed, and average wait time per pool over configurable time period.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add pool statistics showing visitors routed, calls completed, and average wait time per pool over configurable time period.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-397",
      "feature": "Pool Management",
      "category": "D-pool-management",
      "title": "Config Sync Could Be Batched for Performance",
      "severity": "low",
      "location": "Section 6 - Technical Concerns - Performance",
      "issue": "Performance table states \"Config sync on every change | Debounced via useEffect | ‚ö†Ô∏è Could batch\". Currently every individual change triggers a server sync. Rapid changes (e.g., adding multiple agents) could create unnecessary server load.",
      "suggested_fix": "Implement explicit \"Save\" action or batch multiple changes within a time window before syncing.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Implement explicit \"Save\" action or batch multiple changes within a time window before syncing.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-398",
      "feature": "Pool Management",
      "category": "D-pool-management",
      "title": "RLS Permission Denial Fails Silently",
      "severity": "medium",
      "location": "Section 4 - Error States",
      "issue": "Error States table shows \"RLS permission denied | Non-admin tries to modify | Operation fails silently\". This is a security-adjacent concern - if a non-admin somehow accesses the pool management UI (via direct URL or race condition), they get no feedback that their actions are being blocked.",
      "suggested_fix": "Add explicit error handling that redirects non-admins away from the page with a clear access denied message.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add explicit error handling that redirects non-admins away from the page with a clear access denied message.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-399",
      "feature": "Pool Management",
      "category": "D-pool-management",
      "title": "No Undo for Pool Actions",
      "severity": "medium",
      "location": "Section 7 - First Principles Review #4",
      "issue": "Section 7 asks \"Is the flow reversible?\" and answers \"‚ö†Ô∏è Partial - Can delete pools but no undo. Cannot rename pools.\" Once a pool is deleted, there's no way to recover it. This is especially problematic given the lack of delete confirmation.",
      "suggested_fix": "Implement soft delete with \"Undo\" toast for 10-15 seconds after deletion, or add an \"Archive\" feature instead of hard delete.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Implement soft delete with \"Undo\" toast for 10-15 seconds after deletion, or add an \"Archive\" feature instead of hard delete.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-400",
      "feature": "Pool Management",
      "category": "D-pool-management",
      "title": "Strict Pool Routing Option Missing",
      "severity": "medium",
      "location": "Section 10 - Open Questions #3",
      "issue": "Open Question #3 states \"What should happen when all agents in a pool are offline? Currently falls back to any available agent. Should there be an option for 'strict pool routing' that shows 'no agents available' instead?\" Some organizations may require visitors only be routed to specific pool agents for compliance, training, or specialization reasons.",
      "suggested_fix": "Add toggle per pool: \"Strict routing - Only route to agents in this pool\". When enabled, show appropriate message if no pool agents available.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add toggle per pool: \"Strict routing - Only route to agents in this pool\". When enabled, show appropriate message if no pool agents available.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-401",
      "feature": "Pool Management",
      "category": "D-pool-management",
      "title": "Pool Description Not Visible in Collapsed View",
      "severity": "low",
      "location": "Section 1 - Purpose; Appendix - Database Schema",
      "issue": "Database schema shows pools have a `description TEXT` field and Section 1 mentions \"Admin enters pool name and optional description\". However, there's no mention in the UI/UX review of where or how descriptions are displayed. Admins may not see helpful context about pool purpose without expanding each pool.",
      "suggested_fix": "Show pool description (truncated) in collapsed pool header, or show on hover.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Show pool description (truncated) in collapsed pool header, or show on hover.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-402",
      "feature": "Dispositions",
      "category": "D-dispositions",
      "title": "Keyboard Navigation Not Fully Tested",
      "severity": "medium",
      "location": "Section 5 - Accessibility",
      "issue": "Documentation explicitly flags \"Keyboard navigation: ‚ö†Ô∏è DnD library supports keyboard, but not fully tested\". Drag-and-drop reordering of dispositions may not be accessible to keyboard-only users, creating an accessibility barrier for admins with motor impairments.",
      "suggested_fix": "Test and document keyboard-based reordering flow. Ensure drag-and-drop library (dnd-kit) keyboard support works correctly. Add alternative controls (up/down buttons) if keyboard DnD proves problematic.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Test and document keyboard-based reordering flow. Ensure drag-and-drop library (dnd-kit) keyboard support works correctly. Add alternative controls (up/down buttons) if keyboard DnD proves problematic.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-403",
      "feature": "Dispositions",
      "category": "D-dispositions",
      "title": "Color-Only Differentiation for Screen Readers",
      "severity": "medium",
      "location": "Section 5 - Accessibility",
      "issue": "Documentation notes \"Screen reader support: ‚ö†Ô∏è Color-only differentiation may be problematic\". Dispositions are distinguished primarily by color, which is inaccessible to blind users and users with color blindness. The trophy icon (üèÜ) for primary helps, but other dispositions rely solely on color.",
      "suggested_fix": "Add text labels or unique icons per disposition that screen readers can announce. Ensure color is not the only distinguishing characteristic.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add text labels or unique icons per disposition that screen readers can announce. Ensure color is not the only distinguishing characteristic.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-404",
      "feature": "Dispositions",
      "category": "D-dispositions",
      "title": "Cannot Edit Disposition After Agent Selection",
      "severity": "medium",
      "location": "Section 7 - Identified Issues; Section 7 - First Principles Review #4",
      "issue": "Section 7 lists \"Can't edit disposition after selection | Agent might misclick | üü° Medium\" and First Principles #4 flags \"Is the flow reversible? ‚ö†Ô∏è Partially - Can't change disposition after saved\". If an agent accidentally selects the wrong disposition, there's no way to correct it, leading to inaccurate call outcome data.",
      "suggested_fix": "Add edit option in call logs view for agents/admins to correct disposition assignments. Could require admin approval or time limit (e.g., editable within 24 hours).",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add edit option in call logs view for agents/admins to correct disposition assignments. Could require admin approval or time limit (e.g., editable within 24 hours).",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-405",
      "feature": "Dispositions",
      "category": "D-dispositions",
      "title": "Dispositions Are Org-Wide Instead of Pool-Specific",
      "severity": "medium",
      "location": "Section 7 - Identified Issues; Section 10 - Open Questions #3",
      "issue": "Section 7 lists \"Dispositions are org-wide | Can't customize per pool | üü° Medium\" and Open Question #3 asks \"Should dispositions be pool-specific? Currently org-wide. Different pools might have different outcome codes.\" Organizations with multiple products/services handled by different pools cannot have tailored disposition lists.",
      "suggested_fix": "Add optional pool_id column to dispositions table. Allow admins to assign dispositions to specific pools or keep as org-wide. Filter agent modal based on current call's pool.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add optional pool_id column to dispositions table. Allow admins to assign dispositions to specific pools or keep as org-wide. Filter agent modal based on current call's pool.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-406",
      "feature": "Dispositions",
      "category": "D-dispositions",
      "title": "Drag Reorder Uses Sequential Database Updates",
      "severity": "low",
      "location": "Section 6 - Performance; Section 3 - Data Flow (DRAG REORDER)",
      "issue": "Section 6 Performance notes \"Drag reorder | Multiple sequential updates (not batched) | ‚ö†Ô∏è Could be optimized\". Section 3 Data Flow shows \"Loop through reordered items: ‚Üí Supabase: UPDATE display_order for each\". With many dispositions, reordering could be slow and prone to partial failure.",
      "suggested_fix": "Batch updates into single transaction or use a stored procedure to update all display_order values atomically.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Batch updates into single transaction or use a stored procedure to update all display_order values atomically.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-407",
      "feature": "Dispositions",
      "category": "D-dispositions",
      "title": "Concurrent Edits Have No Optimistic Locking",
      "severity": "low",
      "location": "Section 6 - Reliability",
      "issue": "Documentation states \"Concurrent edits | Last-write-wins (no optimistic locking)\". If two admins edit the same disposition simultaneously, one admin's changes will silently overwrite the other's without warning.",
      "suggested_fix": "Add optimistic locking using updated_at timestamp comparison. Notify admin if disposition was modified since they started editing.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add optimistic locking using updated_at timestamp comparison. Notify admin if disposition was modified since they started editing.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-408",
      "feature": "Dispositions",
      "category": "D-dispositions",
      "title": "Agent Browser Close Causes Data Loss",
      "severity": "low",
      "location": "Section 4 - Edge Cases #9",
      "issue": "Edge case #9 flags \"Agent closes browser before selecting | Browser close | No disposition saved | ‚ö†Ô∏è\" with note \"Data loss acceptable\". While documented as acceptable, this could lead to incomplete analytics data if agents frequently close browsers before selecting dispositions.",
      "suggested_fix": "Consider auto-assigning \"No Response\" disposition after timeout, or prompting agents to select disposition before allowing browser close (onbeforeunload handler).",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Consider auto-assigning \"No Response\" disposition after timeout, or prompting agents to select disposition before allowing browser close (onbeforeunload handler).",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-409",
      "feature": "Dispositions",
      "category": "D-dispositions",
      "title": "Agent Network Error Leaves Modal Stuck Open",
      "severity": "low",
      "location": "Section 4 - Error States",
      "issue": "Error States table shows \"Network error (agent) | Update fails | Console error, modal stays open | Click again or skip\". If agent has intermittent network issues, the modal may stay open with no clear indication of what went wrong (error only in console).",
      "suggested_fix": "Show user-visible error toast when disposition save fails. Add explicit retry button. Consider auto-retry with exponential backoff.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Show user-visible error toast when disposition save fails. Add explicit retry button. Consider auto-retry with exponential backoff.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-410",
      "feature": "Dispositions",
      "category": "D-dispositions",
      "title": "Disposition Selection Optional vs Required Undefined",
      "severity": "medium",
      "location": "Section 10 - Open Questions #1",
      "issue": "Open Question #1 asks \"Should disposition selection be required? Currently optional (Skip button). Some orgs may want to enforce selection.\" The system has no configuration to make disposition selection mandatory, which may result in incomplete data for organizations that need 100% call categorization.",
      "suggested_fix": "Add org/pool-level setting \"Require disposition selection\" that hides Skip button when enabled. Consider timeout auto-disposition if required but agent doesn't select.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add org/pool-level setting \"Require disposition selection\" that hides Skip button when enabled. Consider timeout auto-disposition if required but agent doesn't select.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-411",
      "feature": "Dispositions",
      "category": "D-dispositions",
      "title": "Analytics Lost When Disposition Deleted",
      "severity": "medium",
      "location": "Section 10 - Open Questions #4; Section 4 - Edge Cases #8",
      "issue": "Open Question #4 asks \"What happens to analytics when disposition is deleted? Currently disposition_id becomes NULL. Historical reporting loses that categorization.\" Edge case #8 confirms \"Delete used disposition | Disposition deleted, call_logs.disposition_id ‚Üí NULL\". Deleting a disposition destroys historical categorization data, making trend analysis inaccurate.",
      "suggested_fix": "Implement soft delete (is_deleted flag) instead of hard delete. Keep deleted dispositions visible in historical reports but hidden from agent selection modal. Alternatively, warn admin about affected call count before deletion.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Implement soft delete (is_deleted flag) instead of hard delete. Keep deleted dispositions visible in historical reports but hidden from agent selection modal. Alternatively, warn admin about affected call count before deletion.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-412",
      "feature": "Dispositions",
      "category": "D-dispositions",
      "title": "No Hard Limit on Number of Dispositions",
      "severity": "low",
      "location": "Section 10 - Open Questions #6",
      "issue": "Open Question #6 states \"Is there a limit on number of dispositions? No hard limit. UX degrades with >10 options (scrolling required).\" Agent modal with too many dispositions could slow down call wrap-up and increase cognitive load, reducing productivity.",
      "suggested_fix": "Add soft limit warning when admin creates more than 10 dispositions. Consider disposition categories/groups for organizations with many codes. Provide UX guidance in admin UI.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add soft limit warning when admin creates more than 10 dispositions. Consider disposition categories/groups for organizations with many codes. Provide UX guidance in admin UI.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-413",
      "feature": "Agent Management",
      "category": "D4",
      "title": "Agent Removal Doesn't End Active Calls",
      "severity": "high",
      "location": "Section 4 - Edge Cases #10; Section 7 - Identified Issues; Section 10 - Open Questions #1",
      "issue": "Multiple sections flag this: Edge Case #10 marks \"Remove agent in call\" with ‚ö†Ô∏è warning noting \"Call continues until natural end\". Section 7 explicitly lists \"Agent removal doesn't end active calls | Call continues after agent 'removed' | üü° Medium\". Open Question #1 states \"Should removing an agent terminate their active call? Currently soft delete doesn't emit any call:end event.\" This could lead to confusing state where a \"removed\" agent continues in an active call, and call logs may reference an agent that appears deleted.",
      "suggested_fix": "Emit call:end event during agent removal to gracefully terminate active calls, or explicitly document the business decision that calls should complete naturally.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "ticketed",
      "ticket_id": "TKT-010",
      "options": [
        {
          "id": "implement_fix",
          "label": "Emit call:end event during agent removal to gracefully terminate active calls, or explicitly document the business decision that calls should complete naturally.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-414",
      "feature": "Agent Management",
      "category": "D4",
      "title": "Cannot Re-invite Previously Removed Users",
      "severity": "medium",
      "location": "Section 4 - Edge Cases #21; Section 7 - Identified Issues; Section 10 - Open Questions #2",
      "issue": "Edge Case #21 marks \"Re-invite removed user\" with ‚ö†Ô∏è warning stating \"Can't re-invite (by design)\". Section 7 lists \"Can't re-invite removed users | Users with inactive agent_profile can't be re-invited | üü° Medium\". Open Question #2 asks about how to handle this. The current behavior returns \"User already exists\" error, preventing admins from bringing back former team members through the normal invite flow.",
      "suggested_fix": "Implement a reactivation flow for previously removed users, or add a \"Reinvite\" option that bypasses the user existence check for deactivated users.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "ticketed",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Implement a reactivation flow for previously removed users, or add a \"Reinvite\" option that bypasses the user existence check for deactivated users.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-024",
      "feature": "Agent Management",
      "category": "D4",
      "title": "Email Send Failure Is Silent",
      "severity": "medium",
      "location": "Section 4 - Edge Cases #20; Section 7 - Identified Issues; Section 10 - Open Questions #3",
      "issue": "Edge Case #20 marks \"Email send fails\" with ‚ö†Ô∏è warning noting \"Console warning only\". Section 7 states \"Email send failure silent | Invite created but invitee never notified | üü° Medium\". Open Question #3 asks \"Should email failures be more visible?\" The invite is created, billing seat is consumed, but the invitee never receives the email. Admin has no indication of delivery failure.",
      "suggested_fix": "Add retry mechanism for email delivery, or display warning to admin if email send fails. Consider rollback of invite if email cannot be sent after retries.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "ticketed",
      "ticket_id": "TKT-011",
      "options": [
        {
          "id": "implement_fix",
          "label": "Add retry mechanism for email delivery, or display warning to admin if email send fails. Consider rollback of invite if email cannot be sent after retries.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-416",
      "feature": "Agent Management",
      "category": "D4",
      "title": "Revoked Invite State Definition Inconsistency",
      "severity": "low",
      "location": "Section 2 - State Definitions",
      "issue": "In the State Definitions table, the \"revoked\" state says \"How to Exit: N/A (record deleted)\" - implying the invite record is deleted when revoked. However, the state machine diagram shows \"Revoked\" as a terminal state alongside \"Accepted\" and \"Expired\". This is contradictory: if the record is deleted, it's not in a \"revoked\" state - it simply doesn't exist. The Revoke invite trigger in Section 3 confirms \"Deletes invite, credits seat\" but lists it as going to a \"revoked\" state.",
      "suggested_fix": "Clarify whether revoked invites are soft-deleted (status changed to 'revoked') or hard-deleted (record removed). Update state machine and definitions to be consistent.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Clarify whether revoked invites are soft-deleted (status changed to 'revoked') or hard-deleted (record removed). Update state machine and definitions to be consistent.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-417",
      "feature": "Agent Management",
      "category": "D4",
      "title": "Admin vs Agent Billing Timing Inconsistency",
      "severity": "medium",
      "location": "Section 4 - Edge Cases #13-15",
      "issue": "Edge Case #13 states that inviting an admin creates an invite with \"no seat charge\". Edge Cases #14-15 show that seat charge only happens at accept time if the admin chooses to take calls. However, for agent role invites, Edge Case #3 shows billing is charged at invite time (when exceeding purchased seats). This creates different billing timing: agents are charged when invited, but admins who take calls are charged when they accept. This inconsistency may confuse users about when billing impacts occur.",
      "suggested_fix": "Document this intentional difference prominently in the UI cost preview, or unify billing timing across roles (either both at invite time or both at accept time).",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Document this intentional difference prominently in the UI cost preview, or unify billing timing across roles (either both at invite time or both at accept time).",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-418",
      "feature": "Agent Management",
      "category": "D4",
      "title": "No Bulk Invite Functionality",
      "severity": "low",
      "location": "Section 7 - Identified Issues",
      "issue": "Section 7 explicitly lists \"No bulk invite | Must invite one at a time | üü¢ Low | Add CSV upload for enterprise\". For organizations onboarding large teams, inviting agents one-by-one is tedious and time-consuming. This may be a friction point for enterprise customers.",
      "suggested_fix": "Consider implementing CSV upload or bulk email input for enterprise-tier organizations. Low priority for current scale.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Consider implementing CSV upload or bulk email input for enterprise-tier organizations. Low priority for current scale.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-419",
      "feature": "Agent Management",
      "category": "D4",
      "title": "Screen Reader Support Not Verified",
      "severity": "medium",
      "location": "Section 5 - Accessibility",
      "issue": "Documentation explicitly states \"Screen reader support: ‚ö†Ô∏è Not explicitly verified\". The agents page contains status indicators (colors), pending invite badges, seat allocation displays, and action buttons that may not have proper ARIA labels for screen reader users.",
      "suggested_fix": "Conduct screen reader accessibility audit. Add ARIA labels to status colors, seat counts, and pending invite sections. Verify form labels in invite modal.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "ticketed",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Conduct screen reader accessibility audit. Add ARIA labels to status colors, seat counts, and pending invite sections. Verify form labels in invite modal.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-420",
      "feature": "Agent Management",
      "category": "D4",
      "title": "Orphaned Billing Seat on Email Failure",
      "severity": "medium",
      "location": "Section 6 - Reliability",
      "issue": "Section 6 Reliability lists \"Orphaned billing seat | Email failure doesn't rollback invite (invite exists)\". When email send fails, the invite record is created and the billing seat is consumed, but the invitee never receives notification. This results in paying for a seat that cannot be used until admin notices and revokes the invite manually.",
      "suggested_fix": "Either rollback the invite on email failure, implement email retry queue, or alert the admin immediately when email fails so they can resend or revoke.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Either rollback the invite on email failure, implement email retry queue, or alert the admin immediately when email fails so they can resend or revoke.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-421",
      "feature": "Agent Management",
      "category": "D4",
      "title": "Invite Expiration Not Configurable",
      "severity": "low",
      "location": "Section 10 - Open Questions #4",
      "issue": "Open Question #4 states \"Is 7-day invite expiration appropriate? Hardcoded in DB default. Should it be configurable per-org?\" Some organizations may need longer invite windows (e.g., new hires who won't start for 2+ weeks) or shorter windows for security compliance.",
      "suggested_fix": "Consider making invite expiration configurable at organization level, with 7 days as default. Low priority enhancement.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Consider making invite expiration configurable at organization level, with 7 days as default. Low priority enhancement.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-422",
      "feature": "Agent Management",
      "category": "D4",
      "title": "No Stripe Downtime Retry Mechanism",
      "severity": "medium",
      "location": "Section 10 - Open Questions #5; Section 4 - Edge Cases #19",
      "issue": "Open Question #5 asks \"What happens if Stripe is down during invite? Currently fails and rolls back invite. Should there be a retry mechanism?\" Edge Case #19 confirms that billing API failure causes invite deletion (rollback). This is correct for transactional integrity but poor for user experience - the admin must manually retry. During Stripe outages, no invites can be sent.",
      "suggested_fix": "Consider queuing invites for retry during temporary Stripe failures, with notification to admin of pending status. Alternatively, document expected behavior clearly in error message.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Consider queuing invites for retry during temporary Stripe failures, with notification to admin of pending status. Alternatively, document expected behavior clearly in error message.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-423",
      "feature": "Agent Management",
      "category": "D4",
      "title": "Deactivated Agents Not Visible to Admins",
      "severity": "low",
      "location": "Section 10 - Open Questions #6",
      "issue": "Open Question #6 states \"Should admins be able to see deactivated agents? Currently filtered out entirely. May be useful for audit/history.\" Admins have no way to see former team members, making it difficult to audit team changes over time or verify who previously had access.",
      "suggested_fix": "Consider adding \"Show deactivated agents\" toggle or separate \"Former Team Members\" tab for audit purposes.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Consider adding \"Show deactivated agents\" toggle or separate \"Former Team Members\" tab for audit purposes.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-424",
      "feature": "RNA (Ring-No-Answer) Timeout & Auto-Reassignment",
      "category": "A-rna-timeout",
      "title": "No Maximum Reassignment Attempts Limit",
      "severity": "medium",
      "location": "Section \"Edge Cases & Race Conditions\" - ‚ö†Ô∏è POTENTIAL ISSUE",
      "issue": "Document explicitly flags that there is \"No limit on reassignment attempts.\" While the doc argues this is \"likely not a problem in practice,\" in edge cases (e.g., agents rapidly toggling back from away), the system could create an excessive chain of call_log entries and waste server resources with repeated routing attempts.",
      "suggested_fix": "Implement a maximum reassignment count (e.g., 3-5 attempts) with fallback to AGENT_UNAVAILABLE. Add configurable org setting if needed.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Implement a maximum reassignment count (e.g., 3-5 attempts) with fallback to AGENT_UNAVAILABLE. Add configurable org setting if needed.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-425",
      "feature": "RNA (Ring-No-Answer) Timeout & Auto-Reassignment",
      "category": "A-rna-timeout",
      "title": "Server Restart Loses In-Flight RNA Timeouts",
      "severity": "medium",
      "location": "Section \"Edge Cases & Race Conditions\" - ‚ö†Ô∏è POTENTIAL ISSUE",
      "issue": "Document acknowledges that server restart during RNA period causes in-memory `rnaTimeouts` Map to be lost. The visitor is left confused with no notification. The mitigation stated (\"server restart clears all pending calls anyway\") doesn't address the visitor experience during the window.",
      "suggested_fix": "Consider persisting pending call requests to Redis with TTL, or emit a \"reconnecting\" event to visitors on server recovery so they know to retry.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Consider persisting pending call requests to Redis with TTL, or emit a \"reconnecting\" event to visitors on server recovery so they know to retry.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-426",
      "feature": "RNA (Ring-No-Answer) Timeout & Auto-Reassignment",
      "category": "A-rna-timeout",
      "title": "No \"Finding Another Agent\" Message for Visitor",
      "severity": "medium",
      "location": "Section \"What Each Party Sees\" - Visitor subsection",
      "issue": "Document states \"No explicit 'finding another agent' message currently.\" During reassignment, the visitor continues seeing \"Connecting...\" with no feedback that the original agent didn't answer. This could cause confusion if the wait time exceeds visitor expectations.",
      "suggested_fix": "When RNA timeout fires and reassignment begins, emit a widget message like \"Our first agent is unavailable, connecting you to another...\" to set visitor expectations.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "When RNA timeout fires and reassignment begins, emit a widget message like \"Our first agent is unavailable, connecting you to another...\" to set visitor expectations.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-427",
      "feature": "RNA (Ring-No-Answer) Timeout & Auto-Reassignment",
      "category": "A-rna-timeout",
      "title": "Configuration Fallback Precedence Not Clear",
      "severity": "low",
      "location": "Section \"Configuration\"",
      "issue": "Two timeout values are documented: `RNA_TIMEOUT` constant (15,000ms) and `rna_timeout_seconds` in database. The code snippet shows `getCallSettings()` is used, but doesn't explain what happens if `rna_timeout_seconds` is null/undefined. Does it fall back to the constant? This could cause inconsistent behavior across orgs.",
      "suggested_fix": "Clarify in documentation: \"If `rna_timeout_seconds` is not set for an org, the system defaults to `TIMING.RNA_TIMEOUT` (15s).\"",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Clarify in documentation: \"If `rna_timeout_seconds` is not set for an org, the system defaults to `TIMING.RNA_TIMEOUT` (15s).\"",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-428",
      "feature": "RNA (Ring-No-Answer) Timeout & Auto-Reassignment",
      "category": "A-rna-timeout",
      "title": "Missing Scenario - Agent Disconnects During RNA Period",
      "severity": "medium",
      "location": "Section \"Edge Cases & Race Conditions\"",
      "issue": "The document handles \"Accept vs Timeout Race\" but doesn't address what happens if the agent's socket disconnects during the RNA period (e.g., browser crash, network drop). Does the RNA timeout still fire correctly? Is the visitor notified immediately or must they wait the full timeout?",
      "suggested_fix": "Document what happens on agent disconnect: either immediate reassignment or timeout continues. If immediate reassignment is desired, add logic to detect disconnect and trigger reassignment early.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Document what happens on agent disconnect: either immediate reassignment or timeout continues. If immediate reassignment is desired, add logic to detect disconnect and trigger reassignment early.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-429",
      "feature": "RNA (Ring-No-Answer) Timeout & Auto-Reassignment",
      "category": "A-rna-timeout",
      "title": "Missing Scenario - Visitor Disconnects During RNA Period",
      "severity": "low",
      "location": "Section \"Edge Cases & Race Conditions\"",
      "issue": "Document doesn't address what happens if the visitor navigates away or closes their browser during the RNA waiting period. Does the RNA timeout still fire and mark the agent away even though the visitor is gone?",
      "suggested_fix": "Document behavior: If visitor disconnects during RNA period, clear the RNA timeout and cancel the call request to prevent incorrectly marking the agent away.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Document behavior: If visitor disconnects during RNA period, clear the RNA timeout and cancel the call request to prevent incorrectly marking the agent away.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-430",
      "feature": "RNA (Ring-No-Answer) Timeout & Auto-Reassignment",
      "category": "A-rna-timeout",
      "title": "Next Agent Receives No Context About Reassignment",
      "severity": "low",
      "location": "Section \"What Each Party Sees\" - Next Agent subsection",
      "issue": "Document states \"No indication this is a reassigned call.\" The receiving agent doesn't know the visitor has already been waiting for 15+ seconds. This could affect how the agent greets the visitor or sets expectations.",
      "suggested_fix": "Include a flag in `call:incoming` payload like `isReassigned: true` or `waitTimeSeconds: N` so the dashboard can optionally display \"Transferred call - visitor waiting 20s\".",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Include a flag in `call:incoming` payload like `isReassigned: true` or `waitTimeSeconds: N` so the dashboard can optionally display \"Transferred call - visitor waiting 20s\".",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-431",
      "feature": "RNA (Ring-No-Answer) Timeout & Auto-Reassignment",
      "category": "A-rna-timeout",
      "title": "Missing Scenario - Agent Multiple Browser Tabs",
      "severity": "low",
      "location": "Section \"Implementation Details\"",
      "issue": "Document doesn't address the scenario where an agent has multiple dashboard tabs open. If agent receives `call:incoming` in both tabs and accepts in one, does the RNA timeout clear properly for the request? Could accepting in Tab A while RNA fires in Tab B cause a race condition?",
      "suggested_fix": "Document expected behavior with multiple tabs. Verify `clearRNATimeout(requestId)` is called regardless of which socket instance accepts.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Document expected behavior with multiple tabs. Verify `clearRNATimeout(requestId)` is called regardless of which socket instance accepts.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-432",
      "feature": "RNA (Ring-No-Answer) Timeout & Auto-Reassignment",
      "category": "A-rna-timeout",
      "title": "No Validation Limits on Configurable Timeout",
      "severity": "low",
      "location": "Section \"Configuration Recommendations\"",
      "issue": "While recommendations suggest \"45+ seconds - Not recommended,\" there's no documented validation preventing an admin from setting RNA timeout to extreme values like 1 second (causing instant RNA) or 5 minutes (terrible visitor experience). No min/max bounds are specified.",
      "suggested_fix": "Document and implement validation limits (e.g., minimum 5s, maximum 60s) in admin settings. Show warning for values outside recommended range.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Document and implement validation limits (e.g., minimum 5s, maximum 60s) in admin settings. Show warning for values outside recommended range.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-433",
      "feature": "RNA (Ring-No-Answer) Timeout & Auto-Reassignment",
      "category": "A-rna-timeout",
      "title": "Timing Diagram Shows Fixed 15s But Value Is Configurable",
      "severity": "low",
      "location": "Section \"Timing Diagram\"",
      "issue": "The timing diagram hardcodes \"(15 seconds)\" but the configuration section explains this is customizable per-organization. This could mislead readers into thinking 15s is always the value.",
      "suggested_fix": "Update timing diagram to show \"(configured timeout)\" or \"(e.g., 15 seconds)\" to indicate variability.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Update timing diagram to show \"(configured timeout)\" or \"(e.g., 15 seconds)\" to indicate variability.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-434",
      "feature": "Geolocation Service",
      "category": "P-geolocation-service",
      "title": "No Cache Eviction Policy - Memory Grows Unbounded",
      "severity": "medium",
      "location": "Section 6 - Performance (Memory usage row); Section 7 - Identified Issues; Section 10 - Open Questions #1",
      "issue": "Multiple sections flag that the location cache is an unbounded Map that \"grows with unique IPs\" with \"no eviction policy\". Section 7 explicitly lists \"No cache eviction policy | Memory grows unbounded over time | üü° Medium\". Open Question #1 asks \"Should the location cache have a maximum size? Currently unbounded Map could grow indefinitely with unique IPs.\" On a high-traffic site, this could lead to memory exhaustion over time, especially since each unique IP is cached for 1 hour without any LRU or max-size limit.",
      "suggested_fix": "Implement an LRU cache with a maximum size limit (e.g., 10K entries as suggested in Open Questions). Consider using a library like `lru-cache` or implementing a simple max-size check with oldest-entry eviction.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Implement an LRU cache with a maximum size limit (e.g., 10K entries as suggested in Open Questions). Consider using a library like `lru-cache` or implementing a simple max-size check with oldest-entry eviction.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-435",
      "feature": "Geolocation Service",
      "category": "P-geolocation-service",
      "title": "Empty Allowlist Allows Everyone - Counterintuitive Behavior",
      "severity": "medium",
      "location": "Section 4 - Edge Cases #20; Section 7 - Identified Issues; Section 10 - Open Questions #6",
      "issue": "Edge Case #20 marks \"Empty allowlist | No countries in allowlist | All countries allowed | ‚ö†Ô∏è | Lenient, could block all\" as a concern. Section 7 lists \"Empty allowlist allows all | Counterintuitive for strict mode | üü° Medium\". An admin who sets mode to \"allowlist\" but forgets to add countries would expect strict behavior (block everyone), but instead all visitors are allowed. This is a security/logic gap.",
      "suggested_fix": "Either (a) block all visitors when allowlist is empty (strict interpretation), or (b) show a warning in the admin UI when saving an empty allowlist explaining that it will allow all traffic, or (c) prevent saving allowlist mode with an empty country list.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Either (a) block all visitors when allowlist is empty (strict interpretation), or (b) show a warning in the admin UI when saving an empty allowlist explaining that it will allow all traffic, or (c) prevent saving allowlist mode with an empty country list.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-436",
      "feature": "Geolocation Service",
      "category": "P-geolocation-service",
      "title": "Failed API Lookups Cached for Full Hour",
      "severity": "low",
      "location": "Section 3 - Data Flow (API failure branch); Section 10 - Open Questions #2",
      "issue": "Open Question #2 states \"Should failed API lookups be cached shorter? Currently failed lookups (null) are cached for 1 hour same as successes. Could use shorter TTL (e.g., 5 minutes) to retry sooner.\" When ip-api.com fails (rate limit, network issue, invalid IP), the null result is cached for the full hour, meaning legitimate visitors could be impacted by stale failure data even after the API recovers.",
      "suggested_fix": "Cache failed lookups (null results) with a shorter TTL (e.g., 5 minutes) to allow faster retry. Keep successful lookups at 1-hour TTL for efficiency.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Cache failed lookups (null results) with a shorter TTL (e.g., 5 minutes) to allow faster retry. Keep successful lookups at 1-hour TTL for efficiency.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-437",
      "feature": "Geolocation Service",
      "category": "P-geolocation-service",
      "title": "x-forwarded-for Header Trust Without Validation",
      "severity": "medium",
      "location": "Section 6 - Security (IP spoofing row); Section 10 - Open Questions #3",
      "issue": "Security section notes \"IP spoofing via headers: Trusts x-forwarded-for (assumes trusted proxy)\". Open Question #3 explicitly asks \"Is x-forwarded-for trustworthy? Current implementation trusts the first IP in x-forwarded-for header. If not behind a trusted proxy, this could be spoofed. May need configuration option.\" If the server receives direct connections (not behind a trusted proxy), attackers could spoof their IP via header injection to bypass geo-blocking.",
      "suggested_fix": "Add a configuration option to enable/disable trusting proxy headers based on deployment environment. When disabled, fall back to socket.address only. Document the security implications of each setting.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add a configuration option to enable/disable trusting proxy headers based on deployment environment. When disabled, fall back to socket.address only. Document the security implications of each setting.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-438",
      "feature": "Geolocation Service",
      "category": "P-geolocation-service",
      "title": "Cache Not Shared Across Multiple Server Instances",
      "severity": "medium",
      "location": "Section 7 - Identified Issues",
      "issue": "Section 7 lists \"Cache not shared across servers | Horizontal scaling = more API calls | üü° Medium\". When running multiple server instances (common in production for load balancing), each instance has its own in-memory cache. This means the same IP could trigger API lookups on each server instance, multiplying API usage and risking rate limits.",
      "suggested_fix": "Implement a shared cache using Redis or similar for production deployments with multiple server instances. Keep in-memory cache for single-instance deployments.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Implement a shared cache using Redis or similar for production deployments with multiple server instances. Keep in-memory cache for single-instance deployments.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-439",
      "feature": "Geolocation Service",
      "category": "P-geolocation-service",
      "title": "Blocklist Cache Staleness After Admin Updates",
      "severity": "medium",
      "location": "Section 4 - Edge Cases #24; Section 5 - Admin Experience Step 4; Section 10 - Open Questions #5",
      "issue": "Edge Case #24 notes \"Country list updated by admin | Settings change | Need manual cache clear | ‚ö†Ô∏è | `clearBlocklistCache()` exists\". Admin Experience Step 4 shows \"Save changes | Cache cleared for org | ‚ö†Ô∏è | May need server restart for immediate effect\". Open Question #5 asks \"What happens when blocklist cache is stale? Admin updates blocklist, cache serves old data for up to 5 minutes.\" This means an admin who blocks a country may see those visitors still connecting for up to 5 minutes, causing confusion.",
      "suggested_fix": "Implement immediate cache invalidation when blocklist settings are updated. If database triggers aren't available, ensure the API endpoint that saves blocklist settings calls `clearBlocklistCache(orgId)` synchronously before returning success.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Implement immediate cache invalidation when blocklist settings are updated. If database triggers aren't available, ensure the API endpoint that saves blocklist settings calls `clearBlocklistCache(orgId)` synchronously before returning success.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-440",
      "feature": "Geolocation Service",
      "category": "P-geolocation-service",
      "title": "IPv6 Support is Partial and Untested",
      "severity": "low",
      "location": "Section 6 - Reliability (IPv6 support row); Section 10 - Open Questions #4",
      "issue": "Section 6 states \"IPv6 support: Partial - localhost handled, public IPv6 goes to API\". Open Question #4 asks \"Should IPv6 public addresses be supported explicitly? Currently relies on ip-api.com to handle IPv6. May need testing with IPv6-only visitors.\" As IPv6 adoption increases, untested IPv6 handling could cause issues for visitors on IPv6-only networks.",
      "suggested_fix": "Test geolocation with IPv6 public addresses to verify ip-api.com handles them correctly. Document any limitations. Consider adding explicit IPv6 format validation.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Test geolocation with IPv6 public addresses to verify ip-api.com handles them correctly. Document any limitations. Consider adding explicit IPv6 format validation.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-441",
      "feature": "Geolocation Service",
      "category": "P-geolocation-service",
      "title": "No Manual Location Override Capability",
      "severity": "low",
      "location": "Section 7 - Identified Issues",
      "issue": "Section 7 lists \"No manual location override | Can't correct wrong geolocation | üü¢ Low | Add admin override in future\". IP-based geolocation can be inaccurate (VPNs, corporate proxies, mobile carriers with distant POPs). Agents have no way to correct a visitor's displayed location if it's obviously wrong.",
      "suggested_fix": "Consider adding an agent-side override button to manually correct visitor location during a call, or an admin setting to map specific IP ranges to locations.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Consider adding an agent-side override button to manually correct visitor location during a call, or an admin setting to map specific IP ranges to locations.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-442",
      "feature": "Geolocation Service",
      "category": "P-geolocation-service",
      "title": "VPN/Proxy Bypass is Known Limitation",
      "severity": "low",
      "location": "Section 4 - Edge Cases #8; Section 6 - Security; Section 7 - Identified Issues",
      "issue": "Edge Case #8 marks \"VPN with public IP | VPN user | Resolves to VPN exit node location | ‚ö†Ô∏è | IP-based geo limitation\". Section 7 confirms \"VPN/proxy bypasses blocking | Users can circumvent blocks | üü¢ Low | Known IP geo limitation\". While documented as a known limitation, admins relying on geo-blocking for compliance or fraud prevention should be explicitly warned that VPN users can bypass blocks.",
      "suggested_fix": "Add a disclaimer in the Blocklist Settings admin UI: \"Note: Visitors using VPNs or proxies will appear from the VPN exit node's location, not their actual location.\"",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add a disclaimer in the Blocklist Settings admin UI: \"Note: Visitors using VPNs or proxies will appear from the VPN exit node's location, not their actual location.\"",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-443",
      "feature": "Geolocation Service",
      "category": "P-geolocation-service",
      "title": "Silent Disconnect Provides No User Feedback",
      "severity": "low",
      "location": "Section 4 - Edge Cases #15, #16; Section 5 - User Experience Step 3; Section 7 - First Principles",
      "issue": "Documentation states blocked visitors experience \"Silent disconnect (visitor doesn't see widget)\" and Section 7's First Principles notes \"Is feedback immediate? ‚ö†Ô∏è Mostly - Blocked visitors get no feedback (by design)\". While intentionally silent for security (not revealing geo-blocking), this could confuse legitimate visitors who expect to see a widget but see nothing.",
      "suggested_fix": "Consider adding an optional \"show message to blocked visitors\" setting that displays a neutral message like \"This service is not available in your region\" rather than complete silence.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Consider adding an optional \"show message to blocked visitors\" setting that displays a neutral message like \"This service is not available in your region\" rather than complete silence.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-444",
      "feature": "Geolocation Service",
      "category": "P-geolocation-service",
      "title": "Supabase Error Fails Open Without User Notification",
      "severity": "low",
      "location": "Section 4 - Error States (Supabase error row)",
      "issue": "Error States table shows \"Supabase error | Can't fetch blocklist | All countries allowed | Logs warning, fails open\". While failing open is the safe default, this means a database outage could silently disable all geo-blocking across all organizations. Admins have no visibility into this failure mode.",
      "suggested_fix": "Add monitoring/alerting for blocklist fetch failures. Consider whether failing open is always the correct behavior or if high-security organizations should fail closed with a configurable option.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add monitoring/alerting for blocklist fetch failures. Consider whether failing open is always the correct behavior or if high-security organizations should fail closed with a configurable option.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-445",
      "feature": "Platform Dashboard",
      "category": "SA-platform-dashboard",
      "title": "No Pagination for Large Organization Lists",
      "severity": "medium",
      "location": "Section 4 - Edge Cases #5; Section 7 - Identified Issues",
      "issue": "Edge Case #5 states \"Very large data volumes | Many orgs/calls | Pagination not implemented ‚ö†Ô∏è | May slow with 1000+ orgs\". Section 7 confirms \"No pagination for large org lists | Slow load with 500+ orgs | üü° Medium\". This affects the Overview, Organizations, and Retargeting tabs which all fetch organization lists without pagination.",
      "suggested_fix": "Implement server-side pagination for organization lists, or use virtual scrolling for client-side performance. Add limit/offset to Supabase queries and UI pagination controls.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Implement server-side pagination for organization lists, or use virtual scrolling for client-side performance. Add limit/offset to Supabase queries and UI pagination controls.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-446",
      "feature": "Platform Dashboard",
      "category": "SA-platform-dashboard",
      "title": "Missing Skeleton/Loading States for Server-Side Rendering",
      "severity": "low",
      "location": "Section 5 - Accessibility; Section 7 - Identified Issues",
      "issue": "Section 5 states \"Loading states: ‚ö†Ô∏è No skeleton loaders, server-rendered data\" and Section 7 lists \"No skeleton loaders | No visual feedback during SSR | üü¢ Low\". Users see blank content during server-side data fetching with no visual indication that data is loading.",
      "suggested_fix": "Add skeleton loading components that display during server-side data fetching to provide visual feedback to users.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add skeleton loading components that display during server-side data fetching to provide visual feedback to users.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-447",
      "feature": "Platform Dashboard",
      "category": "SA-platform-dashboard",
      "title": "Expansion/Contraction MRR Hardcoded to Zero",
      "severity": "medium",
      "location": "Section 7 - Identified Issues; Section 10 - Open Questions #1",
      "issue": "Section 7 states \"Expansion/Contraction hardcoded to $0 | Missing upgrade/downgrade tracking | üü° Medium\". Open Question #1 confirms: \"Should expansion/contraction MRR be tracked? Currently hardcoded to $0. Would require an mrr_changes table to track seat additions/removals mid-subscription.\" NRR and Quick Ratio calculations are incomplete without this data.",
      "suggested_fix": "Implement mrr_changes table to track seat additions/removals and plan upgrades/downgrades. Update NRR and Quick Ratio calculations to use real expansion/contraction data.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Implement mrr_changes table to track seat additions/removals and plan upgrades/downgrades. Update NRR and Quick Ratio calculations to use real expansion/contraction data.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-448",
      "feature": "Platform Dashboard",
      "category": "SA-platform-dashboard",
      "title": "No Data Export Functionality",
      "severity": "low",
      "location": "Section 7 - Identified Issues",
      "issue": "Section 7 states \"No data export | Can't extract metrics | üü¢ Low\". Platform admins cannot export MRR data, organization lists, funnel metrics, or cancellation analysis to CSV/Excel for offline analysis or reporting.",
      "suggested_fix": "Add CSV export button to each tab (Overview, Funnel, Organizations, Cancellations) allowing platform admins to download displayed data.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add CSV export button to each tab (Overview, Funnel, Organizations, Cancellations) allowing platform admins to download displayed data.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-449",
      "feature": "Platform Dashboard",
      "category": "SA-platform-dashboard",
      "title": "Keyboard Navigation Not Fully Verified",
      "severity": "medium",
      "location": "Section 5 - Accessibility",
      "issue": "Documentation states \"Keyboard navigation: ‚ö†Ô∏è Not fully verified (tables may need ARIA)\". Data tables across multiple tabs (Overview, Funnel, Organizations, Cancellations) may not be accessible via keyboard navigation, violating WCAG 2.1 accessibility guidelines.",
      "suggested_fix": "Audit all data tables for keyboard navigability. Add proper ARIA roles, tabindex, and keyboard event handlers. Ensure sort buttons, filters, and table cells are keyboard-accessible.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Audit all data tables for keyboard navigability. Add proper ARIA roles, tabindex, and keyboard event handlers. Ensure sort buttons, filters, and table cells are keyboard-accessible.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-450",
      "feature": "Platform Dashboard",
      "category": "SA-platform-dashboard",
      "title": "Screen Reader Support Not Verified for Charts",
      "severity": "medium",
      "location": "Section 5 - Accessibility",
      "issue": "Documentation states \"Screen reader support: ‚ö†Ô∏è Not verified (charts need alt text)\". Visual charts showing MRR trends, churn, cohort retention, and funnel visualizations lack alternative text for screen reader users.",
      "suggested_fix": "Add aria-label or aria-describedby attributes to all chart components. Provide tabular data alternatives or descriptive summaries for visual charts.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add aria-label or aria-describedby attributes to all chart components. Provide tabular data alternatives or descriptive summaries for visual charts.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-451",
      "feature": "Platform Dashboard",
      "category": "SA-platform-dashboard",
      "title": "No Real-Time Updates for Revenue Changes",
      "severity": "low",
      "location": "Section 10 - Open Questions #2",
      "issue": "Open Question #2 asks: \"Is there a need for real-time updates? Current implementation is server-rendered on page load. Consider WebSocket updates for MRR changes.\" Platform admins must manually refresh to see revenue changes, potentially missing critical events like cancellations in progress.",
      "suggested_fix": "Evaluate need for real-time updates. If valuable, implement WebSocket subscription for critical events (new subscriptions, cancellations, payment failures) to update dashboard without refresh.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Evaluate need for real-time updates. If valuable, implement WebSocket subscription for critical events (new subscriptions, cancellations, payment failures) to update dashboard without refresh.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-452",
      "feature": "Platform Dashboard",
      "category": "SA-platform-dashboard",
      "title": "Health Scores Display-Only Without Automated Actions",
      "severity": "low",
      "location": "Section 10 - Open Questions #3",
      "issue": "Open Question #3 asks: \"Should health scores trigger automated actions? Currently display-only. Could trigger automated emails to at-risk org admins.\" At-risk organizations with low health scores are identified but no proactive intervention is triggered, relying on manual platform admin monitoring.",
      "suggested_fix": "Define health score thresholds for automated actions. Consider implementing automated alerts to platform admins or outreach emails to at-risk organization admins when health scores drop below critical thresholds.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Define health score thresholds for automated actions. Consider implementing automated alerts to platform admins or outreach emails to at-risk organization admins when health scores drop below critical thresholds.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-453",
      "feature": "Platform Dashboard",
      "category": "SA-platform-dashboard",
      "title": "No Data Retention Policy for funnel_events Table",
      "severity": "medium",
      "location": "Section 10 - Open Questions #4",
      "issue": "Open Question #4 asks: \"What's the data retention policy for funnel_events? If this table grows large, may need archival strategy.\" Without a retention policy, the funnel_events table could grow unbounded, affecting query performance and storage costs.",
      "suggested_fix": "Define data retention policy for funnel_events (e.g., archive events older than 2 years). Implement automated archival or deletion job. Consider aggregating old events into summary tables for historical analysis.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Define data retention policy for funnel_events (e.g., archive events older than 2 years). Implement automated archival or deletion job. Consider aggregating old events into summary tables for historical analysis.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-454",
      "feature": "Platform Dashboard",
      "category": "SA-platform-dashboard",
      "title": "Retargeting Events Not Tracked in Dashboard",
      "severity": "low",
      "location": "Section 10 - Open Questions #5",
      "issue": "Open Question #5 asks: \"Should retargeting events be tracked in this dashboard? Currently shows config only, not event volumes sent to Facebook.\" Platform admins configure the Facebook pixel but have no visibility into whether retargeting events are actually being sent or received.",
      "suggested_fix": "Add retargeting event tracking to display event volumes, success/failure rates, and organization-level retargeting activity. Consider showing last 7/30 day event counts.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add retargeting event tracking to display event volumes, success/failure rates, and organization-level retargeting activity. Consider showing last 7/30 day event counts.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-455",
      "feature": "Platform Dashboard",
      "category": "SA-platform-dashboard",
      "title": "Facebook Pixel Access Token Storage Security",
      "severity": "medium",
      "location": "Section 6 - Security",
      "issue": "Documentation states \"Pixel credentials | Access token stored in platform_settings\". Facebook access tokens stored in database should be encrypted at rest to prevent exposure in case of database breach or backup exposure.",
      "suggested_fix": "Verify access token is encrypted at rest in platform_settings. If not, implement column-level encryption or store in a secrets manager. Audit access patterns to ensure tokens are only accessible to authorized platform admin actions.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Verify access token is encrypted at rest in platform_settings. If not, implement column-level encryption or store in a secrets manager. Audit access patterns to ensure tokens are only accessible to authorized platform admin actions.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-456",
      "feature": "Platform Dashboard",
      "category": "SA-platform-dashboard",
      "title": "Database Error Shows Partial Data Without User Notification",
      "severity": "medium",
      "location": "Section 4 - Error States",
      "issue": "Error States table shows \"Database error | Supabase unavailable | Console error, partial data | Refresh page\". When a database error occurs, users see partial data with only a console error logged. Platform admins have no visible indication that displayed data may be incomplete.",
      "suggested_fix": "Add error boundary or toast notification to inform users when any database query fails. Clearly distinguish between \"complete data\" and \"partial data due to error\" states in the UI.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add error boundary or toast notification to inform users when any database query fails. Clearly distinguish between \"complete data\" and \"partial data due to error\" states in the UI.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-457",
      "feature": "Invite Accept",
      "category": "AUTH-invite-accept",
      "title": "Agent Profile Creation Failure Continues Silently",
      "severity": "medium",
      "location": "Section 4 - Edge Cases #12; Section 7 - Identified Issues",
      "issue": "Edge Case #12 states: \"Agent profile creation fails | DB insert error | Logged, continues anyway | ‚ö†Ô∏è | User is created but may not appear as agent\". Section 7 confirms: \"Agent profile creation failure continues | User created but not as agent | üü° Medium\". When agent profile creation fails, the user is created successfully but cannot function as an agent. This leaves the system in an inconsistent state where the user exists but cannot perform their intended role.",
      "suggested_fix": "Show an error message to the user when agent profile creation fails and provide a retry mechanism. Alternatively, consider wrapping the entire account creation flow in a transaction to ensure atomicity.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Show an error message to the user when agent profile creation fails and provide a retry mechanism. Alternatively, consider wrapping the entire account creation flow in a transaction to ensure atomicity.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-458",
      "feature": "Invite Accept",
      "category": "AUTH-invite-accept",
      "title": "Billing Seat Allocation Failure Continues Silently",
      "severity": "medium",
      "location": "Section 4 - Edge Cases #13; Section 6 - Reliability; Section 7 - Identified Issues",
      "issue": "Edge Case #13 states: \"Billing seat add fails | Stripe/API error | Logged, continues anyway | ‚ö†Ô∏è | Admin may not have seat allocated\". Section 7 confirms: \"Billing seat failure continues silently | Admin might not get agent capabilities | üü° Medium\". An admin who chooses \"Yes, I'll take calls\" may not get a billing seat allocated, causing billing discrepancies and potential inability to take calls.",
      "suggested_fix": "Show a warning toast if seat allocation fails and provide guidance for resolving the issue (e.g., \"Contact your admin to verify seat allocation\"). Consider blocking account creation if seat allocation is critical.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Show a warning toast if seat allocation fails and provide guidance for resolving the issue (e.g., \"Contact your admin to verify seat allocation\"). Consider blocking account creation if seat allocation is critical.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-459",
      "feature": "Invite Accept",
      "category": "AUTH-invite-accept",
      "title": "No Transaction Rollback on Browser Refresh",
      "severity": "medium",
      "location": "Section 4 - Edge Cases #18",
      "issue": "Edge Case #18 states: \"Browser refresh during submit | Interrupts API calls | May leave partial state | ‚ö†Ô∏è | No transaction rollback\". The account creation flow involves multiple sequential operations (auth.users ‚Üí users ‚Üí agent_profiles ‚Üí invite update) without a transaction. If the user refreshes or loses connection mid-flow, partial records may exist with no cleanup mechanism.",
      "suggested_fix": "Implement idempotent operations with proper cleanup. Consider using Supabase Edge Functions with transaction support, or add a cleanup job that removes orphaned records where invite was not marked accepted.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Implement idempotent operations with proper cleanup. Consider using Supabase Edge Functions with transaction support, or add a cleanup job that removes orphaned records where invite was not marked accepted.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-460",
      "feature": "Invite Accept",
      "category": "AUTH-invite-accept",
      "title": "Missing ARIA Labels on Admin Choice Buttons",
      "severity": "medium",
      "location": "Section 5 - Accessibility",
      "issue": "Accessibility audit states: \"Screen reader support: ‚ö†Ô∏è No explicit ARIA labels on custom choice buttons\". The admin role choice buttons (\"Yes, I'll take calls\" / \"No, admin only\") lack proper ARIA attributes, making them difficult for screen reader users to understand and interact with.",
      "suggested_fix": "Add `role=\"radiogroup\"` to the container, `role=\"radio\"` and `aria-checked` to each button, and descriptive `aria-label` attributes explaining the implications of each choice.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add `role=\"radiogroup\"` to the container, `role=\"radio\"` and `aria-checked` to each button, and descriptive `aria-label` attributes explaining the implications of each choice.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-461",
      "feature": "Invite Accept",
      "category": "AUTH-invite-accept",
      "title": "Missing Focus Indicators Using outline-none",
      "severity": "medium",
      "location": "Section 5 - Accessibility",
      "issue": "Accessibility audit states: \"Focus indicators: ‚ö†Ô∏è Uses outline-none, relies on border change\". The use of `outline-none` without a clear visible focus indicator violates WCAG 2.4.7 (Focus Visible). Users navigating via keyboard may not be able to see which element is currently focused.",
      "suggested_fix": "Replace or augment the border change with a visible focus ring using `focus-visible:ring-2` or similar Tailwind utility. Ensure focus states meet 3:1 contrast ratio requirements.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Replace or augment the border change with a visible focus ring using `focus-visible:ring-2` or similar Tailwind utility. Ensure focus states meet 3:1 contrast ratio requirements.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-462",
      "feature": "Invite Accept",
      "category": "AUTH-invite-accept",
      "title": "No Success Message Before Redirect",
      "severity": "low",
      "location": "Section 5 - UX Audit Step 9; Section 7 - Identified Issues",
      "issue": "Section 5 states: \"Success | Redirect to /admin | ‚úÖ | No success message (instant redirect)\". Section 7 confirms: \"No success toast before redirect | Users may be confused by instant redirect | üü¢ Low\". The instant redirect without feedback may disorient users who don't realize their account was created successfully.",
      "suggested_fix": "Add a brief toast notification (\"Account created! Redirecting...\") that displays for 1-2 seconds before redirect, or show a success state on the target page.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add a brief toast notification (\"Account created! Redirecting...\") that displays for 1-2 seconds before redirect, or show a success state on the target page.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-463",
      "feature": "Invite Accept",
      "category": "AUTH-invite-accept",
      "title": "No Focus Management for Error States",
      "severity": "medium",
      "location": "Section 7 - Identified Issues",
      "issue": "Section 7 states: \"No focus management for accessibility | Screen readers may miss error messages | üü° Medium\". When validation errors occur (password too short, passwords don't match), focus is not programmatically moved to the error message. Screen reader users may not be aware an error occurred.",
      "suggested_fix": "Use `aria-live=\"polite\"` on the error container and programmatically focus the first error message using `focus()` or a `useEffect` that triggers on error state change.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Use `aria-live=\"polite\"` on the error container and programmatically focus the first error message using `focus()` or a `useEffect` that triggers on error state change.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-464",
      "feature": "Invite Accept",
      "category": "AUTH-invite-accept",
      "title": "Logged-in User Email Mismatch Edge Case",
      "severity": "medium",
      "location": "Section 10 - Open Questions #1",
      "issue": "Open Question #1 asks: \"What happens if user tries to accept with a different email? Currently the email field is disabled, so this is prevented. But if they have a Supabase account with a different email, they could be logged in and see a mismatch.\" A user logged into Supabase with email A could click an invite link for email B. The current flow doesn't detect or handle this session mismatch.",
      "suggested_fix": "Check for existing session on page load. If a session exists with a different email than the invite, either sign out automatically, show a warning, or prompt the user to sign out before proceeding.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Check for existing session on page load. If a session exists with a different email than the invite, either sign out automatically, show a warning, or prompt the user to sign out before proceeding.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-465",
      "feature": "Invite Accept",
      "category": "AUTH-invite-accept",
      "title": "No Resend Invite Option",
      "severity": "low",
      "location": "Section 10 - Open Questions #2",
      "issue": "Open Question #2 asks: \"Should there be a 'resend invite' option? Currently admins must revoke and re-invite. A resend button would be more user-friendly.\" If an invite email is lost or expires, admins must manually delete the invite, which may refund a seat, and then re-send, which re-charges. This is cumbersome and may cause billing complications.",
      "suggested_fix": "Add a \"Resend\" button in Agent Management that extends expiry and re-sends the email without touching billing records.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add a \"Resend\" button in Agent Management that extends expiry and re-sends the email without touching billing records.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-466",
      "feature": "Invite Accept",
      "category": "AUTH-invite-accept",
      "title": "Hardcoded 7-Day Invite Expiry",
      "severity": "low",
      "location": "Section 10 - Open Questions #3",
      "issue": "Open Question #3 asks: \"Should invite expiry be configurable? Currently hardcoded to 7 days. Some orgs may want shorter or longer windows.\" Organizations with different onboarding timelines (e.g., HR processes that take weeks, or security policies requiring same-day acceptance) cannot adjust the expiry window.",
      "suggested_fix": "Add an organization-level setting for invite expiry duration with sensible defaults (e.g., 7 days) and min/max bounds (e.g., 1-30 days).",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add an organization-level setting for invite expiry duration with sensible defaults (e.g., 7 days) and min/max bounds (e.g., 1-30 days).",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-467",
      "feature": "Invite Accept",
      "category": "AUTH-invite-accept",
      "title": "Asymmetric Billing Seat Timing Between Roles",
      "severity": "medium",
      "location": "Section 10 - Open Questions #5",
      "issue": "Open Question #5 notes: \"Should billing seat be charged at send time or accept time for all roles? Currently agents charge on send (to prevent invite spam), admins charge on accept if they choose to take calls. This asymmetry could be confusing.\" This inconsistency can confuse admins reviewing billing: agent invites show as seats immediately, but admin-who-takes-calls seats only appear after acceptance.",
      "suggested_fix": "Document the asymmetry clearly in the billing UI. Consider standardizing to accept-time charging for all roles with rate limiting to prevent invite spam.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Document the asymmetry clearly in the billing UI. Consider standardizing to accept-time charging for all roles with rate limiting to prevent invite spam.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-468",
      "feature": "Invite Accept",
      "category": "AUTH-invite-accept",
      "title": "No Admin-to-Agent Upgrade Path",
      "severity": "medium",
      "location": "Section 10 - Open Questions #6",
      "issue": "Open Question #6 asks: \"Is there a way to upgrade admin-only to agent later? User would need to manually create agent_profile. Consider adding 'Start taking calls' button in dashboard.\" An admin who initially chose \"admin only\" cannot easily become an agent later without database intervention or a new invite.",
      "suggested_fix": "Add a \"Start taking calls\" action in the user's profile or agent settings that creates an agent_profile and allocates a billing seat. This should mirror the inverse of the accept-invite choice.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add a \"Start taking calls\" action in the user's profile or agent settings that creates an agent_profile and allocates a billing seat. This should mirror the inverse of the accept-invite choice.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-469",
      "feature": "Invite Accept",
      "category": "AUTH-invite-accept",
      "title": "Email Delivery Failure Creates Orphaned Invite",
      "severity": "medium",
      "location": "Section 6 - Reliability",
      "issue": "Reliability section states: \"Email delivery failure | Invite created even if email fails (logged)\". If the email fails to send via Resend, the invite record exists and a seat may be charged (for agents), but the invitee never receives the link. The admin has no visibility into this failure.",
      "suggested_fix": "Return an error or warning to the admin when email delivery fails. Consider not creating the invite record (or marking it as \"email_failed\") until email delivery is confirmed.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Return an error or warning to the admin when email delivery fails. Consider not creating the invite record (or marking it as \"email_failed\") until email delivery is confirmed.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-470",
      "feature": "Invite Accept",
      "category": "AUTH-invite-accept",
      "title": "Pending Invites Not Notified on Org Deletion",
      "severity": "low",
      "location": "Section 10 - Open Questions #4",
      "issue": "Open Question #4 asks: \"What happens to pending invites when org is deleted? The ON DELETE CASCADE constraint handles this, but should there be notification to invitees?\" Invitees with pending invites will click a link that silently fails with no explanation if the org was deleted. They may be confused about why their invite is invalid.",
      "suggested_fix": "Consider sending a notification email to pending invitees when an organization is deleted, or at minimum ensure the error message is clear that the organization no longer exists.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Consider sending a notification email to pending invitees when an organization is deleted, or at minimum ensure the error message is clear that the organization no longer exists.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-471",
      "feature": "Call Reconnection",
      "category": "V-call-reconnection",
      "title": "localStorage Expiry vs Server Timeout Mismatch",
      "severity": "medium",
      "location": "Section 4 - Edge Cases #2; Section 7 - Identified Issues; Section 10 - Q-001; Appendix",
      "issue": "Multiple sections flag this critical timing mismatch: localStorage token expires after 5 minutes (`CALL_EXPIRY_MS: 5 * 60 * 1000`) but server times out after 30 seconds (`CALL_RECONNECT_TIMEOUT: 30_000`). Edge Case #2 marks \"Visitor away 30s-5min\" with ‚ö†Ô∏è warning. Section 7 Identified Issues states \"localStorage expiry (5 min) mismatches server timeout (30s) | Visitor may see false hope of reconnection | üü° Medium\". Q-001 explicitly asks about aligning these values. This causes a confusing UX where visitors believe reconnection is possible (valid token in localStorage) but server has already ended the call.",
      "suggested_fix": "Either reduce localStorage expiry to 30s to match server timeout, or extend server timeout to 5 minutes (with agent experience considerations). Document chosen approach.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Either reduce localStorage expiry to 30s to match server timeout, or extend server timeout to 5 minutes (with agent experience considerations). Document chosen approach.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-472",
      "feature": "Call Reconnection",
      "category": "V-call-reconnection",
      "title": "Agent Lacks Reconnecting UI Indicator",
      "severity": "medium",
      "location": "Section 7 - Identified Issues",
      "issue": "Section 7 Identified Issues explicitly states \"Agent may not know visitor is reconnecting | Agent sees frozen video, no 'reconnecting' UI | üü° Medium\". When a visitor navigates to a new page, the agent's video freezes with no visual indication that reconnection is in progress. Agent cannot distinguish between a visitor navigating pages vs a dropped call, leading to potential confusion about whether to wait or end the call.",
      "suggested_fix": "Add visual indicator (e.g., \"Visitor reconnecting...\" overlay with spinner) to agent dashboard during pending reconnection. Consider showing elapsed time in reconnect state.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add visual indicator (e.g., \"Visitor reconnecting...\" overlay with spinner) to agent dashboard during pending reconnection. Consider showing elapsed time in reconnect state.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-473",
      "feature": "Call Reconnection",
      "category": "V-call-reconnection",
      "title": "Heartbeat Mechanism Incomplete",
      "severity": "low",
      "location": "Section 7 - Identified Issues; Section 10 - Q-002",
      "issue": "Section 7 lists \"No heartbeat during active call | Can't detect if call is truly alive | üü¢ Low\". Q-002 states the `CALL_HEARTBEAT` event type is defined with `CALL_HEARTBEAT_INTERVAL: 10_000` but \"The widget doesn't appear to emit heartbeats, only the event type is defined.\" The heartbeat mechanism exists in types but is not implemented client-side, reducing ability to detect orphaned calls or silently failed connections.",
      "suggested_fix": "Implement client-side heartbeat emission in widget during active calls. Low priority as call states are currently managed through WebRTC connection state.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Implement client-side heartbeat emission in widget during active calls. Low priority as call states are currently managed through WebRTC connection state.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-474",
      "feature": "Call Reconnection",
      "category": "V-call-reconnection",
      "title": "Multiple Browser Tabs Scenario Undefined",
      "severity": "medium",
      "location": "Section 10 - Q-003",
      "issue": "Q-003 asks \"What should happen if visitor has multiple browser tabs open during a call and navigates in one tab? Currently, all tabs would have the same localStorage token.\" Since all tabs share the same localStorage, this could lead to race conditions where multiple tabs attempt reconnection simultaneously, or a navigation in Tab A affects the call state displayed in Tab B. This is a realistic scenario (visitor opens product in new tab) with undefined behavior.",
      "suggested_fix": "Document expected behavior for multi-tab scenarios. Consider adding tabId to stored call data or using BroadcastChannel API to coordinate between tabs. Alternatively, document that calls should only be active in one tab.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Document expected behavior for multi-tab scenarios. Consider adding tabId to stored call data or using BroadcastChannel API to coordinate between tabs. Alternatively, document that calls should only be active in one tab.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-475",
      "feature": "Call Reconnection",
      "category": "V-call-reconnection",
      "title": "No Audio/Visual Cue on Successful Reconnection",
      "severity": "low",
      "location": "Section 5 - Accessibility; Section 10 - Q-004",
      "issue": "Section 5 Accessibility notes \"‚ö†Ô∏è No audio cue when call reconnects (could startle user with sudden video/audio)\". Q-004 asks \"Should there be an audio/visual cue when call successfully reconnects to alert both parties that the call is back?\" After navigating pages, the call resumes without notification, potentially startling users with sudden audio/video or causing them to miss that the call is back if they looked away.",
      "suggested_fix": "Add subtle audio chime or visual flash/toast when call successfully reconnects to alert both visitor and agent. Ensure the cue is perceivable but not jarring.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add subtle audio chime or visual flash/toast when call successfully reconnects to alert both visitor and agent. Ensure the cue is perceivable but not jarring.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-476",
      "feature": "Call Reconnection",
      "category": "V-call-reconnection",
      "title": "Silent Call End on Return After Long Break",
      "severity": "medium",
      "location": "Section 5 - UI/UX Review",
      "issue": "In the UI/UX Review table, \"Return after long break\" row states user sees \"Minimized widget, no error\" with ‚ö†Ô∏è flag and issue \"No indication call ended silently\". When a visitor returns to the site after server timeout (30s-5min), they see a normal minimized widget with no indication that their call ended while they were away. This could lead to confusion about what happened to their call.",
      "suggested_fix": "When localStorage token exists but is expired or call is no longer active, show a brief notification like \"Your previous call ended\" or display call-ended state briefly before returning to normal widget.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "When localStorage token exists but is expired or call is no longer active, show a brief notification like \"Your previous call ended\" or display call-ended state briefly before returning to normal widget.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-477",
      "feature": "Call Reconnection",
      "category": "V-call-reconnection",
      "title": "In-Memory State Lost on Server Restart",
      "severity": "low",
      "location": "Section 6 - Reliability",
      "issue": "Section 6 Reliability notes \"‚ö†Ô∏è In-memory `callLogIds` Map lost on server restart (call logger must re-query DB)\". While the pending reconnect mechanism handles server restarts (noted as ‚úÖ), the callLogIds Map is in-memory and lost on restart. The note indicates this is partially mitigated by re-querying DB, but there may be edge cases where call state is briefly inconsistent during recovery.",
      "suggested_fix": "Document the recovery behavior explicitly. Consider if any edge cases during server restart could cause reconnection failures.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Document the recovery behavior explicitly. Consider if any edge cases during server restart could cause reconnection failures.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-478",
      "feature": "Call Reconnection",
      "category": "V-call-reconnection",
      "title": "Reconnecting Indicator May Be Too Brief to Notice",
      "severity": "low",
      "location": "Section 5 - UI/UX Review; Section 7 - First Principles Review",
      "issue": "Section 5 UI/UX Review notes successful navigation shows \"Brief loading, call resumes\" with observation \"May see brief 'Reconnecting...'\". Section 7 First Principles Review states \"Is feedback immediate? | ‚ö†Ô∏è 'Reconnecting...' appears but may be too brief to notice\". For fast reconnections, users may not see any indication that reconnection occurred, leaving them uncertain about what happened during the brief page transition.",
      "suggested_fix": "Consider showing \"Reconnected!\" confirmation briefly after successful reconnection, or ensure the reconnecting indicator displays for a minimum duration (e.g., 500ms) even if reconnection is faster.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Consider showing \"Reconnected!\" confirmation briefly after successful reconnection, or ensure the reconnecting indicator displays for a minimum duration (e.g., 500ms) even if reconnection is faster.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-479",
      "feature": "Call Reconnection",
      "category": "V-call-reconnection",
      "title": "Token Storage Security Acknowledgment",
      "severity": "low",
      "location": "Section 6 - Security",
      "issue": "Section 6 Security notes \"‚ö†Ô∏è Token visible in localStorage (acceptable for session-like data)\". While marked as acceptable, the reconnect token stored in localStorage is accessible to any JavaScript on the page. This is a known limitation documented correctly, but worth tracking. The token is cryptographically random and validated against orgId, mitigating cross-site risks.",
      "suggested_fix": "No immediate action needed. Consider if sessionStorage (cleared on tab close) would be more appropriate for security-sensitive deployments, though this would break cross-tab behavior.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "No immediate action needed. Consider if sessionStorage (cleared on tab close) would be more appropriate for security-sensitive deployments, though this would break cross-tab behavior.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-480",
      "feature": "Mobile Gate",
      "category": "V-mobile-gate",
      "title": "Tablets Blocked With No Override Option",
      "severity": "medium",
      "location": "Section 7 - Identified Issues; Section 10 - Open Question #1",
      "issue": "Documentation explicitly flags that \"iPad users can't access dashboard\" with tablets treated as mobile. Section 7 identifies this as Medium severity and suggests \"Consider allowing tablet access with warning\". Open Question #1 asks \"Should tablets (iPad, Android tablets) be allowed with a warning?\" Many tablets can successfully run video calls, yet users are completely blocked with no way to proceed.",
      "suggested_fix": "Add a \"Continue Anyway\" option for tablet users with a warning about potential experience issues. This respects power users while still warning about suboptimal experience.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add a \"Continue Anyway\" option for tablet users with a warning about potential experience issues. This respects power users while still warning about suboptimal experience.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-481",
      "feature": "Mobile Gate",
      "category": "V-mobile-gate",
      "title": "Clipboard API Fails Silently With No User Feedback",
      "severity": "low",
      "location": "Section 4 - Edge Cases #12; Section 7 - Identified Issues",
      "issue": "Edge Case #12 explicitly flags this with ‚ö†Ô∏è: \"Clipboard API fails | Permission denied | No visual feedback\". Section 7 confirms \"No clipboard error handling | Copy fails silently | üü¢ Low\". When the browser blocks clipboard access (permissions, HTTPS requirements, or security restrictions), the user clicks \"Copy Link\" and receives no indication that the copy failed.",
      "suggested_fix": "Add try/catch error handling with user feedback toast on copy failure. Suggest alternative (share button) when copy fails.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add try/catch error handling with user feedback toast on copy failure. Suggest alternative (share button) when copy fails.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-482",
      "feature": "Mobile Gate",
      "category": "V-mobile-gate",
      "title": "Keyboard Navigation Not Tested",
      "severity": "medium",
      "location": "Section 5 - Accessibility",
      "issue": "Documentation explicitly states \"Keyboard navigation: ‚ö†Ô∏è Not specifically tested\". Mobile gate page has multiple interactive elements (Copy Link, Share/Email Link, Back to homepage) that keyboard-only users need to access. Without verification, Tab order and focus states may be broken.",
      "suggested_fix": "Conduct keyboard navigation audit. Verify logical Tab order, visible focus indicators on all buttons, and that Enter/Space activates buttons correctly.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Conduct keyboard navigation audit. Verify logical Tab order, visible focus indicators on all buttons, and that Enter/Space activates buttons correctly.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-483",
      "feature": "Mobile Gate",
      "category": "V-mobile-gate",
      "title": "No Focus Management on Page Load",
      "severity": "low",
      "location": "Section 5 - Accessibility",
      "issue": "Documentation states \"Focus management: ‚ö†Ô∏è No explicit focus trap or management\". When user is redirected to mobile gate, focus is not explicitly set. Screen reader users may not immediately understand they've been redirected or where to begin interacting.",
      "suggested_fix": "Set focus to main heading or first actionable element on page load. Add skip link if page grows more complex.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Set focus to main heading or first actionable element on page load. Add skip link if page grows more complex.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-484",
      "feature": "Mobile Gate",
      "category": "V-mobile-gate",
      "title": "Two Different Mobile Detection Systems May Cause Inconsistent Experience",
      "severity": "low",
      "location": "Section 10 - Open Question #3; Section 8 - Code References",
      "issue": "Open Question #3 documents that dashboard uses UA regex (`MobileRedirect.tsx`) while widget uses screen size + touch detection (`Widget.tsx`). A tablet user could be: blocked from dashboard (UA detection) but successfully use the widget (screen-size detection allows tablets). This asymmetry may confuse users about what \"mobile\" means in the application.",
      "suggested_fix": "Document this intentional difference more prominently. Consider aligning detection methods or explaining the rationale in user-facing messaging.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Document this intentional difference more prominently. Consider aligning detection methods or explaining the rationale in user-facing messaging.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-485",
      "feature": "Mobile Gate",
      "category": "V-mobile-gate",
      "title": "No Analytics Tracking on Mobile Gate Page",
      "severity": "medium",
      "location": "Section 10 - Open Question #5",
      "issue": "Open Question #5 explicitly asks \"Should there be analytics tracking on the mobile gate page? Currently no tracking of how many users hit the mobile gate, which could inform product decisions about mobile support.\" Without this data, the team cannot measure: how many users are being blocked, drop-off rates at mobile gate, whether tablet support is a priority.",
      "suggested_fix": "Add analytics event for mobile gate page views. Track device type, user agent, and which action (copy/share/email/homepage) users take. Use data to prioritize tablet support decision.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add analytics event for mobile gate page views. Track device type, user agent, and which action (copy/share/email/homepage) users take. Use data to prioritize tablet support decision.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-486",
      "feature": "Mobile Gate",
      "category": "V-mobile-gate",
      "title": "User Agent Detection Is Fragile for New Devices",
      "severity": "low",
      "location": "Section 7 - Identified Issues; Section 10 - Open Question #2",
      "issue": "Section 7 lists \"User agent detection is fragile | New devices may not be detected | üü¢ Low\". Open Question #2 asks \"Should mobile detection use feature detection instead of/in addition to UA sniffing?\" The current regex may not catch new mobile devices, and UA strings can change over time. Exotic devices will \"fall through to dashboard\" which may cause poor experiences.",
      "suggested_fix": "Combine UA sniffing with feature detection (touch capability, screen size ratio, camera/mic APIs). This provides defense-in-depth for mobile detection.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Combine UA sniffing with feature detection (touch capability, screen size ratio, camera/mic APIs). This provides defense-in-depth for mobile detection.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-487",
      "feature": "Mobile Gate",
      "category": "V-mobile-gate",
      "title": "Desktop \"Request Mobile Site\" Feature Causes False Positive",
      "severity": "low",
      "location": "Section 4 - Edge Cases #6",
      "issue": "Edge Case #6 is marked with ‚ö†Ô∏è: \"Desktop browser requests mobile site | 'Request Mobile Site' feature | Depends on UA spoofing | May redirect if UA spoofed\". A desktop user who has previously used Chrome's \"Request Mobile Site\" feature could be incorrectly redirected to mobile gate, blocking legitimate dashboard access.",
      "suggested_fix": "Consider adding feature detection (screen dimensions, mouse/pointer) as secondary check before redirecting. Alternatively, accept current behavior as rare edge case.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Consider adding feature detection (screen dimensions, mouse/pointer) as secondary check before redirecting. Alternatively, accept current behavior as rare edge case.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-488",
      "feature": "Mobile Gate",
      "category": "V-mobile-gate",
      "title": "Mobile Gate Page Accessible Without Authentication",
      "severity": "low",
      "location": "Section 10 - Open Question #4",
      "issue": "Open Question #4 notes \"Should the mobile gate page be accessible without auth? Currently it can be accessed directly without login. This is fine as it contains no sensitive information, but the redirect only happens from authenticated pages.\" While noted as acceptable, this creates an inconsistency: authenticated routes redirect to an unauthenticated page. Anyone can access /mobile-gate directly.",
      "suggested_fix": "Either document this as intentional design decision, or wrap mobile-gate in auth to maintain consistency (redirect unauthenticated mobile users to login first).",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Either document this as intentional design decision, or wrap mobile-gate in auth to maintain consistency (redirect unauthenticated mobile users to login first).",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-489",
      "feature": "Mobile Gate",
      "category": "V-mobile-gate",
      "title": "pushState Failure Has Unclear Recovery",
      "severity": "low",
      "location": "Section 4 - Error States",
      "issue": "Error States table shows \"Navigation state error | pushState fails | Back button may work | Still on mobile gate page\". The recovery path is ambiguous - \"Back button may work\" is unclear. If pushState fails, the history manipulation meant to prevent back navigation would fail, potentially allowing users to hit partially-loaded dashboard pages.",
      "suggested_fix": "Add try/catch around pushState with graceful degradation. If history manipulation fails, log the error and accept that back button will work normally.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add try/catch around pushState with graceful degradation. If history manipulation fails, log the error and accept that back button will work normally.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-490",
      "feature": "Mobile Gate",
      "category": "V-mobile-gate",
      "title": "No Handling for Share API User Cancellation Feedback",
      "severity": "low",
      "location": "Section 4 - Edge Cases #11; Section 4 - Error States",
      "issue": "Edge Case #11 notes \"User cancels share dialog | Closes Web Share dialog | Silent failure, no action | ‚úÖ | AbortError caught silently\". While this is marked correct, it may leave users uncertain if their share attempt worked. They may not realize they cancelled and try to access link on desktop expecting it to be there.",
      "suggested_fix": "Consider showing brief toast \"Share cancelled\" or leaving button in ready state with no change. Current silent handling is acceptable but not optimal UX.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Consider showing brief toast \"Share cancelled\" or leaving button in ready state with no change. Current silent handling is acceptable but not optimal UX.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-491",
      "feature": "Heartbeat & Staleness Detection",
      "category": "P-heartbeat-staleness",
      "title": "Tab Throttling Can Cause False Positives (Documented)",
      "severity": "medium",
      "location": "Section 7 - Identified Issues, Row 1; Section 4 - Edge Cases #9",
      "issue": "Documentation explicitly flags that Chrome's tab throttling can slow JavaScript execution in background tabs, causing heartbeats to stop and agents to be incorrectly marked as \"away\" even when present. Edge Case #9 also marks this with ‚ö†Ô∏è. This is a known reliability issue that could frustrate active agents.",
      "suggested_fix": "Document suggests using Web Worker for heartbeat or visibility API to pause timer. Should verify if client-side implementation (A10) addresses this.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Document suggests using Web Worker for heartbeat or visibility API to pause timer. Should verify if client-side implementation (A10) addresses this.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-492",
      "feature": "Heartbeat & Staleness Detection",
      "category": "P-heartbeat-staleness",
      "title": "In-Simulation Agents Not Checked for Staleness (Documented/Open Question)",
      "severity": "medium",
      "location": "Section 7 - Identified Issues Row 4; Section 10 - Open Question Q-P6-001",
      "issue": "Currently `getStaleAgents()` only checks agents with `status === \"idle\"`. If an agent is in `in_simulation` status (broadcasting video to visitors) and stops heartbeating for 2+ minutes, they are NOT marked stale. This means visitors could be watching a \"ghost\" agent who is no longer present. The doc flags this as needing a decision.",
      "suggested_fix": "Consider adding `in_simulation` to staleness check, or at minimum reassign visitors if agent in simulation goes stale.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Consider adding `in_simulation` to staleness check, or at minimum reassign visitors if agent in simulation goes stale.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-493",
      "feature": "Heartbeat & Staleness Detection",
      "category": "P-heartbeat-staleness",
      "title": "Reason Field Inconsistency Between Recording and Notification",
      "severity": "low",
      "location": "Section 3 - Key Code Snippets, Staleness Check; Section 7 - Identified Issues Row 3",
      "issue": "When marking an agent stale, the code calls `recordStatusChange(agent.agentId, \"away\", \"heartbeat_stale\")` with reason `\"heartbeat_stale\"`, but the socket event sent to the agent uses `reason: \"idle\"`. This inconsistency is also flagged in Identified Issues Row 3. Analytics/debugging will show different reasons for the same event.",
      "suggested_fix": "Use consistent reason `\"heartbeat_stale\"` in both the status record and the socket event payload.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Use consistent reason `\"heartbeat_stale\"` in both the status record and the socket event payload.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-494",
      "feature": "Heartbeat & Staleness Detection",
      "category": "P-heartbeat-staleness",
      "title": "No Warning Before Being Marked Away (Documented)",
      "severity": "low",
      "location": "Section 7 - Identified Issues Row 2; Section 10 - Open Question Q-P6-002",
      "issue": "Agents receive no warning before being marked away. They only learn they've been marked away after the fact. Open Question Q-P6-002 asks whether a warning at 1.5 minutes would help. This is a UX gap - agents have no chance to prevent being marked away.",
      "suggested_fix": "Add warning notification at 90 seconds (1.5 min) before 2-minute threshold.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add warning notification at 90 seconds (1.5 min) before 2-minute threshold.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-495",
      "feature": "Heartbeat & Staleness Detection",
      "category": "P-heartbeat-staleness",
      "title": "Worst-Case Detection Time is 3 Minutes",
      "severity": "low",
      "location": "Section 10 - Open Question Q-P6-003",
      "issue": "Open Question explicitly asks if 2 minutes is correct, noting worst case: \"25s heartbeat + 60s check + 2min threshold means worst case is 2min + 60s = 3 minutes before detection.\" This is a long time for visitors to be assigned to an unresponsive agent.",
      "suggested_fix": "Consider reducing check interval from 60s to 30s, or threshold from 120s to 90s, to bring worst-case down.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Consider reducing check interval from 60s to 30s, or threshold from 120s to 90s, to bring worst-case down.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-496",
      "feature": "Heartbeat & Staleness Detection",
      "category": "P-heartbeat-staleness",
      "title": "Agent Notification May Not Be Seen If Tab Hidden",
      "severity": "medium",
      "location": "Section 5 - UI/UX Review, Step 3",
      "issue": "The UX audit marks Step 3 (staleness detected) with ‚ö†Ô∏è and notes \"Agent may not see notification if tab hidden.\" The irony: the very scenario that causes staleness (tab in background) is the same scenario where the agent won't see the notification. When they return, they'll see \"Away\" status but may have missed the toast notification.",
      "suggested_fix": "Consider persistent banner/alert that stays visible until dismissed, or audio notification.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Consider persistent banner/alert that stays visible until dismissed, or audio notification.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-497",
      "feature": "Heartbeat & Staleness Detection",
      "category": "P-heartbeat-staleness",
      "title": "Screen Reader Accessibility Gap",
      "severity": "low",
      "location": "Section 5 - Accessibility",
      "issue": "Accessibility section notes with ‚ö†Ô∏è: \"Screen reader: notification should be announced when marked away.\" This is an accessibility gap - visually impaired agents may not be alerted to status change.",
      "suggested_fix": "Ensure `AGENT_MARKED_AWAY` notification uses ARIA live region for screen reader announcement.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Ensure `AGENT_MARKED_AWAY` notification uses ARIA live region for screen reader announcement.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-498",
      "feature": "Heartbeat & Staleness Detection",
      "category": "P-heartbeat-staleness",
      "title": "Server Restart Edge Case Uncertain",
      "severity": "medium",
      "location": "Section 4 - Edge Cases #10",
      "issue": "Edge case #10 (Server restarts) is marked ‚ö†Ô∏è with \"Depends on restart speed.\" If server restart takes >10s, all agents lose their grace period and must fully re-login. Documentation is uncertain whether this is acceptable behavior or a problem during deployments.",
      "suggested_fix": "Clarify expected behavior during deployments. Consider extending grace period during server restart scenario (e.g., persisting pending disconnect state to Redis).",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Clarify expected behavior during deployments. Consider extending grace period during server restart scenario (e.g., persisting pending disconnect state to Redis).",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-499",
      "feature": "Heartbeat & Staleness Detection",
      "category": "P-heartbeat-staleness",
      "title": "Cross-Feature Dependency on Unverified A10 Documentation",
      "severity": "low",
      "location": "Section 10 - Open Question Q-P6-004; Section 9 - Related Features",
      "issue": "Open Question Q-P6-004 asks \"How does the client-side heartbeat implementation handle Chrome's aggressive tab throttling for background tabs? (Need to verify A10 documentation)\" - referencing `agent/heartbeat-visibility.md`. This cross-feature dependency is unverified, meaning the most significant issue (tab throttling false positives) may or may not be handled.",
      "suggested_fix": "Review A10 documentation to verify client-side implementation addresses tab throttling. Update Q-P6-004 with verification status.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Review A10 documentation to verify client-side implementation addresses tab throttling. Update Q-P6-004 with verification status.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-500",
      "feature": "Heartbeat & Staleness Detection",
      "category": "P-heartbeat-staleness",
      "title": "Grace Period May Be Too Short for Slow Reconnects",
      "severity": "low",
      "location": "Section 4 - Edge Cases #3; Section 4 - Error States Row 3",
      "issue": "The 10-second grace period is designed for quick page refreshes. Error States table notes \"Slow reconnect after refresh\" causes \"Full re-login required.\" On slow networks or with large dashboard bundles, 10 seconds may not be enough time to reload and reconnect, frustrating agents on poor connections.",
      "suggested_fix": "Consider making grace period configurable or extending to 15-20 seconds.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Consider making grace period configurable or extending to 15-20 seconds.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-501",
      "feature": "Embed Code",
      "category": "D-embed-code",
      "title": "Infinite Verification Polling Has No Timeout",
      "severity": "medium",
      "location": "Section 4 - Edge Cases #16; Section 7 - Identified Issues; Section 10 - Open Questions #3",
      "issue": "Edge Case #16 states \"Verification polling timeout | Widget never connects | Keeps polling until verified ‚ö†Ô∏è | Could add max attempts\". Section 7 confirms \"Verification polling has no timeout | Dashboard polls forever if never installed | üü¢ Low\". Open Question #3 asks \"Is infinite verification polling acceptable?\" The dashboard polls every 5 seconds forever, which wastes resources and provides no feedback to the admin if installation fails.",
      "suggested_fix": "Implement exponential backoff (5s ‚Üí 10s ‚Üí 20s ‚Üí 1min) with a maximum poll count (e.g., 100 attempts = ~20 min). After timeout, display \"Installation not detected. Check if code was placed correctly.\" with a \"Retry\" button.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Implement exponential backoff (5s ‚Üí 10s ‚Üí 20s ‚Üí 1min) with a maximum poll count (e.g., 100 attempts = ~20 min). After timeout, display \"Installation not detected. Check if code was placed correctly.\" with a \"Retry\" button.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-502",
      "feature": "Embed Code",
      "category": "D-embed-code",
      "title": "CSP Documentation Missing From UI",
      "severity": "medium",
      "location": "Section 4 - Edge Cases #17; Section 7 - Identified Issues; Section 10 - Open Questions #2",
      "issue": "Edge Case #17 notes \"Page with CSP headers | Content-Security-Policy | May block widget if script-src not configured ‚ö†Ô∏è | Admin must whitelist CDN\". Section 7 identifies \"CSP documentation missing | Admins may not know to whitelist CDN | üü° Medium\". Admins with strict Content-Security-Policy headers will experience silent widget failure with no guidance on how to fix it.",
      "suggested_fix": "Add a collapsible \"Advanced: CSP Configuration\" section below the embed code with the required directives: `script-src 'self' cdn.ghost-greeter.com; connect-src wss://signaling.ghost-greeter.com;`",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add a collapsible \"Advanced: CSP Configuration\" section below the embed code with the required directives: `script-src 'self' cdn.ghost-greeter.com; connect-src wss://signaling.ghost-greeter.com;`",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-503",
      "feature": "Embed Code",
      "category": "D-embed-code",
      "title": "Ad Blocker Silent Failure Not Communicated",
      "severity": "medium",
      "location": "Section 4 - Edge Cases #10; Section 7 - Identified Issues",
      "issue": "Edge Case #10 notes \"Widget blocked by ad blocker | Browser extension | Widget fails to load; no error shown to visitor ‚ö†Ô∏è | Silent failure\". Section 7 identifies \"Ad blockers block widget | Some visitors never see widget | üü° Medium\". Admins have no visibility into how many visitors are blocked by ad blockers, and the documentation doesn't provide guidance on mitigation strategies.",
      "suggested_fix": "Document known ad blocker behavior in the embed code UI. Consider tracking CDN fetch failures server-side (if possible via headers/analytics) to provide estimated block rate. Suggest using a custom subdomain (e.g., widget.company.com) as CNAME to reduce blocking.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Document known ad blocker behavior in the embed code UI. Consider tracking CDN fetch failures server-side (if possible via headers/analytics) to provide estimated block rate. Suggest using a custom subdomain (e.g., widget.company.com) as CNAME to reduce blocking.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-504",
      "feature": "Embed Code",
      "category": "D-embed-code",
      "title": "Widget Script 404 Has No User Feedback",
      "severity": "medium",
      "location": "Section 4 - Edge Cases #18",
      "issue": "Edge Case #18 states \"Widget script 404 | CDN unavailable | Silent failure; widget doesn't appear ‚ö†Ô∏è | No user feedback\". If Vercel CDN has an outage or the widget build fails, admins have no way to know the widget isn't loading. Verification status may remain stuck on \"Waiting for installation\" with no error indication.",
      "suggested_fix": "Add error handling in the embed snippet to catch script load failures. Consider implementing a health check endpoint that admins can poll or display in the dashboard.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add error handling in the embed snippet to catch script load failures. Consider implementing a health check endpoint that admins can poll or display in the dashboard.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-505",
      "feature": "Embed Code",
      "category": "D-embed-code",
      "title": "Old Embed Code Compatibility Risk",
      "severity": "medium",
      "location": "Section 4 - Edge Cases #7; Section 10 - Open Questions #5",
      "issue": "Edge Case #7 notes \"Old embed code after update | Version mismatch | CDN serves latest; may break if API changes ‚ö†Ô∏è | Breaking changes rare\". Open Question #5 asks \"What's the upgrade path for embed code changes?\" If the embed code format or initialization API changes, there's no mechanism to notify existing customers or provide a migration path.",
      "suggested_fix": "Implement versioned embed endpoints (e.g., `/v1/widget.js`). Add version tracking to the organizations table. When breaking changes occur, email customers with outdated embed code and show a warning in their dashboard.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Implement versioned embed endpoints (e.g., `/v1/widget.js`). Add version tracking to the organizations table. When breaking changes occur, email customers with outdated embed code and show a warning in their dashboard.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-506",
      "feature": "Embed Code",
      "category": "D-embed-code",
      "title": "Screen Reader Support Not Verified for Code Block",
      "severity": "low",
      "location": "Section 5 - Accessibility",
      "issue": "Documentation notes \"Screen reader support: ‚ö†Ô∏è Code block may need aria-label\". The embed code textarea/code block should have proper ARIA labeling so screen reader users understand what they're copying.",
      "suggested_fix": "Add `aria-label=\"GreetNow widget embed code\"` to the code block container. Ensure the \"Copy Code\" button is announced clearly (e.g., \"Copy embed code to clipboard\").",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add `aria-label=\"GreetNow widget embed code\"` to the code block container. Ensure the \"Copy Code\" button is announced clearly (e.g., \"Copy embed code to clipboard\").",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-507",
      "feature": "Embed Code",
      "category": "D-embed-code",
      "title": "Test Mode for Installation Not Available",
      "severity": "low",
      "location": "Section 10 - Open Questions #1",
      "issue": "Open Question #1 asks \"Should there be a 'test mode' for installation?\" Currently there's no way to test the widget without actually connecting to the signaling server. This makes it difficult for developers to verify their installation in a staging environment without affecting production analytics.",
      "suggested_fix": "Add a `testMode: true` option in the `gg('init', {...})` call that shows the widget UI without establishing a server connection. Display \"[TEST MODE]\" watermark on the widget when active.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add a `testMode: true` option in the `gg('init', {...})` call that shows the widget UI without establishing a server connection. Display \"[TEST MODE]\" watermark on the widget when active.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-508",
      "feature": "Embed Code",
      "category": "D-embed-code",
      "title": "GTM Installation Instructions Missing",
      "severity": "low",
      "location": "Section 10 - Open Questions #6; Section 4 - Edge Cases #15",
      "issue": "Open Question #6 asks \"Should GTM installation be explicitly documented?\" While Edge Case #15 confirms GTM works via \"standard script injection\", many customers use Google Tag Manager and would benefit from explicit instructions to ensure proper configuration (trigger timing, etc.).",
      "suggested_fix": "Add a \"Install via Google Tag Manager\" collapsible section with step-by-step GTM instructions, including trigger configuration (e.g., Page View - All Pages).",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add a \"Install via Google Tag Manager\" collapsible section with step-by-step GTM instructions, including trigger configuration (e.g., Page View - All Pages).",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-509",
      "feature": "Embed Code",
      "category": "D-embed-code",
      "title": "Partial Copy Error Not Recoverable",
      "severity": "low",
      "location": "Section 4 - Edge Cases #11",
      "issue": "Edge Case #11 states \"Embed code copied incorrectly | Partial copy | Syntax error; widget doesn't load ‚ùå | User error - not recoverable\". While this is a user error, the embed code is long (7 lines) and easy to copy incorrectly. The current design provides no validation or feedback.",
      "suggested_fix": "Consider implementing a \"Verify Installation\" button that tests if the widget can connect. This helps admins confirm the code was copied correctly without waiting for verification polling.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Consider implementing a \"Verify Installation\" button that tests if the widget can connect. This helps admins confirm the code was copied correctly without waiting for verification polling.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-510",
      "feature": "Embed Code",
      "category": "D-embed-code",
      "title": "JavaScript Disabled Not Addressed",
      "severity": "low",
      "location": "Section 4 - Edge Cases (not documented)",
      "issue": "The edge cases matrix does not address what happens when a visitor has JavaScript disabled in their browser. While rare, this is a complete failure scenario with no graceful degradation.",
      "suggested_fix": "Document that the widget requires JavaScript and does not display for visitors with JS disabled. This is expected behavior but should be explicitly documented in the edge cases matrix.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Document that the widget requires JavaScript and does not display for visitors with JS disabled. This is expected behavior but should be explicitly documented in the edge cases matrix.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-511",
      "feature": "Embed Code",
      "category": "D-embed-code",
      "title": "Settings Only Apply to New Sessions",
      "severity": "low",
      "location": "Section 7 - Identified Issues; Section 10 - Open Questions #4",
      "issue": "Section 7 notes \"Settings only apply to new sessions | Live visitors don't get updated settings | üü¢ Low\". Open Question #4 asks \"Should widget settings apply to existing sessions?\" Admins may expect settings changes to take effect immediately for all visitors, but the current behavior requires new page loads.",
      "suggested_fix": "Document this behavior clearly in the Widget Settings UI (e.g., \"Changes apply to new visitor sessions\"). For critical settings, consider implementing WebSocket push for real-time updates.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Document this behavior clearly in the Widget Settings UI (e.g., \"Changes apply to new visitor sessions\"). For critical settings, consider implementing WebSocket push for real-time updates.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-512",
      "feature": "Embed Code",
      "category": "D-embed-code",
      "title": "Pageviews Alternative Verification Unexplained",
      "severity": "low",
      "location": "Section 2 - State Machine; Section 3 - Data Flow",
      "issue": "The state machine shows \"OR pageviews detected\" as an alternative path to \"INSTALLED\" state, and the Data Flow mentions \"Query widget_pageviews (alternative verification)\". However, there's no explanation of when or how this fallback is used, or why a VISITOR_JOIN wouldn't be sufficient. This creates ambiguity about the verification logic.",
      "suggested_fix": "Clarify when pageview-based verification is used (e.g., if WebSocket connection fails but HTTP analytics are recorded). Document which takes precedence and why both paths exist.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Clarify when pageview-based verification is used (e.g., if WebSocket connection fails but HTTP analytics are recorded). Document which takes precedence and why both paths exist.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-513",
      "feature": "Signup Flow",
      "category": "AUTH-signup-flow",
      "title": "Client/Server Password Validation Mismatch",
      "severity": "medium",
      "location": "Section 3 - Password Requirements",
      "issue": "Documentation states client-side validation requires 8 characters (`minLength={8}`) but \"Server-side: Supabase Auth default (minimum 6 characters)\". A user could potentially bypass client validation (developer tools, direct API call) and create an account with a 6-character password, violating the stated 8-character policy.",
      "suggested_fix": "Configure Supabase Auth password policy to enforce minimum 8 characters server-side to match client-side validation. Alternatively, add server-side validation in a server action before calling Supabase.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Configure Supabase Auth password policy to enforce minimum 8 characters server-side to match client-side validation. Alternatively, add server-side validation in a server action before calling Supabase.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-514",
      "feature": "Signup Flow",
      "category": "AUTH-signup-flow",
      "title": "No Phone Format Validation",
      "severity": "medium",
      "location": "Section 4 - Edge Case #8, Section 7 - Identified Issues",
      "issue": "Edge case #8 flagged with ‚ö†Ô∏è: \"Invalid phone format | Submit invalid phone | Signup succeeds\". Section 7 confirms \"Invalid phone numbers stored\" as a Medium severity issue. Any string is accepted as a phone number, leading to invalid data in the database.",
      "suggested_fix": "Add E.164 phone format validation (e.g., +1-XXX-XXX-XXXX) or use a phone input library with country code selection. Validate both client-side and in the database trigger.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add E.164 phone format validation (e.g., +1-XXX-XXX-XXXX) or use a phone input library with country code selection. Validate both client-side and in the database trigger.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-515",
      "feature": "Signup Flow",
      "category": "AUTH-signup-flow",
      "title": "Paywall Disabled Without Clear Timeline",
      "severity": "medium",
      "location": "Section 7 - Identified Issues, Section 10 - Open Question #2",
      "issue": "Section 7 documents \"Paywall bypassed\" with note \"Comment says 'TODO: Re-enable paywall'\". Open Question #2 asks \"What's the timeline for enabling this?\". Users can sign up and use the product without hitting a paywall, potentially impacting revenue.",
      "suggested_fix": "Define clear timeline for paywall re-enablement. Consider adding this to sprint backlog with specific acceptance criteria for when billing integration is complete.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Define clear timeline for paywall re-enablement. Consider adding this to sprint backlog with specific acceptance criteria for when billing integration is complete.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-516",
      "feature": "Signup Flow",
      "category": "AUTH-signup-flow",
      "title": "Email Verification Not Checked Before Dashboard Access",
      "severity": "high",
      "location": "Section 4 - Edge Case #16, Email Verification Note, Section 10 - Open Question #1",
      "issue": "Edge case #16 flagged with ‚ö†Ô∏è and the \"Email Verification Note\" explicitly states: \"If Supabase is configured to require email verification: User will be created but unverified. Middleware may still allow access (checks auth, not verification). This could be a security consideration.\" Unverified users could access the admin dashboard.",
      "suggested_fix": "Clarify whether email verification is enabled in Supabase config. If enabled, update middleware to check verification status and redirect unverified users to a verification prompt page.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "ticketed",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Clarify whether email verification is enabled in Supabase config. If enabled, update middleware to check verification status and redirect unverified users to a verification prompt page.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-517",
      "feature": "Signup Flow",
      "category": "AUTH-signup-flow",
      "title": "No Success Feedback Before Redirect",
      "severity": "low",
      "location": "Section 5 - Step 9, Section 7 - Identified Issues, Section 7 - First Principles Review",
      "issue": "Section 5 step 9 flagged with ‚ö†Ô∏è: \"Success | Hard redirect to /admin | No success feedback before redirect\". Section 7 confirms \"Abrupt redirect may confuse\" as Low severity. First Principles Review question 3 notes feedback is only \"Mostly\" immediate.",
      "suggested_fix": "Add brief success toast or transition screen (e.g., \"Account created! Redirecting...\") with 1-2 second delay before redirect to provide clear confirmation.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add brief success toast or transition screen (e.g., \"Account created! Redirecting...\") with 1-2 second delay before redirect to provide clear confirmation.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-518",
      "feature": "Signup Flow",
      "category": "AUTH-signup-flow",
      "title": "No Password Strength Indicator",
      "severity": "low",
      "location": "Section 4 - Edge Case #5, Section 7 - Identified Issues",
      "issue": "Edge case #5 flagged with ‚ö†Ô∏è: \"Signup with weak password | Submit 8+ char weak password | Supabase may accept\". Section 7 confirms \"Users may choose weak passwords\" as Low severity. Users can create easily guessable passwords like \"12345678\".",
      "suggested_fix": "Add password strength meter component showing weak/medium/strong feedback. Consider requiring at least one uppercase, lowercase, number, or special character.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add password strength meter component showing weak/medium/strong feedback. Consider requiring at least one uppercase, lowercase, number, or special character.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-519",
      "feature": "Signup Flow",
      "category": "AUTH-signup-flow",
      "title": "Terms/Privacy Links May Not Be Implemented",
      "severity": "medium",
      "location": "Section 5 - Consent Notice, Section 10 - Open Question #5",
      "issue": "Consent notice links to `/terms` and `/privacy` but Open Question #5 asks \"are these pages implemented?\". Users clicking these links may get a 404 error, breaking trust and potentially creating legal compliance issues.",
      "suggested_fix": "Verify /terms and /privacy pages exist. If not, create them with appropriate legal content or link to external hosted legal pages.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Verify /terms and /privacy pages exist. If not, create them with appropriate legal content or link to external hosted legal pages.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-520",
      "feature": "Signup Flow",
      "category": "AUTH-signup-flow",
      "title": "Unused Server-Side signUp Action",
      "severity": "low",
      "location": "Section 8 - Code References, Section 10 - Open Question #7",
      "issue": "Code reference table shows \"Server actions (unused) | apps/dashboard/src/lib/auth/actions.ts | 6-30 | Server-side signUp\". Open Question #7 asks \"Should the client switch to server actions for better security?\". Dead code and potential security improvement opportunity.",
      "suggested_fix": "Either delete unused server action to reduce code debt, or migrate signup to use server actions for improved security (sensitive operations server-side).",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Either delete unused server action to reduce code debt, or migrate signup to use server actions for improved security (sensitive operations server-side).",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-521",
      "feature": "Signup Flow",
      "category": "AUTH-signup-flow",
      "title": "No OAuth Provider Support",
      "severity": "low",
      "location": "Section 10 - Open Question #4",
      "issue": "Open Question #4 asks \"Will OAuth providers (Google, GitHub) be supported for signup? Currently only email/password.\" Modern users expect social login options. Lack of OAuth may increase signup friction and abandonment.",
      "suggested_fix": "Add OAuth support for Google at minimum. GitHub may be relevant depending on target audience. Update database trigger to handle OAuth user metadata format.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add OAuth support for Google at minimum. GitHub may be relevant depending on target audience. Update database trigger to handle OAuth user metadata format.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-522",
      "feature": "Signup Flow",
      "category": "AUTH-signup-flow",
      "title": "Organization Naming Pattern May Need Onboarding Prompt",
      "severity": "low",
      "location": "Section 3 - Data Flow, Section 10 - Open Question #6",
      "issue": "Organizations are auto-named \"[user_name]'s Organization\". Open Question #6 asks \"Is this the final format? Should admins be prompted to rename during onboarding?\". Generic naming may cause confusion for users managing multiple organizations or when sharing with team members.",
      "suggested_fix": "Add organization naming to onboarding flow, or show prompt in dashboard for users to customize organization name. Consider company name as signup field alternative.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add organization naming to onboarding flow, or show prompt in dashboard for users to customize organization name. Consider company name as signup field alternative.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-523",
      "feature": "Public Feedback",
      "category": "V-public-feedback",
      "title": "Critical Prompt/Feature Name Mismatch",
      "severity": "critical",
      "location": "Section 10 - Open Questions #7; Section 1 Note",
      "issue": "The prompt description states this is a \"Post-call feedback form for visitors. Collects ratings, comments, and satisfaction data after calls end.\" However, the actual implementation is a UserVoice/Canny-style feature request voting system and bug reporter for authenticated dashboard users (Agents/Admins), NOT website visitors or post-call surveys. This fundamental documentation mismatch could cause significant confusion during development, onboarding, or feature planning. The feature name \"Public Feedback\" is also misleading since it requires authentication.",
      "suggested_fix": "Update all references to accurately describe this as \"Feature Request Voting & Bug Reporting System\" or similar. Clarify that \"public\" refers to cross-organization visibility, not anonymous access.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "ticketed",
      "ticket_id": "TKT-007",
      "options": [
        {
          "id": "implement_fix",
          "label": "Update all references to accurately describe this as \"Feature Request Voting & Bug Reporting System\" or similar. Clarify that \"public\" refers to cross-organization visibility, not anonymous access.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-524",
      "feature": "Public Feedback",
      "category": "V-public-feedback",
      "title": "Status Changes Don't Trigger Notifications",
      "severity": "high",
      "location": "Section 10 - Open Questions #5",
      "issue": "Documentation explicitly states \"Should feature request status changes trigger notifications? Currently only replies and upvotes notify users; status changes (completed, declined) do not.\" This is a significant UX gap - users who submit feature requests have no way to know their request was implemented or declined without manually checking the feedback page.",
      "suggested_fix": "Implement notifications for status changes, especially `completed` and `declined`. These are the outcomes users most want to know about.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "ticketed",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Implement notifications for status changes, especially `completed` and `declined`. These are the outcomes users most want to know about.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-525",
      "feature": "Public Feedback",
      "category": "V-public-feedback",
      "title": "Silent Error States for Vote and Fetch Failures",
      "severity": "high",
      "location": "Section 4 - Error States table",
      "issue": "The error states table documents that \"Fetch items fails\" results in \"Console error, list may be empty\" and \"Vote fails\" results in \"Console error, UI may be stale\". Users receive no visible feedback when these operations fail - they just see an empty list or stale vote counts. This violates the principle of providing clear error feedback.",
      "suggested_fix": "Add user-facing error toasts or inline error messages for fetch and vote failures. Show retry buttons where appropriate.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "skipped",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add user-facing error toasts or inline error messages for fetch and vote failures. Show retry buttons where appropriate.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-526",
      "feature": "Public Feedback",
      "category": "V-public-feedback",
      "title": "No Pagination for Feature Requests",
      "severity": "medium",
      "location": "Section 6 - Performance; Section 7 - Identified Issues; Section 10 - Open Question #1",
      "issue": "Multiple sections flag that \"all items load at once\" with no pagination implemented. Open Question #1 explicitly asks \"Should there be pagination for feature requests? Currently all items load at once, which could be slow with thousands of requests.\" Section 7 lists this as a Medium severity issue suggesting \"Add infinite scroll or pagination.\"",
      "suggested_fix": "Implement pagination or infinite scroll with reasonable page sizes (e.g., 20-50 items per page).",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Implement pagination or infinite scroll with reasonable page sizes (e.g., 20-50 items per page).",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-527",
      "feature": "Public Feedback",
      "category": "V-public-feedback",
      "title": "No Rate Limiting on Submissions",
      "severity": "medium",
      "location": "Section 10 - Open Questions #4",
      "issue": "Open Question #4 states \"Should there be rate limiting on submissions? Currently no limit on how many feature requests or bug reports a user can submit.\" This could enable spam or abuse, filling the feedback system with low-quality submissions.",
      "suggested_fix": "Implement per-user rate limits (e.g., max 10 feature requests and 20 bug reports per day). Consider cooldown periods between submissions.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Implement per-user rate limits (e.g., max 10 feature requests and 20 bug reports per day). Consider cooldown periods between submissions.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-528",
      "feature": "Public Feedback",
      "category": "V-public-feedback",
      "title": "Vote Buttons Keyboard Accessibility Not Verified",
      "severity": "medium",
      "location": "Section 5 - Accessibility",
      "issue": "Documentation states \"Keyboard navigation: ‚ö†Ô∏è Modals trap focus but vote buttons may not be fully keyboard accessible\". Up/down vote buttons are core interaction elements that should be accessible via keyboard for users who cannot use a mouse.",
      "suggested_fix": "Verify vote buttons have proper tabIndex, keyboard event handlers (Enter/Space), and focus indicators. Test with keyboard-only navigation.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Verify vote buttons have proper tabIndex, keyboard event handlers (Enter/Space), and focus indicators. Test with keyboard-only navigation.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-529",
      "feature": "Public Feedback",
      "category": "V-public-feedback",
      "title": "Vote Counts Lack Aria-Live Announcements",
      "severity": "medium",
      "location": "Section 5 - Accessibility",
      "issue": "Documentation states \"Screen reader support: ‚ö†Ô∏è Vote counts lack aria-live announcements\". When users vote, the count changes visually but screen reader users don't receive feedback that their vote was registered or the new count.",
      "suggested_fix": "Add aria-live=\"polite\" region for vote count updates, or announce vote confirmation via screen reader.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add aria-live=\"polite\" region for vote count updates, or announce vote confirmation via screen reader.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-530",
      "feature": "Public Feedback",
      "category": "V-public-feedback",
      "title": "Large Recording/Screenshot Size Not Limited",
      "severity": "medium",
      "location": "Section 4 - Edge Cases #17; Section 6 - Performance; Section 7 - Identified Issues",
      "issue": "Edge Case #17 states \"Upload large recording | Submit with video | May timeout ‚ö†Ô∏è | No explicit size limit\". Section 6 Performance confirms \"Screenshot/recording size: No explicit limits ‚ö†Ô∏è Large files could timeout\". The 60-second recording limit helps, but doesn't prevent multi-megabyte files that could fail during upload.",
      "suggested_fix": "Add client-side file size validation before upload. Show warning for files over threshold (e.g., 10MB) and reject files over maximum (e.g., 50MB).",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add client-side file size validation before upload. Show warning for files over threshold (e.g., 10MB) and reject files over maximum (e.g., 50MB).",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-531",
      "feature": "Public Feedback",
      "category": "V-public-feedback",
      "title": "Notification Click Doesn't Navigate to Specific Item",
      "severity": "low",
      "location": "Section 4 - Edge Cases #21; Section 7 - Identified Issues; Section 10 - Open Question #2",
      "issue": "Edge Case #21 and Section 7 flag \"Notification click: Marks read, navigates to /feedback ‚ö†Ô∏è Doesn't scroll to specific item\". Open Question #2 asks \"Should notifications deep-link to specific comments?\" When users click a notification about their request getting upvoted or replied to, they must manually find that item.",
      "suggested_fix": "Store item ID in notification, navigate to /feedback?item=<id>, and auto-open the detail modal for that item.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Store item ID in notification, navigate to /feedback?item=<id>, and auto-open the detail modal for that item.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-532",
      "feature": "Public Feedback",
      "category": "V-public-feedback",
      "title": "No Description Length Limit",
      "severity": "low",
      "location": "Section 4 - Edge Cases #7; Section 7 - Identified Issues",
      "issue": "Edge Case #7 states \"Very long description | Type unlimited | No limit enforced ‚ö†Ô∏è | Could cause UI issues\". While titles are limited to 200 characters (enforced client-side), descriptions have no maximum length, which could cause layout issues or database bloat.",
      "suggested_fix": "Add maxLength or truncation for descriptions. A reasonable limit might be 5000-10000 characters.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add maxLength or truncation for descriptions. A reasonable limit might be 5000-10000 characters.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-533",
      "feature": "Public Feedback",
      "category": "V-public-feedback",
      "title": "No Upload Progress Indicator",
      "severity": "low",
      "location": "Section 5 - Bug Report Flow Step 7",
      "issue": "Section 5 Bug Report Flow notes \"Submit: Upload ‚Üí close ‚Üí success toast | ‚úÖ | No progress indicator\". For large screenshots or recordings, users have no visibility into upload progress, creating uncertainty about whether the upload is working.",
      "suggested_fix": "Add upload progress bar or percentage indicator during file upload.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add upload progress bar or percentage indicator during file upload.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-534",
      "feature": "Public Feedback",
      "category": "V-public-feedback",
      "title": "60-Second Recording Limit May Be Insufficient",
      "severity": "low",
      "location": "Section 10 - Open Questions #3",
      "issue": "Open Question #3 asks \"Is 60-second recording limit sufficient? Some complex bugs may need longer recordings to reproduce.\" For multi-step bugs or bugs that require setup time to reproduce, 60 seconds may cut off critical context.",
      "suggested_fix": "Consider increasing limit to 120 seconds, or allow users to submit multiple 60-second clips for complex issues. Document the limit clearly to users.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Consider increasing limit to 120 seconds, or allow users to submit multiple 60-second clips for complex issues. Document the limit clearly to users.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-535",
      "feature": "Video Sequencer",
      "category": "V-video-sequencer",
      "title": "\"Tap to Unmute\" CTA is Small and Easy to Miss",
      "severity": "medium",
      "location": "Section 5 - UI/UX Review; Section 7 - Identified Issues",
      "issue": "Multiple sections flag this problem. Section 5 User Experience Audit marks \"Widget appears\" with warning noting \"Tap to unmute is small\". Section 5 Muted Indicator UX states \"Potential Issue: On smaller widget sizes, this may be easy to miss.\" Section 7 Identified Issues lists \"Tap to unmute is small and easy to miss | Visitors may not hear intro audio | Medium\". If visitors don't notice the unmute prompt, they miss the entire audio experience which is core to the ghost greeter value proposition.",
      "suggested_fix": "Make CTA more prominent: larger text/icon, pulse animation after 2 wave loops, or position more centrally. Consider A/B testing different prompt styles.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Make CTA more prominent: larger text/icon, pulse animation after 2 wave loops, or position more centrally. Consider A/B testing different prompt styles.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-536",
      "feature": "Video Sequencer",
      "category": "V-video-sequencer",
      "title": "No Wave URL Fallback Uses Intro as Wave Video",
      "severity": "low",
      "location": "Section 4 - Edge Cases #5; Section 7 - Identified Issues",
      "issue": "Edge Case #5 notes \"No wave URL (only intro)\" with warning stating \"Uses introUrl as wave (loops muted)\". Section 7 lists \"No wave URL uses intro as wave | May feel jarring if intro is personal | Low\". If an agent only uploads one video meant as a personal intro, it will be repurposed as the muted looping wave, which could look awkward (e.g., agent saying words but muted, lip movements without audio).",
      "suggested_fix": "Could show static frame or avatar instead when no wave URL is provided, or document this behavior clearly in agent video upload UI with guidance.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Could show static frame or avatar instead when no wave URL is provided, or document this behavior clearly in agent video upload UI with guidance.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-537",
      "feature": "Video Sequencer",
      "category": "V-video-sequencer",
      "title": "Wave Completion Detection May Fail for Very Short Videos",
      "severity": "low",
      "location": "Section 7 - Identified Issues; Section 8 - Key Constants",
      "issue": "Section 7 states \"waveCompletedOnce tolerance is 0.3s | Very short videos (<0.5s) might not register complete | Low\". Section 8 Key Constants shows END_DETECTION_TOLERANCE: 0.5 (0.5 seconds). If an agent uploads an extremely short wave video (under 0.5 seconds), the completion detection using timeupdate events at ~250ms intervals may not reliably catch the end, causing the transition logic to fail.",
      "suggested_fix": "Document minimum video duration requirements (e.g., wave must be at least 1 second) in agent video upload UI. Edge case unlikely with real videos.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Document minimum video duration requirements (e.g., wave must be at least 1 second) in agent video upload UI. Edge case unlikely with real videos.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-538",
      "feature": "Video Sequencer",
      "category": "V-video-sequencer",
      "title": "Minimum Wave Loops Not Configurable",
      "severity": "low",
      "location": "Section 10 - Open Questions Q-V2-001",
      "issue": "Open Question Q-V2-001 states: \"Should there be a configurable 'minimum wave loops' before transitioning? Currently it's 1 loop, but some agents may want visitors to see the wave 2-3 times.\" Currently hardcoded to require exactly 1 complete wave playback. Some agents may prefer visitors see the attention-grabbing wave animation multiple times before the personal intro plays.",
      "suggested_fix": "Consider adding organization-level or agent-level setting for minimum wave loop count. Low priority - current behavior is reasonable default.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Consider adding organization-level or agent-level setting for minimum wave loop count. Low priority - current behavior is reasonable default.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-539",
      "feature": "Video Sequencer",
      "category": "V-video-sequencer",
      "title": "Same Video URL for All Three Videos Creates Odd Sequence",
      "severity": "low",
      "location": "Section 10 - Open Questions Q-V2-002",
      "issue": "Open Question Q-V2-002 asks: \"What happens if all three video URLs point to the same video file? (e.g., agent only uploaded one video) - Currently would work but show same video three times in sequence which may be odd.\" The system would play the same video muted as wave, then unmuted as intro, then loop the same video again. This creates a jarring experience where the visitor sees the same content three times with different audio states.",
      "suggested_fix": "Detect duplicate URLs and skip redundant phases. If waveUrl === introUrl === loopUrl, could go directly to loop phase with audio once unlocked. Or validate at upload time that at least 2 distinct videos are required.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Detect duplicate URLs and skip redundant phases. If waveUrl === introUrl === loopUrl, could go directly to loop phase with audio once unlocked. Or validate at upload time that at least 2 distinct videos are required.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-540",
      "feature": "Video Sequencer",
      "category": "V-video-sequencer",
      "title": "No Analytics Tracking for Video Load Failures",
      "severity": "medium",
      "location": "Section 10 - Open Questions Q-V2-003",
      "issue": "Open Question Q-V2-003 asks: \"Is there any analytics tracking when videos fail to load? Could be valuable for detecting CDN issues or format compatibility problems.\" Video load failures are handled with retry logic and error states, but there's no indication that failures are tracked or reported. This makes it impossible to detect systemic issues like CDN problems, video format incompatibility, or geographic delivery issues.",
      "suggested_fix": "Add analytics event for video load failures including: video type (wave/intro/loop), error message, retry count, user agent, and geographic region. Alert on elevated failure rates.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add analytics event for video load failures including: video type (wave/intro/loop), error message, retry count, user agent, and geographic region. Alert on elevated failure rates.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-541",
      "feature": "Video Sequencer",
      "category": "V-video-sequencer",
      "title": "No Keyboard Controls for Video Playback",
      "severity": "medium",
      "location": "Section 5 - Accessibility",
      "issue": "Section 5 Accessibility states: \"Keyboard navigation: No direct keyboard controls for video playback\". Users who rely on keyboard navigation cannot control the video experience. This is particularly important for users with motor impairments who cannot use mouse/touch interactions to trigger audio unlock.",
      "suggested_fix": "Add keyboard event listeners for audio unlock (spacebar/enter), and consider escape to mute. Ensure proper focus management so keyboard users can interact with the widget.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add keyboard event listeners for audio unlock (spacebar/enter), and consider escape to mute. Ensure proper focus management so keyboard users can interact with the widget.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-542",
      "feature": "Video Sequencer",
      "category": "V-video-sequencer",
      "title": "Screen Reader Support Limited to Controls Only",
      "severity": "medium",
      "location": "Section 5 - Accessibility",
      "issue": "Section 5 Accessibility states: \"Screen reader support: ARIA labels present on controls but not on video content\". Screen reader users have no way to understand that a video is playing or what the video represents. They may not know an \"agent\" is greeting them since the video content (the core experience) is inaccessible.",
      "suggested_fix": "Add aria-live region announcing video state changes (e.g., \"Agent greeting video playing\", \"Agent is waiting for you\"). Consider adding text alternative or audio description option for blind users.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add aria-live region announcing video state changes (e.g., \"Agent greeting video playing\", \"Agent is waiting for you\"). Consider adding text alternative or audio description option for blind users.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-543",
      "feature": "Video Sequencer",
      "category": "V-video-sequencer",
      "title": "State Machine Missing Error Paths from Later States",
      "severity": "low",
      "location": "Section 2 - State Machine diagram",
      "issue": "The state machine diagram shows loading to error for \"Video load fails\", but there are no error transition paths shown from wave, intro, or loop states. However, Section 4 Edge Cases #12-13 describe \"Intro playback fails\" and \"Loop playback fails\" scenarios with specific handling. The state machine should show these error recovery paths for accuracy.",
      "suggested_fix": "Update state machine to show error transitions from wave/intro/loop states, or clarify that errors in those states trigger retry within the same state rather than transitioning to error state.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Update state machine to show error transitions from wave/intro/loop states, or clarify that errors in those states trigger retry within the same state rather than transitioning to error state.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-544",
      "feature": "Video Sequencer",
      "category": "V-video-sequencer",
      "title": "Video Format Dependency Not Validated at Upload",
      "severity": "low",
      "location": "Section 6 - Browser Compatibility",
      "issue": "Section 6 Browser Compatibility notes: \"Video formats: Depends on agent-uploaded format (typically MP4)\". There's no indication that video format is validated at upload time. If an agent uploads a video in an unsupported format (e.g., WebM on Safari, AV1 on older browsers), visitors on certain browsers would see load failures.",
      "suggested_fix": "Validate video format at upload time and either reject unsupported formats or transcode to universally-supported MP4/H.264. Display format requirements in upload UI.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Validate video format at upload time and either reject unsupported formats or transcode to universally-supported MP4/H.264. Display format requirements in upload UI.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-545",
      "feature": "Ellis Survey",
      "category": "FEEDBACK-ellis-survey",
      "title": "Dismissal Tracked as \"not_disappointed\" Skews PMF Data",
      "severity": "high",
      "location": "Section 3 - Data Flow (USER DISMISSES), Section 10 - Open Question #1",
      "issue": "When a user dismisses the survey, the code sets `disappointment_level: \"not_disappointed\"` as the default. Open Question #1 correctly identifies this: \"This seems to skew data negatively. Should it be null or a separate category?\" This design choice means dismissed surveys artificially inflate the \"not disappointed\" count, which is the least favorable PMF response. Any PMF calculation using this data will undercount true product-market fit.",
      "suggested_fix": "Either (1) use a null/separate \"dismissed\" category for disappointment_level, or (2) exclude dismissed surveys from PMF percentage calculations. The database migration should be updated to allow NULL or add a \"dismissed\" enum value.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "ticketed",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Either (1) use a null/separate \"dismissed\" category for disappointment_level, or (2) exclude dismissed surveys from PMF percentage calculations. The database migration should be updated to allow NULL or add a \"dismissed\" enum value.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-546",
      "feature": "Ellis Survey",
      "category": "FEEDBACK-ellis-survey",
      "title": "Cooldown Documentation Mismatch (30 Days vs 90 Days)",
      "severity": "low",
      "location": "Section 7 - Identified Issues, Section 10 - Open Question #2",
      "issue": "The document already flags this: \"Preview page says 30 days, code says 90 days\" while code shows `MIN_DAYS_SINCE_LAST_SURVEY = 90`. The preview page at `/admin/preview-survey` displays incorrect cooldown information to admins testing the survey.",
      "suggested_fix": "Update preview page copy to show 90 days to match the actual code behavior.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Update preview page copy to show 90 days to match the actual code behavior.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-547",
      "feature": "Ellis Survey",
      "category": "FEEDBACK-ellis-survey",
      "title": "No Close Button Until Selection Forces User Interaction",
      "severity": "medium",
      "location": "Section 5 - UI/UX Review Row #3, Section 7 - Identified Issues",
      "issue": "Documentation notes Step 3: \"Try to close without selecting - No close button visible ‚ö†Ô∏è Might feel trapped\". The identified issues section also flags \"No close button initially - User might feel trapped üü° Medium\". Users who don't want to participate in the survey have no way to dismiss it without first selecting an option.",
      "suggested_fix": "Add visible X button from the start but track \"dismissed before selection\" as a separate data point. This respects user autonomy while still capturing engagement metrics.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add visible X button from the start but track \"dismissed before selection\" as a separate data point. This respects user autonomy while still capturing engagement metrics.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-548",
      "feature": "Ellis Survey",
      "category": "FEEDBACK-ellis-survey",
      "title": "Backdrop Click Does Nothing Before Selection",
      "severity": "low",
      "location": "Section 5 - UI/UX Review Row #4",
      "issue": "Documentation notes: \"Click backdrop without selecting - Nothing happens ‚ö†Ô∏è Could confuse users\". Standard modal behavior is that clicking outside closes the modal. Users may repeatedly click the backdrop expecting it to dismiss, creating frustration.",
      "suggested_fix": "Either (1) allow backdrop dismiss with tracking, or (2) add subtle visual feedback (shake animation, tooltip) to indicate the modal requires interaction.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Either (1) allow backdrop dismiss with tracking, or (2) add subtle visual feedback (shake animation, tooltip) to indicate the modal requires interaction.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-549",
      "feature": "Ellis Survey",
      "category": "FEEDBACK-ellis-survey",
      "title": "Multiple Open Tabs Can Each Show Survey",
      "severity": "low",
      "location": "Section 4 - Edge Cases Row #16, Section 7 - Identified Issues",
      "issue": "Documentation flags: \"Multiple tabs open - sessionStorage - Each tab tracks independently ‚ö†Ô∏è Could see survey in each tab\". Since sessionStorage is tab-scoped, a user with multiple dashboard tabs could see the survey modal in each tab independently, leading to survey fatigue and duplicate responses.",
      "suggested_fix": "Use localStorage instead of sessionStorage (as suggested in doc), or implement cross-tab communication via BroadcastChannel API to prevent duplicate surveys in the same browser session.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Use localStorage instead of sessionStorage (as suggested in doc), or implement cross-tab communication via BroadcastChannel API to prevent duplicate surveys in the same browser session.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-550",
      "feature": "Ellis Survey",
      "category": "FEEDBACK-ellis-survey",
      "title": "Page Refresh During Timer May Cause Double Survey Attempts",
      "severity": "low",
      "location": "Section 4 - Edge Cases Row #11",
      "issue": "Documentation flags: \"User refreshes during timer - Page reload - Timer resets, may show if still eligible ‚ö†Ô∏è Session might see two attempts\". The timer state isn't persisted, so a user who refreshes gets a new random timer. While sessionStorage prevents showing twice in the same session, the timer resetting could lead to unexpected survey appearances at different times than originally scheduled.",
      "suggested_fix": "Store timer start time in sessionStorage and calculate remaining time on page load rather than always starting fresh.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Store timer start time in sessionStorage and calculate remaining time on page load rather than always starting fresh.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-551",
      "feature": "Ellis Survey",
      "category": "FEEDBACK-ellis-survey",
      "title": "Keyboard Navigation Not Explicitly Handled",
      "severity": "medium",
      "location": "Section 5 - Accessibility",
      "issue": "Documentation notes with ‚ö†Ô∏è: \"Keyboard navigation: Not explicitly handled (relies on native button behavior)\". Users who navigate via keyboard should be able to tab through options, select with Enter/Space, and navigate to submit/skip buttons. Relying only on native behavior may not provide optimal keyboard UX for modal interaction patterns.",
      "suggested_fix": "Add explicit keyboard handling: focus trap within modal, Tab navigation between options, Enter to select highlighted option, Escape to dismiss (after selection).",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add explicit keyboard handling: focus trap within modal, Tab navigation between options, Enter to select highlighted option, Escape to dismiss (after selection).",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-552",
      "feature": "Ellis Survey",
      "category": "FEEDBACK-ellis-survey",
      "title": "Screen Reader Support Missing (No ARIA Labels)",
      "severity": "medium",
      "location": "Section 5 - Accessibility",
      "issue": "Documentation notes with ‚ö†Ô∏è: \"Screen reader support: No aria-labels on modal\". The survey modal lacks proper ARIA attributes for screen reader users. This is an accessibility gap that may affect visually impaired users' ability to complete the survey.",
      "suggested_fix": "Add role=\"dialog\", aria-modal=\"true\", aria-labelledby for title, aria-describedby for question, and proper button labels. Announce option selection to screen readers.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add role=\"dialog\", aria-modal=\"true\", aria-labelledby for title, aria-describedby for question, and proper button labels. Announce option selection to screen readers.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-553",
      "feature": "Ellis Survey",
      "category": "FEEDBACK-ellis-survey",
      "title": "Sequential Eligibility Queries Could Be Parallelized",
      "severity": "low",
      "location": "Section 6 - Performance, Section 7 - Identified Issues",
      "issue": "Documentation notes: \"Multiple DB queries for eligibility - 3 separate queries, sequential ‚ö†Ô∏è Could be optimized\". The eligibility check runs 3 sequential database queries (cooldown, call count, last activity). On slower connections or under load, this adds latency to survey triggering.",
      "suggested_fix": "Parallelize independent queries using Promise.all() or create a single Supabase RPC function that returns all eligibility data in one round-trip.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Parallelize independent queries using Promise.all() or create a single Supabase RPC function that returns all eligibility data in one round-trip.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-554",
      "feature": "Ellis Survey",
      "category": "FEEDBACK-ellis-survey",
      "title": "No LocalStorage Fallback for Session Tracking",
      "severity": "low",
      "location": "Section 6 - Reliability",
      "issue": "Documentation notes: \"Session tracking fails - localStorage fallback could help but not implemented\". If sessionStorage fails (rare but possible in private browsing modes or storage quota issues), there's no fallback, potentially showing survey unexpectedly.",
      "suggested_fix": "Implement localStorage fallback, or use try-catch with graceful degradation if storage APIs fail.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Implement localStorage fallback, or use try-catch with graceful degradation if storage APIs fail.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-555",
      "feature": "Ellis Survey",
      "category": "FEEDBACK-ellis-survey",
      "title": "Other Survey Triggers Not Implemented",
      "severity": "low",
      "location": "Section 10 - Open Question #4",
      "issue": "Open Question #4 asks: \"What triggers besides 'random' exist?\" The triggered_by field in the migration comments mentions \"milestone\" and \"post_call\" as potential triggers, but only \"random\" is currently implemented. The feature may be incomplete if these other triggers were planned.",
      "suggested_fix": "Document whether milestone/post_call triggers are planned features or deprecated ideas. If planned, add to roadmap; if deprecated, remove from migration comments to avoid confusion.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Document whether milestone/post_call triggers are planned features or deprecated ideas. If planned, add to roadmap; if deprecated, remove from migration comments to avoid confusion.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-556",
      "feature": "Ellis Survey",
      "category": "FEEDBACK-ellis-survey",
      "title": "No Maximum Follow-up Text Length",
      "severity": "low",
      "location": "Section 4 - Edge Cases Row #12, Section 10 - Open Question #5",
      "issue": "Edge case #12 notes \"Very long follow-up text - No limit - Accepted (TEXT column in DB) ‚úÖ No max length enforced\". Open Question #5 asks \"Should there be a maximum follow-up text length?\" While DB can handle TEXT columns, extremely long responses could cause display issues in the Platform Admin feedback viewer and increase storage costs.",
      "suggested_fix": "Add client-side maxLength (e.g., 2000 characters) with character counter to guide users while allowing substantive feedback.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add client-side maxLength (e.g., 2000 characters) with character counter to guide users while allowing substantive feedback.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-557",
      "feature": "Ellis Survey",
      "category": "FEEDBACK-ellis-survey",
      "title": "PMF 40% Threshold Not Calculated or Displayed",
      "severity": "medium",
      "location": "Section 10 - Open Question #6",
      "issue": "Open Question #6 states: \"How is the 40% PMF threshold tracked? Survey collects data but there's no visible dashboard showing the PMF percentage calculation.\" The core purpose of the Ellis Survey is to measure if 40%+ of users would be \"very disappointed\" without the product. Without calculating and displaying this percentage, the feature's primary value proposition is not realized.",
      "suggested_fix": "Add PMF percentage calculation to the Platform Feedback Dashboard showing: (very_disappointed_count / total_completed_surveys) * 100, with trend over time and 40% threshold line.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add PMF percentage calculation to the Platform Feedback Dashboard showing: (very_disappointed_count / total_completed_surveys) * 100, with trend over time and 40% threshold line.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-558",
      "feature": "Coverage Stats",
      "category": "STATS-coverage-stats",
      "title": "DST Transition Causes 1-Hour Data Discrepancy",
      "severity": "medium",
      "location": "Section 4 - Edge Cases, row #9",
      "issue": "Edge case #9 is flagged with ‚ö†Ô∏è stating \"Date range spans timezone change | DST transition | Uses server timezone consistently | ‚ö†Ô∏è | May have 1 hour discrepancy\". This acknowledged discrepancy means coverage stats crossing DST boundaries will have inaccurate hourly bucketing - pageviews recorded at 2am could be attributed to 1am or 3am depending on transition direction. For organizations analyzing hourly patterns around DST changes, this could lead to misleading staffing recommendations.",
      "suggested_fix": "Either convert all timestamps to UTC before hourly bucketing, or add a warning in the UI when date range spans a DST transition. Document the behavior explicitly so admins understand potential discrepancies.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Either convert all timestamps to UTC before hourly bucketing, or add a warning in the UI when date range spans a DST transition. Document the behavior explicitly so admins understand potential discrepancies.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-559",
      "feature": "Coverage Stats",
      "category": "STATS-coverage-stats",
      "title": "Heatmap Missing ARIA Labels for Screen Reader Accessibility",
      "severity": "medium",
      "location": "Section 5 - Accessibility; Section 7 - Identified Issues",
      "issue": "Accessibility section explicitly notes \"Screen reader support: ‚ö†Ô∏è Heatmap needs aria labels\". The DayHourHeatmap component renders a 7√ó24 grid of cells showing coverage intensity, but without aria-label attributes, screen reader users cannot access the coverage data at all. This is a significant accessibility gap for an important analytics feature.",
      "suggested_fix": "Add aria-label to each heatmap cell with format like \"Monday 9am: 45 visitors, 12 missed opportunities, 73% coverage\". Also add role=\"grid\" and appropriate row/column headers.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add aria-label to each heatmap cell with format like \"Monday 9am: 45 visitors, 12 missed opportunities, 73% coverage\". Also add role=\"grid\" and appropriate row/column headers.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-560",
      "feature": "Coverage Stats",
      "category": "STATS-coverage-stats",
      "title": "Session Overlap Calculation is O(n√óm√ód) - Performance Risk for Long Date Ranges",
      "severity": "medium",
      "location": "Section 6 - Technical Concerns, Performance table; Section 7 - Identified Issues",
      "issue": "Documentation explicitly flags \"Session overlap calculations | O(n √ó m √ó days) where n=sessions, m=24 | ‚ö†Ô∏è Could be slow for long ranges\". The suggested fix in Section 7 recommends \"Pre-aggregate coverage by hour in DB\" but this hasn't been implemented. For organizations with many agents over 90+ day ranges, this could cause noticeable UI latency or even timeout errors.",
      "suggested_fix": "Implement hourly pre-aggregation as suggested, or add a date range limit (e.g., max 90 days) with messaging to users about why.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Implement hourly pre-aggregation as suggested, or add a date range limit (e.g., max 90 days) with messaging to users about why.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-561",
      "feature": "Coverage Stats",
      "category": "STATS-coverage-stats",
      "title": "No Data Retention Policy for widget_pageviews",
      "severity": "medium",
      "location": "Section 10 - Open Questions, #5",
      "issue": "Open Question #5 states \"What retention period for pageview data? Currently unbounded. May need archival/aggregation policy for scale.\" This is a scalability time bomb - pageviews table will grow indefinitely, eventually causing performance degradation and increased storage costs. High-traffic sites could generate millions of pageviews per month.",
      "suggested_fix": "Implement a retention policy: either archive raw pageviews older than X months to cold storage, or pre-aggregate old data into daily summaries and delete raw records. Document the policy for admins.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Implement a retention policy: either archive raw pageviews older than X months to cold storage, or pre-aggregate old data into daily summaries and delete raw records. Document the policy for admins.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-562",
      "feature": "Coverage Stats",
      "category": "STATS-coverage-stats",
      "title": "Timezone Handling Problematic for Multi-Timezone Organizations",
      "severity": "medium",
      "location": "Section 10 - Open Questions, #3",
      "issue": "Open Question #3 raises: \"How should timezone differences be handled? Current implementation uses server timezone. Multi-timezone orgs might want local time grouping.\" For organizations with agents in multiple timezones (e.g., US East + West coast), the heatmap showing \"9am has coverage gap\" is ambiguous - which 9am? Agent schedules are typically in local time, making server-timezone coverage data difficult to act upon.",
      "suggested_fix": "Add timezone selector to coverage stats UI, or detect agent timezones and show multiple overlaid views. At minimum, display the timezone being used prominently in the UI.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add timezone selector to coverage stats UI, or detect agent timezones and show multiple overlaid views. At minimum, display the timezone being used prominently in the UI.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-563",
      "feature": "Coverage Stats",
      "category": "STATS-coverage-stats",
      "title": "No Maximum Date Range Limit Despite Timeout Risk",
      "severity": "low",
      "location": "Section 4 - Error States, \"Database timeout\" row",
      "issue": "Error States table acknowledges \"Database timeout | Large data volume | Loading spinner, then error | Recovery: Reduce date range\". However, nothing prevents users from selecting extremely large date ranges that will time out. The UI allows arbitrary date selection with no guardrails, leading to a poor user experience when queries inevitably fail.",
      "suggested_fix": "Either enforce a maximum date range (e.g., 180 days) in the date picker, or show a warning when selecting ranges > 90 days. Could also implement progressive loading for large ranges.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Either enforce a maximum date range (e.g., 180 days) in the date picker, or show a warning when selecting ranges > 90 days. Could also implement progressive loading for large ranges.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-564",
      "feature": "Coverage Stats",
      "category": "STATS-coverage-stats",
      "title": "No Real-time Coverage Indicator",
      "severity": "low",
      "location": "Section 7 - Identified Issues, row 3; Section 10 - Open Questions, #1",
      "issue": "Section 7 identifies \"No real-time coverage tracking | Admin sees historical, not current | üü¢ Low | Could add live coverage indicator\". Admins managing schedules would benefit from seeing current coverage state (e.g., \"Right now: 2 agents online, covering 3 pools\"). Currently they must infer current state from agent list rather than having a dedicated coverage view.",
      "suggested_fix": "Add a \"Live Coverage\" card or indicator showing current agent availability across pools. Could use existing WebSocket infrastructure.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add a \"Live Coverage\" card or indicator showing current agent availability across pools. Could use existing WebSocket infrastructure.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-565",
      "feature": "Coverage Stats",
      "category": "STATS-coverage-stats",
      "title": "No Alerting System for Low Coverage Periods",
      "severity": "low",
      "location": "Section 10 - Open Questions, #2",
      "issue": "Open Question #2 asks \"Should there be alerts for low coverage? Currently passive reporting only. Could add email/slack alerts when coverage drops below threshold.\" This is a valuable feature gap - admins must manually check coverage stats rather than being proactively notified of staffing gaps. A sudden traffic surge with no agents online would go unnoticed until later review.",
      "suggested_fix": "Implement configurable coverage threshold alerts (e.g., \"Alert me when coverage drops below 80% for more than 15 minutes\"). Integrate with existing notification infrastructure.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Implement configurable coverage threshold alerts (e.g., \"Alert me when coverage drops below 80% for more than 15 minutes\"). Integrate with existing notification infrastructure.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-566",
      "feature": "Coverage Stats",
      "category": "STATS-coverage-stats",
      "title": "No Page Value Weighting in Coverage Calculations",
      "severity": "low",
      "location": "Section 10 - Open Questions, #4",
      "issue": "Open Question #4 raises \"Should coverage be weighted by page value? Currently all pageviews are equal. High-value pages (pricing, contact) could be weighted higher.\" Missing a visitor on the pricing page is likely more costly than missing one on a blog post, but current metrics treat them identically. This reduces the actionability of staffing recommendations.",
      "suggested_fix": "Consider adding page importance weights or at least allowing filtering by URL pattern. Show \"missed on high-intent pages\" as a separate metric.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Consider adding page importance weights or at least allowing filtering by URL pattern. Show \"missed on high-intent pages\" as a separate metric.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-567",
      "feature": "Coverage Stats",
      "category": "STATS-coverage-stats",
      "title": "Fallback Query Retry Mechanism Not Documented",
      "severity": "low",
      "location": "Section 4 - Error States, \"widget_pageviews query fails\" row",
      "issue": "Error States table mentions \"widget_pageviews query fails | Missing column (migration not run) | Fallback query without visitor_country_code | Automatic retry\". The \"automatic retry\" behavior is not explained. It's unclear: Does it retry the same query? Does it try a simpler query? How many retries? What if the fallback also fails? The error recovery path needs more detail.",
      "suggested_fix": "Document the exact fallback query logic and retry behavior. Specify retry count, delay, and ultimate failure state.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Document the exact fallback query logic and retry behavior. Specify retry count, delay, and ultimate failure state.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-568",
      "feature": "Coverage Stats",
      "category": "STATS-coverage-stats",
      "title": "Empty Date Range Edge Case Has Inconsistent Behavior",
      "severity": "low",
      "location": "Section 4 - Edge Cases, row #10",
      "issue": "Edge case #10 states \"Empty date range | From > To | Returns 0 data | ‚úÖ | numDays calculated as 1 minimum\". This is contradictory - if From > To is an invalid range, it should either be rejected with an error or swapped to become valid. Returning \"0 data\" while calculating \"numDays = 1 minimum\" is inconsistent. The avgAgentsOnline calculation would divide by 1 day that never existed.",
      "suggested_fix": "Either swap From/To dates if From > To, or show validation error preventing the query. Don't silently accept invalid ranges.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Either swap From/To dates if From > To, or show validation error preventing the query. Don't silently accept invalid ranges.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-569",
      "feature": "Invites API",
      "category": "API-invites-api",
      "title": "Revoke Flow Unconditionally Removes Billing Seat Regardless of Role",
      "severity": "high",
      "location": "Section 3 - Data Flow, \"ADMIN REVOKES INVITE\"",
      "issue": "The documented revoke flow shows unconditional seat removal: `POST /api/billing/seats { action: \"remove\", quantity: 1 }` after deleting any invite. However, according to Section 2 and Section 3, only agent invites charge a seat at send time. Admin invites do not charge a seat until acceptance (and only if they choose to take calls). If an admin invite is revoked, the system would attempt to remove a seat that was never added, potentially causing billing discrepancies or API errors.",
      "suggested_fix": "Add role check before seat removal: only call billing seats API if the revoked invite had `role = 'agent'`. Document this conditional logic explicitly.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "ticketed",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add role check before seat removal: only call billing seats API if the revoked invite had `role = 'agent'`. Document this conditional logic explicitly.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-570",
      "feature": "Invites API",
      "category": "API-invites-api",
      "title": "Billing Failure on Admin Accept Continues Silently",
      "severity": "medium",
      "location": "Section 6 - Reliability",
      "issue": "Documentation states \"Billing failure on accept (admin) | Logged, continues anyway\". When an admin choosing \"Yes, I'll take calls\" has their seat allocation fail via Stripe/API error, the account creation continues anyway. This leaves the system in an inconsistent state where the admin expects to take calls but may not have a billing seat allocated, causing potential billing discrepancies.",
      "suggested_fix": "Show warning toast to user if seat allocation fails during acceptance. Consider blocking account creation or flagging account for manual billing review.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Show warning toast to user if seat allocation fails during acceptance. Consider blocking account creation or flagging account for manual billing review.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-571",
      "feature": "Invites API",
      "category": "API-invites-api",
      "title": "Invites Don't Count Against Organization max_agents Limit",
      "severity": "medium",
      "location": "Section 10 - Open Questions #4",
      "issue": "Open Question #4 explicitly asks: \"Should invites count against org's max_agents limit? Currently only checked via seat billing.\" Organizations could potentially send more invites than their max_agents allows, with validation only occurring at billing level. This creates a confusing experience where invites succeed but may cause billing surprises or implicit seat expansion.",
      "suggested_fix": "Validate pending invite count + active agents against max_agents limit before allowing new invites. Show clear error message when limit would be exceeded.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Validate pending invite count + active agents against max_agents limit before allowing new invites. Show clear error message when limit would be exceeded.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-572",
      "feature": "Invites API",
      "category": "API-invites-api",
      "title": "No Dedicated Resend Endpoint",
      "severity": "low",
      "location": "Section 7 - Identified Issues; Section 10 - Open Questions #2",
      "issue": "Documentation explicitly notes: \"No resend endpoint | Admin must revoke + re-invite | üü¢ Low\" and Open Question #2 asks \"Should there be a dedicated resend endpoint?\" Currently, if an invite email is lost or expires, admins must manually revoke (which may trigger seat credit) and re-send (which charges again). This is cumbersome and may cause unnecessary billing churn.",
      "suggested_fix": "Add `/api/invites/resend` endpoint that extends `expires_at` and re-sends the email without touching billing records or creating a new invite.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add `/api/invites/resend` endpoint that extends `expires_at` and re-sends the email without touching billing records or creating a new invite.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-573",
      "feature": "Invites API",
      "category": "API-invites-api",
      "title": "Expired Invites Accumulate in Database Indefinitely",
      "severity": "low",
      "location": "Section 7 - Identified Issues; Section 10 - Open Questions #1",
      "issue": "Section 7 lists: \"Expired invites not auto-cleaned | DB accumulates old records | üü¢ Low\". Section 10 asks: \"Should expired invites be automatically cleaned up? Currently they stay in DB indefinitely (filtered by query)\". Over time, the invites table will grow with expired records that are never removed, potentially affecting query performance and storage.",
      "suggested_fix": "Add periodic cleanup job (e.g., daily cron) that deletes invites where `expires_at < NOW() - INTERVAL '30 days'`. Alternatively, archive expired invites to a separate table.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add periodic cleanup job (e.g., daily cron) that deletes invites where `expires_at < NOW() - INTERVAL '30 days'`. Alternatively, archive expired invites to a separate table.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-574",
      "feature": "Invites API",
      "category": "API-invites-api",
      "title": "Old Expired Invite Not Deleted When Sending New Invite to Same Email",
      "severity": "low",
      "location": "Section 4 - Edge Cases #7; Section 7 - Identified Issues",
      "issue": "Edge Case #7 states \"Resend expired invite | Send again | Creates new invite (old stays expired) | ‚ö†Ô∏è | Old record remains but filtered by expiry\". Section 7 confirms: \"Old invite not deleted on 'resend' | Multiple invite records per email | üü¢ Low\". When an admin sends a new invite to an email with an expired invite, both records exist in the database. This creates data redundancy.",
      "suggested_fix": "When creating a new invite, delete any existing expired invites for the same org+email combination. This keeps the invites table clean.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "When creating a new invite, delete any existing expired invites for the same org+email combination. This keeps the invites table clean.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-575",
      "feature": "Invites API",
      "category": "API-invites-api",
      "title": "No Frontend Email Validation",
      "severity": "low",
      "location": "Section 4 - Edge Cases #10; Section 7 - Identified Issues",
      "issue": "Edge Case #10 flags: \"Invite with invalid email format | Bad email | Handled by Resend (likely fails silently) | ‚ö†Ô∏è | No frontend validation visible\". Section 7 lists: \"No email validation on frontend | Invalid emails fail silently | üü¢ Low\". Admins can submit malformed email addresses, and the invite is created in the database even if email delivery fails.",
      "suggested_fix": "Add client-side email format validation (regex check) before form submission. Show inline validation error for malformed emails.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add client-side email format validation (regex check) before form submission. Show inline validation error for malformed emails.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-576",
      "feature": "Invites API",
      "category": "API-invites-api",
      "title": "Resend Quota Exceeded Handling Undefined",
      "severity": "low",
      "location": "Section 10 - Open Questions #3",
      "issue": "Open Question #3 asks: \"What happens if Resend quota is exceeded? Presumably email fails silently, invite still created.\" If the organization's Resend API quota is exhausted, invite emails would fail to deliver but invites would still be created in the database. Admins would have no visibility into this failure.",
      "suggested_fix": "Check Resend API response for quota errors and surface them to the admin. Consider adding monitoring/alerting for email delivery failures.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Check Resend API response for quota errors and surface them to the admin. Consider adding monitoring/alerting for email delivery failures.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-577",
      "feature": "Invites API",
      "category": "API-invites-api",
      "title": "7-Day Invite Expiration Is Hardcoded",
      "severity": "low",
      "location": "Section 10 - Open Questions #5",
      "issue": "Open Question #5 asks: \"Is 7-day expiration the right duration? Hardcoded, could be configurable per-org.\" Organizations with different onboarding timelines (HR processes that take weeks, or security policies requiring same-day acceptance) cannot adjust the expiry window to match their needs.",
      "suggested_fix": "Add organization-level setting for invite expiry duration with sensible default (7 days) and min/max bounds (1-30 days).",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add organization-level setting for invite expiry duration with sensible default (7 days) and min/max bounds (1-30 days).",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-578",
      "feature": "Invites API",
      "category": "API-invites-api",
      "title": "Keyboard Navigation Not Verified",
      "severity": "medium",
      "location": "Section 5 - Accessibility",
      "issue": "Documentation states \"Keyboard navigation: ‚ö†Ô∏è Not verified\". The invite modal and accept invite page have multiple form fields and buttons that should be keyboard-accessible. Without verification, keyboard-only users may have difficulty completing invite workflows.",
      "suggested_fix": "Conduct keyboard navigation audit on both the invite send modal and accept invite page. Verify Tab order, visible focus indicators, and Enter/Space activation on all interactive elements.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Conduct keyboard navigation audit on both the invite send modal and accept invite page. Verify Tab order, visible focus indicators, and Enter/Space activation on all interactive elements.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-579",
      "feature": "Invites API",
      "category": "API-invites-api",
      "title": "Screen Reader Support Not Verified",
      "severity": "medium",
      "location": "Section 5 - Accessibility",
      "issue": "Documentation notes \"Screen reader support: ‚ö†Ô∏è Form labels present but not verified\". The accept invite page includes role choice buttons and form fields that may lack proper ARIA attributes. Screen reader users may have difficulty understanding the admin role choice (with billing implications).",
      "suggested_fix": "Verify ARIA labels on all form elements. Ensure role choice buttons have descriptive labels explaining billing implications. Add aria-live regions for form validation errors.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Verify ARIA labels on all form elements. Ensure role choice buttons have descriptive labels explaining billing implications. Add aria-live regions for form validation errors.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-580",
      "feature": "Invites API",
      "category": "API-invites-api",
      "title": "No Explicit Retry Mechanism for Server Errors",
      "severity": "low",
      "location": "Section 4 - Error States",
      "issue": "Error States shows \"500 Server error | Unexpected failure | Internal server error | Retry\" as recovery path, but the documentation doesn't describe an explicit retry mechanism in the UI. Users experiencing server errors must manually attempt the operation again with no guided recovery.",
      "suggested_fix": "Add retry button in error toast notifications or implement automatic retry with exponential backoff for transient failures.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add retry button in error toast notifications or implement automatic retry with exponential backoff for transient failures.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-581",
      "feature": "Password Reset",
      "category": "AUTH-password-reset",
      "title": "Existing Sessions Not Invalidated on Password Reset",
      "severity": "high",
      "location": "Section 10 - Open Questions #2",
      "issue": "Open Question #2 states: \"Are existing sessions invalidated on password reset? Code does not explicitly invalidate other sessions. Supabase may handle this, but behavior is not verified.\" If a user resets their password due to account compromise, active attacker sessions may remain valid, defeating the security purpose of the password reset.",
      "suggested_fix": "Verify Supabase behavior regarding session invalidation on password change. If sessions persist, implement explicit invalidation of all other sessions when password is reset using Supabase session management APIs.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "ticketed",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Verify Supabase behavior regarding session invalidation on password change. If sessions persist, implement explicit invalidation of all other sessions when password is reset using Supabase session management APIs.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-582",
      "feature": "Password Reset",
      "category": "AUTH-password-reset",
      "title": "No Password Visibility Toggle",
      "severity": "medium",
      "location": "Section 7 - Identified Issues",
      "issue": "Section 7 states: \"No confirmation for password visibility | User can't verify what they typed | üü° Medium\". Users must enter their new password twice without any ability to see what they've typed, increasing error rates and frustration, especially on mobile devices.",
      "suggested_fix": "Add show/hide password toggle button (eye icon) to both password input fields to let users verify their input before submission.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add show/hide password toggle button (eye icon) to both password input fields to let users verify their input before submission.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-583",
      "feature": "Password Reset",
      "category": "AUTH-password-reset",
      "title": "Weak Password Requirements",
      "severity": "medium",
      "location": "Section 10 - Open Questions #5; Section 6 - Security",
      "issue": "Open Question #5 asks: \"Should password requirements be stricter? Currently only 8 character minimum. No requirements for uppercase, numbers, or special characters.\" Modern security standards recommend complexity requirements to prevent weak passwords that are easily guessed or cracked.",
      "suggested_fix": "Implement password complexity requirements (e.g., at least one uppercase, one lowercase, one number, one special character) or adopt a password strength scoring system. Add real-time password strength indicator to guide users.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Implement password complexity requirements (e.g., at least one uppercase, one lowercase, one number, one special character) or adopt a password strength scoring system. Add real-time password strength indicator to guide users.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-584",
      "feature": "Password Reset",
      "category": "AUTH-password-reset",
      "title": "No Client-Side Debounce on Email Submit",
      "severity": "low",
      "location": "Section 7 - Identified Issues; Section 4 - Edge Case #6",
      "issue": "Section 7 states: \"No client-side debounce on email submit | Multiple emails possible | üü¢ Low\". Edge Case #6 confirms: \"Multiple reset requests in sequence | Click 'Send' multiple times | Supabase sends multiple emails | ‚ö†Ô∏è | No client-side debounce\". Users may receive multiple reset emails, causing confusion about which link to use.",
      "suggested_fix": "Add debounce or disable the submit button after first click until response is received. Show loading state to indicate request is in progress.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add debounce or disable the submit button after first click until response is received. Show loading state to indicate request is in progress.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-585",
      "feature": "Password Reset",
      "category": "AUTH-password-reset",
      "title": "Accessibility: No aria-live Regions for Error Announcements",
      "severity": "medium",
      "location": "Section 5 - Accessibility",
      "issue": "Documentation states: \"Error announcements: ‚ö†Ô∏è Errors shown visually but no aria-live regions\". Screen reader users will not hear error messages (password mismatch, password too short, link expired) when they occur, violating WCAG 2.1 accessibility guidelines.",
      "suggested_fix": "Wrap error message containers with aria-live=\"polite\" or aria-live=\"assertive\" attributes so screen readers announce errors as they appear.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Wrap error message containers with aria-live=\"polite\" or aria-live=\"assertive\" attributes so screen readers announce errors as they appear.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-586",
      "feature": "Password Reset",
      "category": "AUTH-password-reset",
      "title": "Accessibility: No Focus Trap in Modal-Like Card",
      "severity": "low",
      "location": "Section 5 - Accessibility",
      "issue": "Documentation states: \"Focus management: ‚ö†Ô∏è No focus trap in modal-like card\". The password reset form appears in a centered card that visually resembles a modal, but keyboard users can tab outside the form area to page elements behind it, causing confusion.",
      "suggested_fix": "Implement focus management to keep keyboard focus within the form card during the reset flow, or ensure the card styling doesn't imply modal behavior if focus trapping isn't intended.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Implement focus management to keep keyboard focus within the form card during the reset flow, or ensure the card styling doesn't imply modal behavior if focus trapping isn't intended.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-587",
      "feature": "Password Reset",
      "category": "AUTH-password-reset",
      "title": "Accessibility: Color Contrast Not Verified",
      "severity": "low",
      "location": "Section 5 - Accessibility",
      "issue": "Documentation states: \"Color contrast: ‚ö†Ô∏è Not verified (uses theme colors)\". The form may not meet WCAG AA contrast ratio requirements (4.5:1 for normal text, 3:1 for large text), making it difficult for users with visual impairments to read.",
      "suggested_fix": "Audit all text elements on forgot-password and reset-password pages for WCAG AA compliance. Verify button colors, input borders, and error messages meet contrast requirements.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Audit all text elements on forgot-password and reset-password pages for WCAG AA compliance. Verify button colors, input borders, and error messages meet contrast requirements.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-588",
      "feature": "Password Reset",
      "category": "AUTH-password-reset",
      "title": "Back Navigation After Success Shows Stale State",
      "severity": "low",
      "location": "Section 7 - Identified Issues; Section 4 - Edge Case #13; Section 6 - Reliability",
      "issue": "Section 7 states: \"Back navigation after success shows stale state | Confusion if user hits back | üü¢ Low\". Section 6 confirms: \"Browser back button | No special handling (may cause confusion)\". If user clicks browser back button after successful password reset, they may see the password form again with potential for confusion or resubmission attempts.",
      "suggested_fix": "Use router.replace() or history.replaceState() after successful password update to prevent back navigation to the reset form. Alternatively, redirect users to login page if they navigate back after success.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Use router.replace() or history.replaceState() after successful password update to prevent back navigation to the reset form. Alternatively, redirect users to login page if they navigate back after success.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-589",
      "feature": "Password Reset",
      "category": "AUTH-password-reset",
      "title": "Token Expiration Time Not Verified",
      "severity": "low",
      "location": "Section 10 - Open Questions #1; Section 4 - Edge Case #3",
      "issue": "Open Question #1 states: \"What is the exact token expiration time? Supabase default is 1 hour, but this may be configurable in Supabase dashboard. Not exposed in code.\" The actual token lifetime is undocumented and could differ from the assumed 1 hour, affecting user experience if links expire sooner than expected.",
      "suggested_fix": "Document the configured token expiration in Supabase dashboard. Consider displaying expected link validity period in the \"Check your email\" confirmation message (e.g., \"Link expires in 1 hour\").",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Document the configured token expiration in Supabase dashboard. Consider displaying expected link validity period in the \"Check your email\" confirmation message (e.g., \"Link expires in 1 hour\").",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-590",
      "feature": "Password Reset",
      "category": "AUTH-password-reset",
      "title": "Rate Limiting Configuration Not Documented",
      "severity": "low",
      "location": "Section 10 - Open Questions #3",
      "issue": "Open Question #3 states: \"Is there rate limiting on forgot-password requests? Supabase has built-in rate limiting, but the specific limits are not documented in this codebase.\" Without knowing rate limits, support cannot troubleshoot \"too many requests\" errors, and security team cannot assess abuse protection adequacy.",
      "suggested_fix": "Document Supabase's rate limiting configuration for password reset requests. Add user-facing error handling if rate limit is exceeded, with message like \"Too many requests. Please try again in X minutes.\"",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Document Supabase's rate limiting configuration for password reset requests. Add user-facing error handling if rate limit is exceeded, with message like \"Too many requests. Please try again in X minutes.\"",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-591",
      "feature": "Password Reset",
      "category": "AUTH-password-reset",
      "title": "2-Second Validation Timeout May Feel Slow",
      "severity": "low",
      "location": "Section 7 - Identified Issues; Section 3 - Triggers & Events",
      "issue": "Section 7 states: \"2s timeout may feel slow | User waits for 'Link Expired' | üü¢ Low\". When clicking a valid reset link, users wait up to 2 seconds for the password form to appear. If the link is invalid, users wait the full 2 seconds before seeing an error.",
      "suggested_fix": "Reduce timeout to 1-1.5 seconds or implement progressive disclosure (show spinner immediately, update message at 1s if still waiting). Consider optimistic UI for valid token detection.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Reduce timeout to 1-1.5 seconds or implement progressive disclosure (show spinner immediately, update message at 1s if still waiting). Consider optimistic UI for valid token detection.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-592",
      "feature": "Password Reset",
      "category": "AUTH-password-reset",
      "title": "Reset Link Reuse Behavior Unclear",
      "severity": "medium",
      "location": "Section 4 - Edge Case #4",
      "issue": "Edge Case #4 states: \"Reset link clicked twice | Second click after password changed | Shows form if session valid, or error | ‚ö†Ô∏è | Depends on Supabase session state\". The behavior is marked with ‚ö†Ô∏è and documented as uncertain. Users who click their reset link after already resetting may see the form again (potentially allowing multiple password changes) or get a confusing error.",
      "suggested_fix": "Verify and document exact behavior when reset link is reused. If session remains valid after password change, consider explicitly invalidating the reset token or showing a \"Password already changed\" message with redirect to login.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Verify and document exact behavior when reset link is reused. If session remains valid after password change, consider explicitly invalidating the reset token or showing a \"Password already changed\" message with redirect to login.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-593",
      "feature": "Visitor Call (Call Initiation & Active Call)",
      "category": "V-visitor-call",
      "title": "No Explicit Double-Click Protection",
      "severity": "medium",
      "location": "Section 4 - Edge Cases #4; Section 7 - Identified Issues; Section 10 - Open Questions #1",
      "issue": "Documentation explicitly flags that there is \"No explicit debounce\" for camera/mic button clicks (Edge Case #4 marked with ‚ö†Ô∏è‚ùì). Open Question #1 asks \"Is there implicit protection via state checking, or could rapid clicks cause issues?\" Referenced as Q-1202-001. Rapid double-clicks could potentially send duplicate `call:request` events before state transitions to `waiting_for_agent`.",
      "suggested_fix": "Add debounce (e.g., 500ms) to `handleCameraToggle` and `handleMicToggle` functions, or verify state transition prevents duplicate requests.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add debounce (e.g., 500ms) to `handleCameraToggle` and `handleMicToggle` functions, or verify state transition prevents duplicate requests.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-594",
      "feature": "Visitor Call (Call Initiation & Active Call)",
      "category": "V-visitor-call",
      "title": "Network Drop Mid-Call Behavior Ambiguous",
      "severity": "medium",
      "location": "Section 4 - Edge Cases #15",
      "issue": "Edge Case #15 states \"Network drops mid-call ‚Üí WebRTC: 'disconnected' state\" with behavior marked as ‚ö†Ô∏è \"May recover or fail\". This is vague and doesn't explain: (a) how long before recovery is attempted, (b) what user feedback is shown during disconnection, (c) when the system gives up and transitions to error state, (d) whether visitor or agent is notified of temporary disconnection.",
      "suggested_fix": "Document specific recovery behavior: timeout duration, UI feedback during disconnection (e.g., \"Reconnecting...\" indicator), and failure threshold before ending call.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Document specific recovery behavior: timeout duration, UI feedback during disconnection (e.g., \"Reconnecting...\" indicator), and failure threshold before ending call.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-595",
      "feature": "Visitor Call (Call Initiation & Active Call)",
      "category": "V-visitor-call",
      "title": "Color Contrast Accessibility Relies on External Theme",
      "severity": "low",
      "location": "Section 5 - Accessibility",
      "issue": "Accessibility section marks color contrast with ‚ö†Ô∏è and states \"Relies on theme (dark/light/liquid-glass)\". This means WCAG color contrast compliance is not guaranteed - it depends entirely on which theme the visitor's site has configured. Themes may not have been tested for accessibility compliance.",
      "suggested_fix": "Ensure all theme variants (dark, light, liquid-glass) are tested and validated for WCAG 2.1 AA minimum contrast ratio (4.5:1 for normal text, 3:1 for large text).",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Ensure all theme variants (dark, light, liquid-glass) are tested and validated for WCAG 2.1 AA minimum contrast ratio (4.5:1 for normal text, 3:1 for large text).",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-596",
      "feature": "Visitor Call (Call Initiation & Active Call)",
      "category": "V-visitor-call",
      "title": "Synchronous LocalStorage Operations on Every Call",
      "severity": "low",
      "location": "Section 6 - Technical Concerns - Performance",
      "issue": "Documentation notes ‚ö†Ô∏è \"LocalStorage operations on every call (small but synchronous)\". While flagged as minor, synchronous localStorage calls on the main thread can cause jank, especially on slower devices or when localStorage is large. This affects the call initiation critical path.",
      "suggested_fix": "Consider using async storage wrapper or web worker for localStorage operations, or batch writes to reduce frequency.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Consider using async storage wrapper or web worker for localStorage operations, or batch writes to reduce frequency.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-597",
      "feature": "Visitor Call (Call Initiation & Active Call)",
      "category": "V-visitor-call",
      "title": "Reconnect Token Stored in LocalStorage",
      "severity": "low",
      "location": "Section 7 - Identified Issues",
      "issue": "Identified Issues table notes \"Reconnect token exposed in localStorage\" as a \"Theoretical security concern\" with üü¢ severity, mitigated by 5-minute expiry. While the mitigation is noted, any script with access to localStorage (XSS, third-party scripts) could steal the token during its validity window and potentially hijack the call reconnection.",
      "suggested_fix": "Current 5-min expiry is reasonable mitigation. Consider documenting this in security review notes. Could also consider sessionStorage (cleared on tab close) if cross-tab reconnection isn't needed.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Current 5-min expiry is reasonable mitigation. Consider documenting this in security review notes. Could also consider sessionStorage (cleared on tab close) if cross-tab reconnection isn't needed.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-598",
      "feature": "Visitor Call (Call Initiation & Active Call)",
      "category": "V-visitor-call",
      "title": "RNA Timeout vs Total Waiting Timeout Distinction Unclear",
      "severity": "medium",
      "location": "Section 3 - Data Flow; Section 4 - Edge Cases #5, #10",
      "issue": "Documentation mentions two different timeouts that could be confused: (1) RNA timeout of \"15s default\" (Data Flow Step 1, Edge Case #5) which is per-agent ring time, and (2) \"45s timeout waiting\" (Edge Case #10, State Definitions) which is the total visitor wait time before showing \"Taking longer than usual\" UI. The relationship between these isn't explicitly explained. If there are 3 agents, does visitor potentially wait 45s (3x15s) before the 45s UI timeout even kicks in?",
      "suggested_fix": "Add explicit documentation clarifying: \"RNA timeout (15s) applies per-agent. 45s total timeout triggers 'Taking longer' UI regardless of agent cycling. Total call request timeout is [X]s after which request is abandoned.\"",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add explicit documentation clarifying: \"RNA timeout (15s) applies per-agent. 45s total timeout triggers 'Taking longer' UI regardless of agent cycling. Total call request timeout is [X]s after which request is abandoned.\"",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-599",
      "feature": "Visitor Call (Call Initiation & Active Call)",
      "category": "V-visitor-call",
      "title": "WebRTC Browser Support Check Not Documented",
      "severity": "medium",
      "location": "Section 4 - Edge Cases; Section 2 - Error States",
      "issue": "Error States table documents camera/mic permission errors and connection failures, but doesn't mention what happens if the visitor's browser doesn't support WebRTC (e.g., very old browsers, some in-app browsers). No Edge Case row addresses \"Browser doesn't support WebRTC/getUserMedia\".",
      "suggested_fix": "Add Edge Case row: \"Browser lacks WebRTC support ‚Üí Check RTCPeerConnection/getUserMedia existence ‚Üí Show error: 'Your browser doesn't support video calls. Please use Chrome, Firefox, Safari, or Edge.'\"",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add Edge Case row: \"Browser lacks WebRTC support ‚Üí Check RTCPeerConnection/getUserMedia existence ‚Üí Show error: 'Your browser doesn't support video calls. Please use Chrome, Firefox, Safari, or Edge.'\"",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-600",
      "feature": "Visitor Call (Call Initiation & Active Call)",
      "category": "V-visitor-call",
      "title": "Agent Rejection Invisible to Visitor - Intentional but Undocumented Rationale",
      "severity": "low",
      "location": "Section 3 - Triggers & Events; Section 4 - Edge Cases #7",
      "issue": "When an agent rejects a call, Edge Case #7 states \"Routes to next agent silently\" and \"Visitor unaware\". The Events table confirms visitor \"keeps waiting\" during rejection. While this may be intentional UX (to avoid visitor anxiety), the rationale isn't documented. Visitors may wonder why connection is taking long when agents are actively rejecting.",
      "suggested_fix": "Document the UX rationale: \"Agent rejections are silent to avoid visitor anxiety. Visitor sees continuous 'Connecting...' until an agent accepts or all agents are exhausted.\" Consider if there should be any subtle indicator after extended wait times.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Document the UX rationale: \"Agent rejections are silent to avoid visitor anxiety. Visitor sees continuous 'Connecting...' until an agent accepts or all agents are exhausted.\" Consider if there should be any subtle indicator after extended wait times.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-601",
      "feature": "Visitor Call (Call Initiation & Active Call)",
      "category": "V-visitor-call",
      "title": "State Guard for Duplicate Call Initiation Not Explicit",
      "severity": "low",
      "location": "Section 2 - State Machine",
      "issue": "The state machine shows `open --> waiting_for_agent: Click camera/mic (media granted)`. However, there's no explicit transition or guard documented for what happens if user clicks camera/mic while already in `waiting_for_agent` state. Is it ignored? Does it cause issues? This relates to Finding #1 but is distinct - it's about state-based guards, not timing-based debounce.",
      "suggested_fix": "Add explicit note: \"Camera/mic clicks while in waiting_for_agent state are ignored (state check prevents re-initiation).\" Or add transition: \"waiting_for_agent --> waiting_for_agent: Click camera/mic [ignored]\".",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add explicit note: \"Camera/mic clicks while in waiting_for_agent state are ignored (state check prevents re-initiation).\" Or add transition: \"waiting_for_agent --> waiting_for_agent: Click camera/mic [ignored]\".",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-602",
      "feature": "Visitor Call (Call Initiation & Active Call)",
      "category": "V-visitor-call",
      "title": "Open Question Q-1202-001 Remains Unresolved",
      "severity": "medium",
      "location": "Section 10 - Open Questions #1; Referenced throughout document",
      "issue": "The document references \"Q-1202-001\" multiple times (Edge Case #4, Section 7, Section 10) regarding double-click protection, but this question remains open/unresolved. It's unclear if this question ID is tracked in a separate system or if it's just a documentation placeholder. The issue has been identified but not resolved.",
      "suggested_fix": "Either resolve the open question with investigation results, or create a formal ticket to investigate and implement double-click protection.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Either resolve the open question with investigation results, or create a formal ticket to investigate and implement double-click protection.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-603",
      "feature": "Agent Stats",
      "category": "STATS-agent-stats",
      "title": "No Pagination for Large Datasets",
      "severity": "medium",
      "location": "Section 4 - Edge Cases #8; Section 6 - Performance; Section 7 - Identified Issues",
      "issue": "Multiple sections flag this concern: Edge Case #8 marks \"Large date range (1+ year)\" with ‚ö†Ô∏è warning noting \"All data loaded, no pagination\" and \"May be slow for high-volume agents\". Section 6 Performance explicitly states \"Large dataset queries | No pagination, fetches all calls in range | ‚ö†Ô∏è May be slow for >1000 calls\". Section 7 Identified Issues confirms \"Large date ranges slow | Performance degrades with >1000 calls | üü° Medium\". Without pagination, high-volume agents stats pages will degrade significantly.",
      "suggested_fix": "Implement server-side pagination or cursor-based fetching for call_logs and agent_sessions. Alternatively, enforce maximum date range (e.g., 90 days) with warning for longer ranges.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Implement server-side pagination or cursor-based fetching for call_logs and agent_sessions. Alternatively, enforce maximum date range (e.g., 90 days) with warning for longer ranges.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-604",
      "feature": "Agent Stats",
      "category": "STATS-agent-stats",
      "title": "Keyboard Navigation Not Verified",
      "severity": "medium",
      "location": "Section 5 - UI/UX Review - Accessibility",
      "issue": "Accessibility audit explicitly states \"Keyboard navigation: ‚ö†Ô∏è Not verified\". The agent stats page contains multiple interactive elements (tabs, date picker, presets, disposition breakdown) that should be keyboard-accessible. Without verification, keyboard-only users may be unable to navigate effectively.",
      "suggested_fix": "Conduct keyboard accessibility audit. Verify Tab order is logical, all interactive elements have visible focus indicators, and Enter/Space activates buttons and tabs correctly.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Conduct keyboard accessibility audit. Verify Tab order is logical, all interactive elements have visible focus indicators, and Enter/Space activates buttons and tabs correctly.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-605",
      "feature": "Agent Stats",
      "category": "STATS-agent-stats",
      "title": "Screen Reader Support Not Verified",
      "severity": "medium",
      "location": "Section 5 - UI/UX Review - Accessibility",
      "issue": "Accessibility audit states \"Screen reader support: ‚ö†Ô∏è Not verified\". The page is data-dense with stat cards, percentage displays, and visual elements (disposition breakdown bars) that require proper ARIA labels for screen reader users to understand the content.",
      "suggested_fix": "Add ARIA labels to stat cards (e.g., aria-label=\"Answer Rate: 85%\"). Ensure tab panels have proper role=\"tabpanel\" and aria-labelledby attributes. Add accessible descriptions to visual charts.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add ARIA labels to stat cards (e.g., aria-label=\"Answer Rate: 85%\"). Ensure tab panels have proper role=\"tabpanel\" and aria-labelledby attributes. Add accessible descriptions to visual charts.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-606",
      "feature": "Agent Stats",
      "category": "STATS-agent-stats",
      "title": "No Loading Indicator During Date Range Change",
      "severity": "low",
      "location": "Section 5 - Accessibility; Section 7 - First Principles Review; Section 7 - Identified Issues",
      "issue": "Multiple sections flag this: Section 5 notes \"Loading states: ‚ö†Ô∏è No explicit loading spinner during date change\". Section 7 First Principles asks \"Is feedback immediate?\" and answers \"‚ö†Ô∏è Mostly - No loading indicator during date change\". Identified Issues confirms \"No loading state on date change | User may think click did not register | üü¢ Low\". When admin changes date range, there is no visual feedback during the fetch, causing confusion about whether the action registered.",
      "suggested_fix": "Add loading spinner or skeleton UI during date range change refetch. Even a brief visual indicator provides important feedback.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add loading spinner or skeleton UI during date range change refetch. Even a brief visual indicator provides important feedback.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-607",
      "feature": "Agent Stats",
      "category": "STATS-agent-stats",
      "title": "No Export Functionality for Agent Stats",
      "severity": "low",
      "location": "Section 7 - Identified Issues",
      "issue": "Section 7 explicitly lists \"No export functionality | Cannot download data for external analysis | üü¢ Low\". Admins viewing agent performance cannot export the data for use in spreadsheets, reports, or external analysis tools.",
      "suggested_fix": "Add CSV export button that exports visible stats and optionally the underlying call logs for the selected date range.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add CSV export button that exports visible stats and optionally the underlying call logs for the selected date range.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-608",
      "feature": "Agent Stats",
      "category": "STATS-agent-stats",
      "title": "No Agent Comparison View",
      "severity": "low",
      "location": "Section 7 - Identified Issues",
      "issue": "Section 7 lists \"No comparison view | Cannot compare agents side-by-side | üü¢ Low\". Admins who want to compare two agents performance must manually navigate between individual agent pages and remember values. This makes identifying top performers or spotting outliers tedious.",
      "suggested_fix": "Add multi-select capability on agents list to compare 2-4 agents side-by-side, or provide a summary table view with sortable columns.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add multi-select capability on agents list to compare 2-4 agents side-by-side, or provide a summary table view with sortable columns.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-609",
      "feature": "Agent Stats",
      "category": "STATS-agent-stats",
      "title": "Stats Caching Strategy Undefined",
      "severity": "low",
      "location": "Section 10 - Open Questions #1",
      "issue": "Open Question #1 explicitly asks \"Should stats be cached? Currently all queries hit DB fresh on each page load. Consider caching for performance.\" Every page load and date range change performs fresh database queries. For frequently accessed agent stats, this creates unnecessary database load and slower response times.",
      "suggested_fix": "Implement query-level caching with reasonable TTL (e.g., 5 minutes). Consider cache invalidation on new call_log or session entries for that agent.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Implement query-level caching with reasonable TTL (e.g., 5 minutes). Consider cache invalidation on new call_log or session entries for that agent.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-610",
      "feature": "Agent Stats",
      "category": "STATS-agent-stats",
      "title": "Maximum Date Range Not Defined",
      "severity": "medium",
      "location": "Section 10 - Open Questions #2; Section 4 - Edge Cases #8",
      "issue": "Open Question #2 asks \"Whats the max supported date range? No explicit limit - very long ranges may timeout.\" Edge Case #8 confirms concern about \"1+ year\" ranges. Without an enforced limit, users could select multi-year date ranges that cause database timeouts or browser performance issues.",
      "suggested_fix": "Either enforce a maximum date range (e.g., 365 days) with clear error message, or implement pagination that gracefully handles any date range.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Either enforce a maximum date range (e.g., 365 days) with clear error message, or implement pagination that gracefully handles any date range.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-611",
      "feature": "Agent Stats",
      "category": "STATS-agent-stats",
      "title": "Utilization Metric Definition Ambiguous",
      "severity": "low",
      "location": "Section 10 - Open Questions #3; Section 3 - Activity Metrics",
      "issue": "Open Question #3 asks \"Should utilization include away time? Current calculation excludes away time - is this the right definition?\" Section 3 shows utilizationPercentage = (in_call_seconds / activeSeconds) * 100 where activeSeconds = idle + in_call (excluding away). Different stakeholders may expect different definitions of \"utilization\", causing confusion when interpreting the metric.",
      "suggested_fix": "Add tooltip or info icon explaining exactly how utilization is calculated. Document that away time is intentionally excluded. Consider adding secondary metric showing utilization including away time.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add tooltip or info icon explaining exactly how utilization is calculated. Document that away time is intentionally excluded. Consider adding secondary metric showing utilization including away time.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-612",
      "feature": "Agent Stats",
      "category": "STATS-agent-stats",
      "title": "No Real-Time Stats Updates",
      "severity": "low",
      "location": "Section 10 - Open Questions #4",
      "issue": "Open Question #4 asks \"Are there plans for real-time stats? Current implementation requires page refresh.\" Stats are fetched once on page load and only update on date range change or full page refresh. Admins monitoring agent performance during peak hours see stale data.",
      "suggested_fix": "Document this as intended behavior for now. Consider adding auto-refresh option (every 5 minutes) for admins who want to monitor in real-time. WebSocket updates likely overkill for this use case.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Document this as intended behavior for now. Consider adding auto-refresh option (every 5 minutes) for admins who want to monitor in real-time. WebSocket updates likely overkill for this use case.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-613",
      "feature": "Agent Stats",
      "category": "STATS-agent-stats",
      "title": "Deleted Agent Historical Stats Inaccessible",
      "severity": "medium",
      "location": "Section 10 - Open Questions #5; Section 4 - Edge Cases #7",
      "issue": "Open Question #5 asks \"Should deleted agents retain historical stats? Currently, stats page 404s for deleted agents.\" Edge Case #7 confirms \"Stats for deleted/deactivated agent | Agent soft-deleted | Page returns 404 (notFound)\". When an agent is removed, admins lose access to all their historical performance data, which may be needed for reporting or auditing purposes.",
      "suggested_fix": "Allow viewing historical stats for deactivated agents with clear visual indicator that agent is no longer active. Consider archival report export before agent deletion.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Allow viewing historical stats for deactivated agents with clear visual indicator that agent is no longer active. Consider archival report export before agent deletion.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-614",
      "feature": "Agent Stats",
      "category": "STATS-agent-stats",
      "title": "Ongoing Calls May Temporarily Inflate Answer Rate",
      "severity": "low",
      "location": "Section 3 - Metric Definitions",
      "issue": "The Total Answers metric is defined as status = \"accepted\" OR \"completed\" with note \"Includes ongoing calls\". This means while a call is in progress (accepted but not completed), it counts toward the answer rate. If an agent has one ongoing call and zero completed calls, their answer rate could show 100% even though no calls have been completed. This is technically correct but may mislead admins viewing stats during active periods.",
      "suggested_fix": "Consider adding \"(includes X active)\" annotation when displaying stats during periods with ongoing calls, or add separate metric for completed calls only.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Consider adding \"(includes X active)\" annotation when displaying stats during periods with ongoing calls, or add separate metric for completed calls only.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-615",
      "feature": "Agent Stats",
      "category": "STATS-agent-stats",
      "title": "Back Navigation After Success Shows Stale State",
      "severity": "low",
      "location": "Section 7 - Identified Issues; Section 4 - Edge Case #13; Section 6 - Reliability",
      "issue": "Section 7 states: \"Back navigation after success shows stale state | Confusion if user hits back | üü¢ Low\". Section 6 confirms: \"Browser back button | No special handling (may cause confusion)\". If user clicks browser back button after successful password reset, they may see the password form again with potential for confusion.",
      "suggested_fix": "Use router.replace() or history.replaceState() after successful password update to prevent back navigation to the reset form. Alternatively, redirect users to login page if they navigate back after success.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Use router.replace() or history.replaceState() after successful password update to prevent back navigation to the reset form. Alternatively, redirect users to login page if they navigate back after success.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-616",
      "feature": "Agent Stats",
      "category": "STATS-agent-stats",
      "title": "Token Expiration Time Not Verified",
      "severity": "low",
      "location": "Section 10 - Open Questions #1; Section 4 - Edge Case #3",
      "issue": "Open Question #1 states: \"What is the exact token expiration time? Supabase default is 1 hour, but this may be configurable in Supabase dashboard. Not exposed in code.\" The actual token lifetime is undocumented and could differ from the assumed 1 hour.",
      "suggested_fix": "Document the configured token expiration in Supabase dashboard. Consider displaying expected link validity period in the Check your email confirmation message (e.g., Link expires in 1 hour).",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Document the configured token expiration in Supabase dashboard. Consider displaying expected link validity period in the Check your email confirmation message (e.g., Link expires in 1 hour).",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-617",
      "feature": "Agent Stats",
      "category": "STATS-agent-stats",
      "title": "Rate Limiting Configuration Not Documented",
      "severity": "low",
      "location": "Section 10 - Open Questions #3",
      "issue": "Open Question #3 states: \"Is there rate limiting on forgot-password requests? Supabase has built-in rate limiting, but the specific limits are not documented in this codebase.\" Without knowing rate limits, support cannot troubleshoot too many requests errors.",
      "suggested_fix": "Document Supabase rate limiting configuration for password reset requests. Add user-facing error handling if rate limit is exceeded.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Document Supabase rate limiting configuration for password reset requests. Add user-facing error handling if rate limit is exceeded.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-618",
      "feature": "Video Recordings",
      "category": "A-video-recordings",
      "title": "Upload Failure Causes Permanent Recording Loss",
      "severity": "medium",
      "location": "Section 4 - Edge Cases #4; Section 6 - Reliability; Section 7 - Identified Issues",
      "issue": "Edge Case #4 states \"Upload fails | Network error | Error logged, recording lost ‚ö†Ô∏è | No retry mechanism\" and Section 7 confirms \"No upload retry | Lost recordings | üü° Medium\". When a network error occurs during upload, the recording is permanently lost with no automatic retry mechanism.",
      "suggested_fix": "Implement retry logic with exponential backoff (e.g., 3 attempts with 1s, 2s, 4s delays). Consider persisting chunks to IndexedDB before upload attempt.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Implement retry logic with exponential backoff (e.g., 3 attempts with 1s, 2s, 4s delays). Consider persisting chunks to IndexedDB before upload attempt.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-619",
      "feature": "Video Recordings",
      "category": "A-video-recordings",
      "title": "Page Refresh During Call Loses Recording Data",
      "severity": "medium",
      "location": "Section 4 - Edge Cases #9; Section 6 - Reliability; Section 7 - Identified Issues",
      "issue": "Edge Case #9 states \"Agent refreshes during call | Page refresh | Recording data lost ‚ö†Ô∏è | In-memory chunks lost\" and Section 6 Reliability confirms \"Recording data loss | In-memory until upload (no mitigation)\". Recording chunks are stored in memory and are lost if the agent refreshes or navigates away.",
      "suggested_fix": "Consider IndexedDB buffering to persist chunks during recording. Add beforeunload warning if recording is in progress.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Consider IndexedDB buffering to persist chunks during recording. Add beforeunload warning if recording is in progress.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-620",
      "feature": "Video Recordings",
      "category": "A-video-recordings",
      "title": "No Chunked Upload for Long Calls",
      "severity": "medium",
      "location": "Section 4 - Edge Cases #8; Section 6 - Performance; Section 7 - Identified Issues",
      "issue": "Edge Case #8 states \"Very long call | Hours-long call | Large file, slow upload ‚ö†Ô∏è | No chunked upload\" and Section 7 confirms \"No chunked upload | Fails for long calls | üü° Medium\". Single-file upload may timeout or fail for lengthy recordings.",
      "suggested_fix": "Implement resumable uploads using Supabase resumable upload API or chunked upload pattern. Consider splitting recordings into segments for very long calls.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Implement resumable uploads using Supabase resumable upload API or chunked upload pattern. Consider splitting recordings into segments for very long calls.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-621",
      "feature": "Video Recordings",
      "category": "A-video-recordings",
      "title": "Visitor Not Notified of Recording",
      "severity": "high",
      "location": "Section 10 - Open Questions #3; Section 6 - Security (Privacy consent)",
      "issue": "Open Question #3 asks \"Should visitors be notified they're being recorded? Currently no in-widget indicator.\" While Section 6 Security mentions \"Privacy warning shown in admin settings\", there is no indication to the actual visitor being recorded. This is a privacy compliance concern (GDPR, CCPA, state recording laws).",
      "suggested_fix": "Add visible recording indicator in widget UI (red dot or \"Recording\" badge). Consider audio announcement at call start for two-party consent jurisdictions.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "ticketed",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add visible recording indicator in widget UI (red dot or \"Recording\" badge). Consider audio announcement at call start for two-party consent jurisdictions.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-622",
      "feature": "Video Recordings",
      "category": "A-video-recordings",
      "title": "Deleted Recording Shows No User Feedback",
      "severity": "medium",
      "location": "Section 4 - Edge Cases #15; Section 4 - Error States (PLAYBACK_404)",
      "issue": "Edge Case #15 states \"Recording deleted from storage | Retention policy | 404 on playback ‚ö†Ô∏è | No UI indication\" and Error States shows \"PLAYBACK_404 | Recording deleted/missing | Video fails to load | Recording is gone\". Users see a failed video player with no explanation.",
      "suggested_fix": "Add error state UI in video modal: \"This recording is no longer available (expired or deleted)\". Check recording existence before attempting playback.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add error state UI in video modal: \"This recording is no longer available (expired or deleted)\". Check recording existence before attempting playback.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-623",
      "feature": "Video Recordings",
      "category": "A-video-recordings",
      "title": "Storage Quota Handling Missing",
      "severity": "medium",
      "location": "Section 10 - Open Questions #2",
      "issue": "Open Question #2 states \"What happens when storage quota exceeded? No handling for Supabase storage limits.\" If organization exceeds storage quota, recording uploads will fail silently with no proactive warning to admins.",
      "suggested_fix": "Monitor storage usage and warn admins when approaching quota. Gracefully handle quota exceeded errors with user-friendly messaging.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Monitor storage usage and warn admins when approaching quota. Gracefully handle quota exceeded errors with user-friendly messaging.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-624",
      "feature": "Video Recordings",
      "category": "A-video-recordings",
      "title": "GDPR Right to Deletion Not Fully Implemented",
      "severity": "medium",
      "location": "Section 10 - Open Questions #6",
      "issue": "Open Question #6 states \"What about GDPR right to deletion? Retention policy exists but no per-recording delete UI.\" Admins cannot delete individual recordings on request; they must wait for retention policy to expire.",
      "suggested_fix": "Add delete button on recording rows for admins. Implement soft-delete with audit trail for compliance. Consider \"Delete all recordings for visitor X\" functionality.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add delete button on recording rows for admins. Implement soft-delete with audit trail for compliance. Consider \"Delete all recordings for visitor X\" functionality.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-625",
      "feature": "Video Recordings",
      "category": "A-video-recordings",
      "title": "Modal Escape Key Not Implemented",
      "severity": "low",
      "location": "Section 5 - Accessibility; Section 7 - Identified Issues",
      "issue": "Accessibility section states \"Keyboard navigation: ‚ö†Ô∏è Modal close via Escape not implemented\" and Section 7 confirms \"No keyboard close | Accessibility | üü¢ Low\". Users relying on keyboard navigation cannot close the video modal without mouse.",
      "suggested_fix": "Add Escape key handler to close video modal. Ensure focus trap and focus return to trigger button on close.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add Escape key handler to close video modal. Ensure focus trap and focus return to trigger button on close.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-626",
      "feature": "Video Recordings",
      "category": "A-video-recordings",
      "title": "No Transcription Retry UI",
      "severity": "low",
      "location": "Section 4 - Error States; Section 7 - Identified Issues",
      "issue": "Error States shows \"TRANSCRIPTION_FAILED | Deepgram API error | 'Failed' badge in table | Admin can retry via API\" and Section 7 confirms \"No transcription retry UI | Admin friction | üü¢ Low\". Admins must use API directly to retry failed transcriptions.",
      "suggested_fix": "Add \"Retry Transcription\" button on rows with failed transcription status.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add \"Retry Transcription\" button on rows with failed transcription status.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-627",
      "feature": "Video Recordings",
      "category": "A-video-recordings",
      "title": "No Estimated Processing Time Shown",
      "severity": "low",
      "location": "Section 7 - First Principles Review; Section 7 - Identified Issues",
      "issue": "First Principles Review states \"Is feedback immediate? ‚ö†Ô∏è Mostly - Transcription status shown, but processing time not estimated\" and Section 7 confirms \"No estimated processing time | User confusion | üü¢ Low\". Users don't know how long to wait for transcription/summary to complete.",
      "suggested_fix": "Show estimated processing time based on call duration (e.g., \"Processing ~2 minutes\" for a 5-minute call).",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Show estimated processing time based on call duration (e.g., \"Processing ~2 minutes\" for a 5-minute call).",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-628",
      "feature": "Video Recordings",
      "category": "A-video-recordings",
      "title": "State Diagram Missing Error States",
      "severity": "low",
      "location": "Section 2 - State Machine",
      "issue": "The state machine diagram shows linear progression from RECORDING ‚Üí UPLOADING ‚Üí PROCESSING ‚Üí COMPLETE but doesn't show error states or transitions. According to the Error States table, uploads can fail (UPLOAD_FAILED), transcriptions can fail (TRANSCRIPTION_FAILED), and AI summaries can fail (AI_SUMMARY_FAILED), but these aren't represented in the state diagram.",
      "suggested_fix": "Add ERROR states to the diagram showing: UPLOADING ‚Üí UPLOAD_FAILED, PROCESSING ‚Üí TRANSCRIPTION_FAILED, PROCESSING ‚Üí AI_SUMMARY_FAILED. Show recovery paths where applicable.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add ERROR states to the diagram showing: UPLOADING ‚Üí UPLOAD_FAILED, PROCESSING ‚Üí TRANSCRIPTION_FAILED, PROCESSING ‚Üí AI_SUMMARY_FAILED. Show recovery paths where applicable.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-629",
      "feature": "Video Recordings",
      "category": "A-video-recordings",
      "title": "Screen Reader Support Browser-Dependent",
      "severity": "low",
      "location": "Section 5 - Accessibility",
      "issue": "Accessibility section states \"Screen reader support: ‚ö†Ô∏è Video controls are native (browser-dependent)\". The reliance on native browser video controls means accessibility varies significantly across browsers and may not meet WCAG requirements.",
      "suggested_fix": "Consider using an accessible video player library (e.g., Plyr, Video.js with accessibility plugins) for consistent screen reader support across browsers.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Consider using an accessible video player library (e.g., Plyr, Video.js with accessibility plugins) for consistent screen reader support across browsers.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-630",
      "feature": "Video Recordings",
      "category": "A-video-recordings",
      "title": "Silent Failure When Recording Cannot Start",
      "severity": "medium",
      "location": "Section 4 - Error States (RECORDING_NOT_STARTED)",
      "issue": "Error States shows \"RECORDING_NOT_STARTED | No permissions or streams | Nothing (silent fail) | Check camera/mic permissions\". If recording fails to start due to permission issues, there's no indication to the agent that the call is not being recorded.",
      "suggested_fix": "Show recording indicator in agent UI during active calls. If recording fails to start, show warning toast: \"Recording failed - check browser permissions.\"",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Show recording indicator in agent UI during active calls. If recording fails to start, show warning toast: \"Recording failed - check browser permissions.\"",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-631",
      "feature": "Login Flow",
      "category": "AUTH-login-flow",
      "title": "Incomplete Middleware Redirect for Unauthenticated Users",
      "severity": "critical",
      "location": "Section 3 - Data Flow, and Section 10 - Open Questions #1",
      "issue": "The middleware code at `middleware.ts` lines 56-57 has `if (isProtectedPath && !user) { return }` but no redirect to login page. Documentation explicitly states: \"No user? Return (incomplete redirect logic - see issues)\" and \"Is this intentional or a bug?\" This creates a security gap where unauthenticated users on protected routes are not redirected.",
      "suggested_fix": "Complete the middleware logic: `if (isProtectedPath && !user) { return NextResponse.redirect(new URL('/login', request.url)) }` to redirect unauthenticated users to the login page.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "ticketed",
      "ticket_id": "TKT-006",
      "options": [
        {
          "id": "implement_fix",
          "label": "Complete the middleware logic: `if (isProtectedPath && !user) { return NextResponse.redirect(new URL('/login', request.url)) }` to redirect unauthenticated users to the login page.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-632",
      "feature": "Login Flow",
      "category": "AUTH-login-flow",
      "title": "User with No Profile Row Causes Redirect Failure",
      "severity": "high",
      "location": "Section 4 - Edge Cases, Row #20",
      "issue": "Edge case matrix shows: \"User with no profile row | Auth exists, no users row | Returns null, redirects fail | ‚ö†Ô∏è | May cause issues\". When a user has an auth.users record but no corresponding `users` table row, the role query returns null and redirect logic fails. This is a data integrity issue that can strand users.",
      "suggested_fix": "Add defensive check after role query: if no profile row found, either create one with default role, show an error message, or redirect to a recovery flow. Consider RPC or trigger to ensure profile creation on signup.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "ticketed",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add defensive check after role query: if no profile row found, either create one with default role, show an error message, or redirect to a recovery flow. Consider RPC or trigger to ensure profile creation on signup.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-633",
      "feature": "Login Flow",
      "category": "AUTH-login-flow",
      "title": "Deactivated Agents Can Still Login",
      "severity": "medium",
      "location": "Section 4 - Edge Cases, Row #12; Section 7 - Identified Issues",
      "issue": "Documentation states: \"Login with deactivated agent | `is_active: false` | Login succeeds, but features limited | ‚ö†Ô∏è | No explicit check at login\". Deactivated agents can authenticate successfully, creating confusing UX where they see a limited dashboard without understanding why.",
      "suggested_fix": "Check `is_active` flag after successful authentication. Either block login entirely with a clear message (\"Your account has been deactivated. Contact your administrator.\") or show a prominent banner explaining limited access.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Check `is_active` flag after successful authentication. Either block login entirely with a clear message (\"Your account has been deactivated. Contact your administrator.\") or show a prominent banner explaining limited access.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-634",
      "feature": "Login Flow",
      "category": "AUTH-login-flow",
      "title": "No Client-Side Rate Limiting on Login Attempts",
      "severity": "medium",
      "location": "Section 4 - Edge Cases, Row #19; Section 7 - Identified Issues",
      "issue": "Edge case matrix notes: \"Rapid login attempts | Spam click | No client-side rate limit | ‚ö†Ô∏è | Server has rate limits (socket), not login\". While Supabase has server-side rate limiting, the client allows unlimited rapid submissions which could degrade UX and create unnecessary server load.",
      "suggested_fix": "Add client-side debounce (e.g., 500ms) on form submission or implement an attempt counter that shows a cooldown after 3-5 rapid failures. This provides immediate feedback to users.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add client-side debounce (e.g., 500ms) on form submission or implement an attempt counter that shows a cooldown after 3-5 rapid failures. This provides immediate feedback to users.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-635",
      "feature": "Login Flow",
      "category": "AUTH-login-flow",
      "title": "No Failed Login Attempt Logging for Security Auditing",
      "severity": "medium",
      "location": "Section 7 - Identified Issues; Section 10 - Open Questions #4",
      "issue": "Identified Issues table states: \"No login attempt logging | Security audit gap | üü° Medium | Log failed attempts\". Open Question #4 asks: \"Should failed login attempts be logged? For security auditing, should we track failed attempts per email?\" Without this, brute force detection and security forensics are limited.",
      "suggested_fix": "Log failed login attempts with timestamp, email (hashed if needed), IP address, and user agent. Consider triggering alerts for repeated failures against the same email or from the same IP.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Log failed login attempts with timestamp, email (hashed if needed), IP address, and user agent. Consider triggering alerts for repeated failures against the same email or from the same IP.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-636",
      "feature": "Login Flow",
      "category": "AUTH-login-flow",
      "title": "Platform Admin Redirects to /admin Instead of /platform",
      "severity": "medium",
      "location": "Section 4 - Edge Cases, Row #21; Section 10 - Open Questions #7",
      "issue": "Edge case shows: \"Platform admin login | `is_platform_admin: true` | Redirects to /admin (not /platform) | ‚ö†Ô∏è | Platform check happens in layout\". Open Question #7 asks: \"Should they redirect directly to /platform?\" Platform admins must navigate extra steps to reach their primary workspace.",
      "suggested_fix": "Update login redirect logic to check `is_platform_admin` flag and redirect directly to `/platform` instead of `/admin`.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Update login redirect logic to check `is_platform_admin` flag and redirect directly to `/platform` instead of `/admin`.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-637",
      "feature": "Login Flow",
      "category": "AUTH-login-flow",
      "title": "Email Verification Requirement Unclear",
      "severity": "medium",
      "location": "Section 4 - Edge Cases, Row #11; Section 10 - Open Questions #5",
      "issue": "Edge case shows: \"Login with unverified email | Unconfirmed signup | Supabase handles - depends on config | ‚ö†Ô∏è | May allow or block based on Supabase settings\". Open Question #5 asks: \"Is email verification required? The current flow appears to allow login without email verification. Is this intended?\" The intended behavior is undocumented.",
      "suggested_fix": "Document the intended email verification policy. Either enforce verification (recommended for security) and document the flow, or explicitly document that verification is not required and explain why.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Document the intended email verification policy. Either enforce verification (recommended for security) and document the flow, or explicitly document that verification is not required and explain why.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-638",
      "feature": "Login Flow",
      "category": "AUTH-login-flow",
      "title": "Screen Reader Labels Not Explicitly Associated",
      "severity": "medium",
      "location": "Section 5 - Accessibility",
      "issue": "Accessibility section notes: \"Screen reader support: ‚ö†Ô∏è Labels present but not explicitly associated\". Form inputs have visible labels but may not have proper `htmlFor`/`id` associations required for screen reader accessibility. This violates WCAG 2.1 guidelines.",
      "suggested_fix": "Ensure all form inputs have matching `id` attributes and that labels use `htmlFor` (or `for` in HTML) pointing to those IDs. Consider using `aria-labelledby` or `aria-label` as alternatives.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Ensure all form inputs have matching `id` attributes and that labels use `htmlFor` (or `for` in HTML) pointing to those IDs. Consider using `aria-labelledby` or `aria-label` as alternatives.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-639",
      "feature": "Login Flow",
      "category": "AUTH-login-flow",
      "title": "Hard Redirect Causes Visual Flash",
      "severity": "low",
      "location": "Section 5 - UX Audit, Step 5; Section 7 - Identified Issues",
      "issue": "UX Audit shows: \"Success | Redirect to dashboard | ‚úÖ | Hard redirect (flash)\". Identified Issues confirms: \"Hard redirect causes flash | UX polish | üü¢ Low | Use Next.js router after session set\". The `window.location.href` redirect causes a full page reload flash instead of a smooth SPA transition.",
      "suggested_fix": "After session is set in cookies, use Next.js `router.push()` for a smoother client-side navigation. Ensure cookies are properly synchronized before navigation.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "After session is set in cookies, use Next.js `router.push()` for a smoother client-side navigation. Ensure cookies are properly synchronized before navigation.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-640",
      "feature": "Login Flow",
      "category": "AUTH-login-flow",
      "title": "Session Duration Not Documented for Users",
      "severity": "low",
      "location": "Section 10 - Open Questions #3",
      "issue": "Open Question #3 asks: \"What's the session duration? Supabase default is 1 hour with refresh tokens. Is this documented anywhere for users?\" Users have no visibility into when their session will expire or how long they'll remain logged in.",
      "suggested_fix": "Document session duration in user-facing help content or FAQs. Consider showing session expiration warning before automatic logout.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Document session duration in user-facing help content or FAQs. Consider showing session expiration warning before automatic logout.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-641",
      "feature": "Login Flow",
      "category": "AUTH-login-flow",
      "title": "No \"Remember Me\" Option",
      "severity": "low",
      "location": "Section 7 - Identified Issues; Section 10 - Open Questions #6",
      "issue": "Identified Issues notes: \"No 'Remember me' option | User convenience | üü¢ Low | Supabase handles session duration\". Open Question #6 asks: \"Should there be a 'Remember me' checkbox?\" Users cannot choose to extend their session duration for convenience on trusted devices.",
      "suggested_fix": "Evaluate whether \"Remember me\" functionality is needed based on user feedback. If implemented, extend session duration or persist refresh token when checkbox is selected.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Evaluate whether \"Remember me\" functionality is needed based on user feedback. If implemented, extend session duration or persist refresh token when checkbox is selected.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-642",
      "feature": "Login Flow",
      "category": "AUTH-login-flow",
      "title": "JavaScript Required with No Fallback",
      "severity": "low",
      "location": "Section 6 - Reliability",
      "issue": "Reliability section states: \"JavaScript disabled | Form won't work (client-side only)\". Users with JavaScript disabled have no way to log in and receive no message explaining why. While rare, this creates an accessibility barrier.",
      "suggested_fix": "Consider progressive enhancement with a server action fallback, or at minimum display a `<noscript>` message explaining that JavaScript is required for login.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Consider progressive enhancement with a server action fallback, or at minimum display a `<noscript>` message explaining that JavaScript is required for login.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-643",
      "feature": "Login Flow",
      "category": "AUTH-login-flow",
      "title": "Free Tier vs 1-Minute Check Frequency Contradiction",
      "severity": "critical",
      "location": "Section \"Provider: Better Uptime\" vs Monitor 1 & 2 configurations",
      "issue": "The document states under \"Better Uptime Free Tier\" that the free tier offers \"3-minute check frequency\", but Monitor 1 (Dashboard) and Monitor 2 (Signaling Server) are both configured with \"Check Frequency: 1 minute\". This is a direct contradiction - either these monitors will fail to create on the free tier, or the setup will unexpectedly incur costs.",
      "suggested_fix": "Either update all monitors to 3-minute frequency to stay within free tier, or clarify that 1-minute checks require the $20/mo upgrade and update Cost Analysis section accordingly.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Either update all monitors to 3-minute frequency to stay within free tier, or clarify that 1-minute checks require the $20/mo upgrade and update Cost Analysis section accordingly.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-644",
      "feature": "Login Flow",
      "category": "AUTH-login-flow",
      "title": "Monitor Count Inconsistency",
      "severity": "low",
      "location": "Section \"Production Services to Monitor\" table vs \"Implementation Steps\" section",
      "issue": "The initial table lists 4 services to monitor, but the implementation section defines 5 monitors (including optional WebSocket Monitor 3). The Acceptance Criteria says \"4+ monitors\" and Cost Analysis says \"we need 4-5\". This ambiguity could cause confusion during setup.",
      "suggested_fix": "Clarify whether WebSocket monitor is included in the count. Update table to show 5 rows if WebSocket is recommended, or explicitly state \"4 required + 1 optional\".",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Clarify whether WebSocket monitor is included in the count. Update table to show 5 rows if WebSocket is recommended, or explicitly state \"4 required + 1 optional\".",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-645",
      "feature": "Login Flow",
      "category": "AUTH-login-flow",
      "title": "Placeholder Contact Information Not Flagged",
      "severity": "medium",
      "location": "Section \"Step 3: Configure Alert Escalation\"",
      "issue": "The escalation policy contains placeholder values `+1-xxx-xxx-xxxx` for phone numbers. While this is expected in a template, there is no callout or action item to replace these with real numbers. A reader could accidentally configure with placeholders or forget to update them.",
      "suggested_fix": "Add a visible callout: \"‚ö†Ô∏è REQUIRED: Replace placeholder phone numbers with actual on-call contact before deploying.\" Also add this to the Verification Checklist.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add a visible callout: \"‚ö†Ô∏è REQUIRED: Replace placeholder phone numbers with actual on-call contact before deploying.\" Also add this to the Verification Checklist.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-646",
      "feature": "Login Flow",
      "category": "AUTH-login-flow",
      "title": "Supabase API Key Exposure in Third-Party Service",
      "severity": "medium",
      "location": "Section \"Monitor 4: Supabase API\"",
      "issue": "The Supabase monitor requires adding the `apikey` (anon key) to Better Uptime headers configuration. While the anon key is \"public\" by design (exposed in frontend), storing it in a third-party monitoring platform creates an additional exposure vector. If Better Uptime is compromised, the key is exposed. There is no discussion of this security tradeoff.",
      "suggested_fix": "Add a security note: \"The Supabase anon key is designed for public use and has RLS protection. Storing in Better Uptime is acceptable, but monitor Better Uptime security advisories.\"",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add a security note: \"The Supabase anon key is designed for public use and has RLS protection. Storing in Better Uptime is acceptable, but monitor Better Uptime security advisories.\"",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-647",
      "feature": "Login Flow",
      "category": "AUTH-login-flow",
      "title": "Missing Incident Response Runbook",
      "severity": "high",
      "location": "Entire document",
      "issue": "The document covers how to set up monitoring and receive alerts, but provides no guidance on what to do when an alert fires. There is no incident response runbook linking to debugging steps, rollback procedures, or escalation paths beyond \"call this number\". When a 3 AM alert wakes someone up, they need actionable next steps.",
      "suggested_fix": "Add section \"Incident Response\" with: (1) Link to runbook for each service type, (2) Common causes and fixes, (3) Who can deploy fixes, (4) When to page vs investigate.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "ticketed",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add section \"Incident Response\" with: (1) Link to runbook for each service type, (2) Common causes and fixes, (3) Who can deploy fixes, (4) When to page vs investigate.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-648",
      "feature": "Login Flow",
      "category": "AUTH-login-flow",
      "title": "No Staging Environment Monitoring Coverage",
      "severity": "low",
      "location": "Section \"Production Services to Monitor\"",
      "issue": "Only production URLs are documented for monitoring. There is no mention of whether staging should be monitored, and no staging URLs are provided. If staging goes down, it could block development/QA without anyone noticing.",
      "suggested_fix": "Either add staging monitors (with lower-priority alerts) or explicitly document the decision: \"Staging is not monitored because [reason].\"",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Either add staging monitors (with lower-priority alerts) or explicitly document the decision: \"Staging is not monitored because [reason].\"",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-649",
      "feature": "Login Flow",
      "category": "AUTH-login-flow",
      "title": "WebSocket Monitor Free Tier Uncertainty",
      "severity": "low",
      "location": "Section \"Monitor 3: Signaling Server WebSocket (Optional)\"",
      "issue": "The note says \"If Better Uptime does not support WebSocket monitors on free tier, skip this and rely on the HTTP health check.\" This suggests the documentation was written without verifying if WebSocket monitoring is available. This uncertainty should be resolved before implementation.",
      "suggested_fix": "Verify Better Uptime free tier WebSocket support and update the doc with definitive guidance. Remove \"If\" conditional.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Verify Better Uptime free tier WebSocket support and update the doc with definitive guidance. Remove \"If\" conditional.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-650",
      "feature": "Login Flow",
      "category": "AUTH-login-flow",
      "title": "Widget Content Validation May Be Fragile",
      "severity": "medium",
      "location": "Section \"Monitor 5: Widget JavaScript\"",
      "issue": "Monitor 5 validates widget.js by checking if response body contains \"ghostGreeter\". If the build process changes (different bundler, aggressive minification, variable renaming), this string check could fail even when the widget works correctly. This would cause false positive alerts.",
      "suggested_fix": "Use a more reliable validation method: (1) Check for specific export signature, (2) Add a version comment at top that survives minification, or (3) Just check HTTP 200 and Content-Type for JS files.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Use a more reliable validation method: (1) Check for specific export signature, (2) Add a version comment at top that survives minification, or (3) Just check HTTP 200 and Content-Type for JS files.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-651",
      "feature": "Login Flow",
      "category": "AUTH-login-flow",
      "title": "Owner Role Ambiguity in Maintenance Table",
      "severity": "low",
      "location": "Section \"Ongoing Maintenance\"",
      "issue": "The maintenance table assigns tasks to \"On-call engineer\", \"Admin\", and \"DevOps\" but these roles are not defined anywhere in the document. It is unclear who specifically is responsible, which could lead to tasks falling through the cracks.",
      "suggested_fix": "Either link to a team roles document or specify actual people/teams (e.g., \"Ryan\", \"Platform team\", \"Whoever is in #on-call Slack channel\").",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Either link to a team roles document or specify actual people/teams (e.g., \"Ryan\", \"Platform team\", \"Whoever is in #on-call Slack channel\").",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-652",
      "feature": "Login Flow",
      "category": "AUTH-login-flow",
      "title": "Maintenance Window Too Narrow",
      "severity": "low",
      "location": "Section \"Step 5: Configure Maintenance Windows\"",
      "issue": "Only a single maintenance window is configured: \"Tuesdays 2:00 AM - 3:00 AM UTC\". This does not account for: (1) Emergency hotfix deploys at other times, (2) Extended maintenance, (3) Holiday deployments. Any deploy outside this window will trigger false alerts.",
      "suggested_fix": "Document how to create ad-hoc maintenance windows for emergency deploys. Consider adding a second regular window or extending to 2 hours.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Document how to create ad-hoc maintenance windows for emergency deploys. Consider adding a second regular window or extending to 2 hours.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-653",
      "feature": "Login Flow",
      "category": "AUTH-login-flow",
      "title": "Health Endpoint Components Not Individually Validated",
      "severity": "medium",
      "location": "Section \"Monitor 2: Signaling Server Health\" and \"Quick Reference - Health Check Response Format\"",
      "issue": "The health endpoint returns status of individual components (`\"redis\": \"connected\"`), but Monitor 2 only validates that `status: \"ok\"`. If Redis disconnects but the server stays up, `status` might still return \"ok\" with `\"redis\": \"disconnected\"`. The monitoring will not catch this partial failure.",
      "suggested_fix": "Add JSON path validation for `$.redis = \"connected\"` or create a separate monitor that checks Redis connectivity specifically.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add JSON path validation for `$.redis = \"connected\"` or create a separate monitor that checks Redis connectivity specifically.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-654",
      "feature": "Login Flow",
      "category": "AUTH-login-flow",
      "title": "SSL Expiry Alert Only on Dashboard Monitor",
      "severity": "low",
      "location": "Section \"Monitor 1: Dashboard\" vs other monitors",
      "issue": "Only Monitor 1 (Dashboard) has \"SSL Expiry Alert: 14 days before expiration\" configured. The other services (Signaling Server, Supabase, Widget CDN) also use HTTPS but do not have SSL expiry alerts configured. If those certs expire, there would be no warning.",
      "suggested_fix": "Add SSL expiry alerts to all HTTPS monitors, or document why only Dashboard needs it (e.g., \"Railway and Supabase manage their own certs\").",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add SSL expiry alerts to all HTTPS monitors, or document why only Dashboard needs it (e.g., \"Railway and Supabase manage their own certs\").",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-655",
      "feature": "Co-Browse Sender",
      "category": "V-cobrowse-sender",
      "title": "Password Fields Captured in DOM Snapshots",
      "severity": "critical",
      "location": "Section 4 - Edge Cases Row 6; Section 6 - Security; Section 7 - Identified Issues; Section 10 - CRITICAL ISSUES REFERENCED",
      "issue": "Documentation explicitly flags CRIT-A5-001: \"Password field visible - Value may be captured\" with red indicator. Section 6 Security confirms \"Password fields captured | CRIT-A5-001 - no sanitization | üî¥ Critical\". The `captureSnapshot()` function serializes the entire DOM including password field values, allowing agents to see visitor passwords.",
      "suggested_fix": "As documented: \"Mask `<input type=\"password\">` values before serializing\". Add sanitization step in `captureSnapshot()` to replace password field values with asterisks or empty strings.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "ticketed",
      "ticket_id": "TKT-001",
      "options": [
        {
          "id": "implement_fix",
          "label": "As documented: \"Mask `<input type=\"password\">` values before serializing\". Add sanitization step in `captureSnapshot()` to replace password field values with asterisks or empty strings.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-656",
      "feature": "Co-Browse Sender",
      "category": "V-cobrowse-sender",
      "title": "No Visitor Awareness of Screen Sharing",
      "severity": "medium",
      "location": "Section 5 - UI/UX Review Step 1; Section 6 - Security Row 4; Section 7 - Identified Issues",
      "issue": "Section 5 notes \"Co-browse auto-starts | ‚ö†Ô∏è | No indication to visitor\". Section 6 Security flags \"Visitor unaware of sharing | Q-A5-001 - no indicator | üü° Medium\". Visitors entering a call have no visual indication that their screen is being captured and shared with the agent, which is a privacy and trust concern.",
      "suggested_fix": "As documented: \"Add Screen shared with agent indicator\". Consider a persistent banner or icon during active co-browse sessions.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "As documented: \"Add Screen shared with agent indicator\". Consider a persistent banner or icon during active co-browse sessions.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-657",
      "feature": "Co-Browse Sender",
      "category": "V-cobrowse-sender",
      "title": "No Payload Size Limit for DOM Snapshots",
      "severity": "medium",
      "location": "Section 4 - Edge Cases Row 4; Section 6 - Performance Row 2; Section 7 - Identified Issues; Section 10 - Open Questions Q-V5-001",
      "issue": "Open Question Q-V5-001 explicitly asks \"Should there be payload size limits for DOM snapshots? Large pages could generate 100KB+ payloads. Currently no limit enforced.\" Section 6 confirms \"HTML serialization | outerHTML creates large strings | üü° Medium - no size limit\". Large pages could cause bandwidth exhaustion and memory pressure on both client and server.",
      "suggested_fix": "As documented: \"Add max size check or compression\". Consider truncating or compressing snapshots exceeding a threshold (e.g., 50KB), or implement differential updates instead of full DOM sends.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "As documented: \"Add max size check or compression\". Consider truncating or compressing snapshots exceeding a threshold (e.g., 50KB), or implement differential updates instead of full DOM sends.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-658",
      "feature": "Co-Browse Sender",
      "category": "V-cobrowse-sender",
      "title": "Rate Limit vs Throttle Mismatch for Mouse Events",
      "severity": "low",
      "location": "Section 3 - Throttling/Debouncing Strategy; Section 3 - Server-Side Rate Limiting",
      "issue": "The Throttling/Debouncing Strategy table shows mouse events are throttled at \"50ms (~20fps)\" on the client, which would produce up to 1200 events per minute. However, the Server-Side Rate Limiting table shows `cobrowse:mouse` has a limit of \"300 (5/sec)\" or 300 per minute. This means the client generates 4x more events than the server allows, resulting in ~75% of mouse events being silently dropped by rate limiting.",
      "suggested_fix": "Either increase server rate limit to match client throttle (1200/min), or decrease client throttle rate to match server limit (200ms for 5/sec). Document the intentional mismatch if this is by design.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Either increase server rate limit to match client throttle (1200/min), or decrease client throttle rate to match server limit (200ms for 5/sec). Document the intentional mismatch if this is by design.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-659",
      "feature": "Co-Browse Sender",
      "category": "V-cobrowse-sender",
      "title": "Rate Limit vs Throttle Mismatch for Scroll Events",
      "severity": "low",
      "location": "Section 3 - Throttling/Debouncing Strategy; Section 3 - Server-Side Rate Limiting",
      "issue": "The Throttling/Debouncing Strategy table shows scroll events are throttled at \"100ms (10fps)\" on the client, which would produce up to 600 events per minute. However, the Server-Side Rate Limiting table shows `cobrowse:scroll` has a limit of \"120 (2/sec)\" or 120 per minute. This means the client generates 5x more events than the server allows, resulting in ~80% of scroll events being silently dropped by rate limiting.",
      "suggested_fix": "Either increase server rate limit to match client throttle (600/min), or decrease client throttle rate to match server limit (500ms for 2/sec). Document the intentional mismatch if this is by design.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Either increase server rate limit to match client throttle (600/min), or decrease client throttle rate to match server limit (500ms for 2/sec). Document the intentional mismatch if this is by design.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-660",
      "feature": "Co-Browse Sender",
      "category": "V-cobrowse-sender",
      "title": "Socket Disconnect Causes Event Loss",
      "severity": "medium",
      "location": "Section 4 - Edge Cases Row 3; Section 4 - Error States Row 2",
      "issue": "Edge Case Row 3 states \"Socket disconnects during call | Network drop | Events queue, sent on reconnect (or lost) | ‚ö†Ô∏è | No local buffering\". Error States confirms \"Socket not connected | Network down | Nothing visible | Events lost, reconnect auto-retries\". There is no local buffering of co-browse events during disconnection, meaning important context (page navigation, form fills) could be lost during network interruptions.",
      "suggested_fix": "Consider implementing a small local event buffer (last 10-20 events or last 5 seconds) that can be replayed on reconnection to minimize context loss during brief disconnects.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Consider implementing a small local event buffer (last 10-20 events or last 5 seconds) that can be replayed on reconnection to minimize context loss during brief disconnects.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-661",
      "feature": "Co-Browse Sender",
      "category": "V-cobrowse-sender",
      "title": "Visitor Cannot Opt Out During Call",
      "severity": "medium",
      "location": "Section 7 - First Principles Review \"Is the flow reversible?\"",
      "issue": "Section 7 explicitly states \"Is the flow reversible? ‚ùå No | Visitor cannot opt out during call\". Once a visitor enters a call, they have no mechanism to disable screen sharing while continuing the video call. This removes visitor control over their privacy during the session and may create compliance concerns (GDPR right to object).",
      "suggested_fix": "Consider adding a visitor-facing toggle to pause/disable co-browse during an active call, while keeping the video call active. At minimum, document this limitation for legal/compliance review.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Consider adding a visitor-facing toggle to pause/disable co-browse during an active call, while keeping the video call active. At minimum, document this limitation for legal/compliance review.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-662",
      "feature": "Co-Browse Sender",
      "category": "V-cobrowse-sender",
      "title": "\"Significant\" DOM Changes Not Defined",
      "severity": "low",
      "location": "Section 3 - Data Flow diagram; Section 4 - Edge Cases Row 5; Section 10 - Open Questions Q-V5-002",
      "issue": "The Data Flow diagram shows MutationObserver handling and states \"Only triggers capture on significant changes\" but does not define what constitutes \"significant\". Edge Case Row 5 says \"MutationObserver filters significant only\" marked as handled, but Open Question Q-V5-002 asks \"Should MutationObserver be more selective?\" suggesting the definition is not settled. Future developers may misunderstand the filtering logic without clear criteria.",
      "suggested_fix": "Document the specific criteria for \"significant\" changes (e.g., node additions/removals > N, attribute changes on specific element types, etc.) or reference the exact code logic that makes this determination.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Document the specific criteria for \"significant\" changes (e.g., node additions/removals > N, attribute changes on specific element types, etc.) or reference the exact code logic that makes this determination.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-663",
      "feature": "Co-Browse Sender",
      "category": "V-cobrowse-sender",
      "title": "Open Questions Have Inconsistent Numbering",
      "severity": "low",
      "location": "Section 10 - Open Questions",
      "issue": "Open Questions lists Q-V5-001 and Q-V5-002 with proper IDs, but questions 3-5 lack numbered IDs (\"Privacy indicator:\", \"Canvas capture:\", \"Same-origin iframes:\"). This inconsistency makes it difficult to reference specific open questions in discussions and breaks the established ID pattern.",
      "suggested_fix": "Add IDs to all open questions: Q-V5-003 for privacy indicator, Q-V5-004 for canvas capture, Q-V5-005 for same-origin iframes.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add IDs to all open questions: Q-V5-003 for privacy indicator, Q-V5-004 for canvas capture, Q-V5-005 for same-origin iframes.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-664",
      "feature": "Co-Browse Sender",
      "category": "V-cobrowse-sender",
      "title": "Cross-Reference Uses Agent Feature Code for Visitor Feature Issue",
      "severity": "low",
      "location": "Section 6 - Security; Section 10 - CRITICAL ISSUES REFERENCED",
      "issue": "The critical password issue is labeled \"CRIT-A5-001\" (Agent feature code prefix \"A5\") but this is a Visitor feature (V5 - Co-Browse Sender). The privacy indicator concern references \"Q-A5-001\" similarly. Using Agent feature codes in Visitor documentation creates confusion about which codebase components are affected and where fixes should be implemented.",
      "suggested_fix": "Either rename to use Visitor feature prefix (CRIT-V5-001, Q-V5-006) or clarify in documentation that this issue spans both features and the A5 prefix refers to where the fix impacts agent experience.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Either rename to use Visitor feature prefix (CRIT-V5-001, Q-V5-006) or clarify in documentation that this issue spans both features and the A5 prefix refers to where the fix impacts agent experience.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-665",
      "feature": "Co-Browse Sender",
      "category": "V-cobrowse-sender",
      "title": "Browser Tab Backgrounding May Disrupt Co-Browse",
      "severity": "low",
      "location": "Section 4 - Edge Cases Row 10",
      "issue": "Edge Case Row 10 notes \"Tab backgrounded | User switches tabs | Events continue (browser may throttle) | ‚ö†Ô∏è | Chrome throttling\". When visitors switch to other tabs while on a call, Chrome background tab throttling may reduce timer resolution from 4ms to 1000ms and limit setTimeout/setInterval execution, potentially disrupting the 2-second snapshot interval and event delivery.",
      "suggested_fix": "Document this as a known limitation. Consider using requestAnimationFrame-based timing where possible, or document that agents should be aware the view may become stale when visitors switch tabs.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Document this as a known limitation. Consider using requestAnimationFrame-based timing where possible, or document that agents should be aware the view may become stale when visitors switch tabs.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-666",
      "feature": "Co-Browse Sender",
      "category": "V-cobrowse-sender",
      "title": "Upload Failure Causes Permanent Recording Loss",
      "severity": "medium",
      "location": "Section 4 - Edge Cases #4; Section 6 - Reliability; Section 7 - Identified Issues",
      "issue": "Edge Case #4 states \"Upload fails | Network error | Error logged, recording lost ‚ö†Ô∏è | No retry mechanism\" and Section 7 confirms \"No upload retry | Lost recordings | üü° Medium\". When a network error occurs during upload, the recording is permanently lost with no automatic retry mechanism.",
      "suggested_fix": "Implement retry logic with exponential backoff (e.g., 3 attempts with 1s, 2s, 4s delays). Consider persisting chunks to IndexedDB before upload attempt.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Implement retry logic with exponential backoff (e.g., 3 attempts with 1s, 2s, 4s delays). Consider persisting chunks to IndexedDB before upload attempt.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-667",
      "feature": "Co-Browse Sender",
      "category": "V-cobrowse-sender",
      "title": "Page Refresh During Call Loses Recording Data",
      "severity": "medium",
      "location": "Section 4 - Edge Cases #9; Section 6 - Reliability; Section 7 - Identified Issues",
      "issue": "Edge Case #9 states \"Agent refreshes during call | Page refresh | Recording data lost ‚ö†Ô∏è | In-memory chunks lost\" and Section 6 Reliability confirms \"Recording data loss | In-memory until upload (no mitigation)\". Recording chunks are stored in memory and are lost if the agent refreshes or navigates away.",
      "suggested_fix": "Consider IndexedDB buffering to persist chunks during recording. Add beforeunload warning if recording is in progress.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Consider IndexedDB buffering to persist chunks during recording. Add beforeunload warning if recording is in progress.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-668",
      "feature": "Co-Browse Sender",
      "category": "V-cobrowse-sender",
      "title": "No Chunked Upload for Long Calls",
      "severity": "medium",
      "location": "Section 4 - Edge Cases #8; Section 6 - Performance; Section 7 - Identified Issues",
      "issue": "Edge Case #8 states \"Very long call | Hours-long call | Large file, slow upload ‚ö†Ô∏è | No chunked upload\" and Section 7 confirms \"No chunked upload | Fails for long calls | üü° Medium\". Single-file upload may timeout or fail for lengthy recordings.",
      "suggested_fix": "Implement resumable uploads using Supabase resumable upload API or chunked upload pattern. Consider splitting recordings into segments for very long calls.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Implement resumable uploads using Supabase resumable upload API or chunked upload pattern. Consider splitting recordings into segments for very long calls.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-669",
      "feature": "Co-Browse Sender",
      "category": "V-cobrowse-sender",
      "title": "Visitor Not Notified of Recording",
      "severity": "high",
      "location": "Section 10 - Open Questions #3; Section 6 - Security (Privacy consent)",
      "issue": "Open Question #3 asks \"Should visitors be notified they're being recorded? Currently no in-widget indicator.\" While Section 6 Security mentions \"Privacy warning shown in admin settings\", there is no indication to the actual visitor being recorded. This is a privacy compliance concern (GDPR, CCPA, state recording laws).",
      "suggested_fix": "Add visible recording indicator in widget UI (red dot or \"Recording\" badge). Consider audio announcement at call start for two-party consent jurisdictions.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "skipped",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add visible recording indicator in widget UI (red dot or \"Recording\" badge). Consider audio announcement at call start for two-party consent jurisdictions.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-670",
      "feature": "Co-Browse Sender",
      "category": "V-cobrowse-sender",
      "title": "Deleted Recording Shows No User Feedback",
      "severity": "medium",
      "location": "Section 4 - Edge Cases #15; Section 4 - Error States (PLAYBACK_404)",
      "issue": "Edge Case #15 states \"Recording deleted from storage | Retention policy | 404 on playback ‚ö†Ô∏è | No UI indication\" and Error States shows \"PLAYBACK_404 | Recording deleted/missing | Video fails to load | Recording is gone\". Users see a failed video player with no explanation.",
      "suggested_fix": "Add error state UI in video modal: \"This recording is no longer available (expired or deleted)\". Check recording existence before attempting playback.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add error state UI in video modal: \"This recording is no longer available (expired or deleted)\". Check recording existence before attempting playback.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-671",
      "feature": "Co-Browse Sender",
      "category": "V-cobrowse-sender",
      "title": "Storage Quota Handling Missing",
      "severity": "medium",
      "location": "Section 10 - Open Questions #2",
      "issue": "Open Question #2 states \"What happens when storage quota exceeded? No handling for Supabase storage limits.\" If organization exceeds storage quota, recording uploads will fail silently with no proactive warning to admins.",
      "suggested_fix": "Monitor storage usage and warn admins when approaching quota. Gracefully handle quota exceeded errors with user-friendly messaging.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Monitor storage usage and warn admins when approaching quota. Gracefully handle quota exceeded errors with user-friendly messaging.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-672",
      "feature": "Co-Browse Sender",
      "category": "V-cobrowse-sender",
      "title": "GDPR Right to Deletion Not Fully Implemented",
      "severity": "medium",
      "location": "Section 10 - Open Questions #6",
      "issue": "Open Question #6 states \"What about GDPR right to deletion? Retention policy exists but no per-recording delete UI.\" Admins cannot delete individual recordings on request; they must wait for retention policy to expire.",
      "suggested_fix": "Add delete button on recording rows for admins. Implement soft-delete with audit trail for compliance. Consider \"Delete all recordings for visitor X\" functionality.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add delete button on recording rows for admins. Implement soft-delete with audit trail for compliance. Consider \"Delete all recordings for visitor X\" functionality.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-673",
      "feature": "Co-Browse Sender",
      "category": "V-cobrowse-sender",
      "title": "Modal Escape Key Not Implemented",
      "severity": "low",
      "location": "Section 5 - Accessibility; Section 7 - Identified Issues",
      "issue": "Accessibility section states \"Keyboard navigation: ‚ö†Ô∏è Modal close via Escape not implemented\" and Section 7 confirms \"No keyboard close | Accessibility | üü¢ Low\". Users relying on keyboard navigation cannot close the video modal without mouse.",
      "suggested_fix": "Add Escape key handler to close video modal. Ensure focus trap and focus return to trigger button on close.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add Escape key handler to close video modal. Ensure focus trap and focus return to trigger button on close.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-674",
      "feature": "Co-Browse Sender",
      "category": "V-cobrowse-sender",
      "title": "No Transcription Retry UI",
      "severity": "low",
      "location": "Section 4 - Error States; Section 7 - Identified Issues",
      "issue": "Error States shows \"TRANSCRIPTION_FAILED | Deepgram API error | 'Failed' badge in table | Admin can retry via API\" and Section 7 confirms \"No transcription retry UI | Admin friction | üü¢ Low\". Admins must use API directly to retry failed transcriptions.",
      "suggested_fix": "Add \"Retry Transcription\" button on rows with failed transcription status.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add \"Retry Transcription\" button on rows with failed transcription status.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-675",
      "feature": "Co-Browse Sender",
      "category": "V-cobrowse-sender",
      "title": "No Estimated Processing Time Shown",
      "severity": "low",
      "location": "Section 7 - First Principles Review; Section 7 - Identified Issues",
      "issue": "First Principles Review states \"Is feedback immediate? ‚ö†Ô∏è Mostly - Transcription status shown, but processing time not estimated\" and Section 7 confirms \"No estimated processing time | User confusion | üü¢ Low\". Users don't know how long to wait for transcription/summary to complete.",
      "suggested_fix": "Show estimated processing time based on call duration (e.g., \"Processing ~2 minutes\" for a 5-minute call).",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Show estimated processing time based on call duration (e.g., \"Processing ~2 minutes\" for a 5-minute call).",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-676",
      "feature": "Co-Browse Sender",
      "category": "V-cobrowse-sender",
      "title": "State Diagram Missing Error States",
      "severity": "low",
      "location": "Section 2 - State Machine",
      "issue": "The state machine diagram shows linear progression from RECORDING ‚Üí UPLOADING ‚Üí PROCESSING ‚Üí COMPLETE but doesn't show error states or transitions. According to the Error States table, uploads can fail (UPLOAD_FAILED), transcriptions can fail (TRANSCRIPTION_FAILED), and AI summaries can fail (AI_SUMMARY_FAILED), but these aren't represented in the state diagram.",
      "suggested_fix": "Add ERROR states to the diagram showing: UPLOADING ‚Üí UPLOAD_FAILED, PROCESSING ‚Üí TRANSCRIPTION_FAILED, PROCESSING ‚Üí AI_SUMMARY_FAILED. Show recovery paths where applicable.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add ERROR states to the diagram showing: UPLOADING ‚Üí UPLOAD_FAILED, PROCESSING ‚Üí TRANSCRIPTION_FAILED, PROCESSING ‚Üí AI_SUMMARY_FAILED. Show recovery paths where applicable.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-677",
      "feature": "Co-Browse Sender",
      "category": "V-cobrowse-sender",
      "title": "Screen Reader Support Browser-Dependent",
      "severity": "low",
      "location": "Section 5 - Accessibility",
      "issue": "Accessibility section states \"Screen reader support: ‚ö†Ô∏è Video controls are native (browser-dependent)\". The reliance on native browser video controls means accessibility varies significantly across browsers and may not meet WCAG requirements.",
      "suggested_fix": "Consider using an accessible video player library (e.g., Plyr, Video.js with accessibility plugins) for consistent screen reader support across browsers.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Consider using an accessible video player library (e.g., Plyr, Video.js with accessibility plugins) for consistent screen reader support across browsers.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-678",
      "feature": "Co-Browse Sender",
      "category": "V-cobrowse-sender",
      "title": "Silent Failure When Recording Cannot Start",
      "severity": "medium",
      "location": "Section 4 - Error States (RECORDING_NOT_STARTED)",
      "issue": "Error States shows \"RECORDING_NOT_STARTED | No permissions or streams | Nothing (silent fail) | Check camera/mic permissions\". If recording fails to start due to permission issues, there's no indication to the agent that the call is not being recorded.",
      "suggested_fix": "Show recording indicator in agent UI during active calls. If recording fails to start, show warning toast: \"Recording failed - check browser permissions.\"",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Show recording indicator in agent UI during active calls. If recording fails to start, show warning toast: \"Recording failed - check browser permissions.\"",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-679",
      "feature": "Agent API",
      "category": "API-agent-api",
      "title": "Silent Email Failure - User Thinks Invite Sent",
      "severity": "medium",
      "location": "Section 4 - Edge Cases row 22, Section 7 - Identified Issues",
      "issue": "Documentation explicitly flags email send failure as silent. When email delivery fails, the admin sees success but the invitee never receives the invitation. This creates confusion and potential trust issues.",
      "suggested_fix": "Return email send status in API response. Show warning toast: \"Invite created but email may not have been delivered.\" Add \"Resend invite\" button on pending invites list.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Return email send status in API response. Show warning toast: \"Invite created but email may not have been delivered.\" Add \"Resend invite\" button on pending invites list.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-680",
      "feature": "Agent API",
      "category": "API-agent-api",
      "title": "Race Condition on Concurrent Invite/Revoke",
      "severity": "low",
      "location": "Section 4 - Edge Cases row 21, Section 7 - Identified Issues",
      "issue": "Documentation identifies concurrent invite plus revoke race condition with no explicit locking. If two admins simultaneously send and revoke an invite to the same email, the outcome is undefined. While rare, this could result in orphaned billing seats.",
      "suggested_fix": "Add unique constraint on email plus organization_id plus pending status in invites table. Return clear error on constraint violation.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add unique constraint on email plus organization_id plus pending status in invites table. Return clear error on constraint violation.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-681",
      "feature": "Agent API",
      "category": "API-agent-api",
      "title": "Stats Query Performance - No Optimization for Large Call Logs",
      "severity": "medium",
      "location": "Section 6 - Technical Concerns Performance, Section 7 - Identified Issues",
      "issue": "Documentation notes stats aggregation computed on page load could be slow with large call_logs. Agent statistics are computed synchronously during page load. For organizations with many agents and long call history, this will cause noticeable page load delays.",
      "suggested_fix": "Pre-compute daily/weekly stats via background job or database trigger. Store aggregated stats in separate table. Alternative: lazy-load stats after initial agent list renders.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Pre-compute daily/weekly stats via background job or database trigger. Store aggregated stats in separate table. Alternative: lazy-load stats after initial agent list renders.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-682",
      "feature": "Agent API",
      "category": "API-agent-api",
      "title": "Screen Reader Support Not Verified",
      "severity": "medium",
      "location": "Section 5 - UI/UX Review Accessibility",
      "issue": "Documentation states screen reader support is not verified. The accessibility audit is incomplete - screen reader compatibility has not been tested. Agent management is a core admin function, and accessibility compliance may be required for enterprise customers.",
      "suggested_fix": "Conduct screen reader testing with VoiceOver/NVDA. Ensure all form fields have proper labels, buttons have accessible names, and status changes are announced via ARIA live regions.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Conduct screen reader testing with VoiceOver/NVDA. Ensure all form fields have proper labels, buttons have accessible names, and status changes are announced via ARIA live regions.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-683",
      "feature": "Agent API",
      "category": "API-agent-api",
      "title": "Stripe Down During Invite - No Retry Mechanism",
      "severity": "medium",
      "location": "Section 10 - Open Questions number 2",
      "issue": "Documentation asks what happens if Stripe is down during invite. The invite record is created then rolled back on billing failure, but there is no retry mechanism. Admin must manually retry without knowing if it is a temporary or permanent issue.",
      "suggested_fix": "Implement exponential backoff retry for billing API calls. If all retries fail, show specific error about billing service unavailable. Consider queuing failed billing operations for background retry.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Implement exponential backoff retry for billing API calls. If all retries fail, show specific error about billing service unavailable. Consider queuing failed billing operations for background retry.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-684",
      "feature": "Agent API",
      "category": "API-agent-api",
      "title": "Deactivated Agents Completely Hidden",
      "severity": "low",
      "location": "Section 10 - Open Questions number 3",
      "issue": "Documentation asks if deactivated agents should be visible to admins. Currently they are fully hidden. Admins cannot see which agents were previously on their team, when they were removed, or re-invite them easily. This loses institutional knowledge.",
      "suggested_fix": "Add Show deactivated agents toggle to agent list. Display deactivated agents in a separate section with grayed-out styling. Show deactivation date and who removed them.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add Show deactivated agents toggle to agent list. Display deactivated agents in a separate section with grayed-out styling. Show deactivation date and who removed them.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-685",
      "feature": "Agent API",
      "category": "API-agent-api",
      "title": "Hardcoded 7-Day Invite Expiry",
      "severity": "low",
      "location": "Section 10 - Open Questions number 4",
      "issue": "Documentation asks if 7-day invite expiry is the right duration. It is hardcoded and not configurable per-organization. Some organizations may need longer or shorter expiry periods.",
      "suggested_fix": "Add invite_expiry_days setting to organization settings with default of 7. Allow admins to configure between 1-30 days.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add invite_expiry_days setting to organization settings with default of 7. Allow admins to configure between 1-30 days.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-686",
      "feature": "Agent API",
      "category": "API-agent-api",
      "title": "Accept Invite Redirects Agent Role to Admin Path",
      "severity": "medium",
      "location": "Section 3 - Detailed Logic, INVITEE ACCEPTS INVITE data flow",
      "issue": "The data flow shows redirect to /admin after invite acceptance. However, users with agent role should be redirected to /bullpen, not /admin. An agent user redirected to /admin may see a 403 error.",
      "suggested_fix": "Redirect based on role: agent role to /bullpen, admin role to /admin. Check middleware for role-based redirect logic.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Redirect based on role: agent role to /bullpen, admin role to /admin. Check middleware for role-based redirect logic.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-687",
      "feature": "Agent API",
      "category": "API-agent-api",
      "title": "Reactivating Another Users Agent Profile Not Documented",
      "severity": "medium",
      "location": "Section 2 - State Machine, Section 3 - Detailed Logic",
      "issue": "State diagram shows transition from deactivated to active via Admin re-adds. However, the detailed flow only covers self-reactivation. If Admin A deactivated Agent B, the flow for Admin A to reactivate Agent B later is not documented.",
      "suggested_fix": "Document the reactivation flow for third-party agents. Either clarify it is not supported, or document the admin UI and API for reactivating specific deactivated agents.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Document the reactivation flow for third-party agents. Either clarify it is not supported, or document the admin UI and API for reactivating specific deactivated agents.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-688",
      "feature": "Agent API",
      "category": "API-agent-api",
      "title": "Can Admin Remove Themselves as Agent - Edge Case Missing",
      "severity": "low",
      "location": "Section 4 - Edge Cases",
      "issue": "The 22 edge cases do not cover the scenario where an admin removes their own agent profile. Is this allowed? What happens to their admin access? The Self-add when already agent case shows the button is hidden, but no case shows self-removal.",
      "suggested_fix": "Add edge case: Admin removes self as agent with expected behavior. Clarify if admin access is retained.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add edge case: Admin removes self as agent with expected behavior. Clarify if admin access is retained.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-689",
      "feature": "Agent API",
      "category": "API-agent-api",
      "title": "Rollback Flow on Billing Failure Not Shown in Data Flow",
      "severity": "low",
      "location": "Section 3 - Detailed Logic, Section 6 - Reliability",
      "issue": "The ADMIN SENDS INVITE data flow shows sequential steps but does not show error path for billing failure. Section 6 Reliability mentions invite is deleted on seat add failure but the data flow diagram omits this rollback logic.",
      "suggested_fix": "Add error branch to data flow diagram showing: If billing fails, delete invite record, return error.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add error branch to data flow diagram showing: If billing fails, delete invite record, return error.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-690",
      "feature": "Agent API",
      "category": "API-agent-api",
      "title": "Potential Documentation Drift with Invites API",
      "severity": "low",
      "location": "Section 9 - Related Features",
      "issue": "This document contains extensive invite handling logic but Section 9 references a separate Invites API document. Having invite logic documented in two places creates potential for documentation drift.",
      "suggested_fix": "Clearly delineate ownership. Agent API doc should reference Invites API for invite details, or consolidate all invite logic into one document.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Clearly delineate ownership. Agent API doc should reference Invites API for invite details, or consolidate all invite logic into one document.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-691",
      "feature": "Agent API",
      "category": "API-agent-api",
      "title": "No REST Endpoints for Agent List/Get/Update",
      "severity": "low",
      "location": "Section 7 - Identified Issues, Section 10 - Open Questions",
      "issue": "Documentation notes no dedicated list/get/update REST endpoints. All CRUD except delete uses client Supabase calls. This hybrid architecture makes it harder to add middleware, rate limiting, or audit logging for all agent operations.",
      "suggested_fix": "If full API consistency is desired, create /api/agents routes for list, get, update. If current approach is intentional, document the architectural decision.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "If full API consistency is desired, create /api/agents routes for list, get, update. If current approach is intentional, document the architectural decision.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-692",
      "feature": "Agent API",
      "category": "API-agent-api",
      "title": "Minimize Button Hidden on First Visit - Poor Discoverability",
      "severity": "medium",
      "location": "Section 7 - Identified Issues; Section 5 - UX Review (Step 9)",
      "issue": "Documentation explicitly flags: \"Minimize button hidden on first visit | Users can't dismiss widget without calling | üü° Medium\". The UX Review also notes \"‚ö†Ô∏è Not always visible on first visit\". Visitors who want to dismiss the widget without making a call have no way to do so unless `show_minimize_button` is enabled by admin (default is `false`).",
      "suggested_fix": "Consider changing default of `show_minimize_button` to `true`, or provide an alternative dismiss affordance (close button, click-away-to-minimize).",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Consider changing default of `show_minimize_button` to `true`, or provide an alternative dismiss affordance (close button, click-away-to-minimize).",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-693",
      "feature": "Agent API",
      "category": "API-agent-api",
      "title": "No Full Keyboard Navigation - Accessibility Gap",
      "severity": "medium",
      "location": "Section 5 - Accessibility",
      "issue": "Documentation notes \"Keyboard navigation: ‚ö†Ô∏è Escape key supported, but no full keyboard nav\". Users who rely on keyboard navigation cannot tab through widget controls, focus interactive elements, or navigate the widget without a mouse.",
      "suggested_fix": "Implement full keyboard navigation with tabindex, focus management, and focus-visible styles on all interactive elements.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Implement full keyboard navigation with tabindex, focus management, and focus-visible styles on all interactive elements.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-694",
      "feature": "Agent API",
      "category": "API-agent-api",
      "title": "\"Tap to Unmute\" Overlay Not Prominent Enough",
      "severity": "low",
      "location": "Section 5 - UX Review, Step 3",
      "issue": "UX Review notes \"‚ö†Ô∏è 'Tap to unmute' overlay could be more prominent\" for the audio unlock interaction. Users may not understand why video plays silently or miss the prompt to enable audio.",
      "suggested_fix": "Make tap-to-unmute overlay more visually prominent with animation, larger text, or pulsing indicator.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Make tap-to-unmute overlay more visually prominent with animation, larger text, or pulsing indicator.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-695",
      "feature": "Agent API",
      "category": "API-agent-api",
      "title": "Widget Position Not Persisted Across Page Navigation",
      "severity": "low",
      "location": "Section 7 - Identified Issues; Section 10 - Open Questions #1",
      "issue": "Documentation flags: \"Widget position not persisted | Position resets on page navigation | üü¢ Low\" and Open Question #1 asks \"Should widget position persist across page navigations?\". If a visitor drags the widget to a preferred position, it resets to server-configured position on navigation, requiring repeated repositioning.",
      "suggested_fix": "Store dragged position in localStorage alongside other widget state. Low priority but improves UX.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Store dragged position in localStorage alongside other widget state. Low priority but improves UX.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-696",
      "feature": "Agent API",
      "category": "API-agent-api",
      "title": "Auto-Hide Preference Not Remembered",
      "severity": "low",
      "location": "Section 7 - Identified Issues; Section 10 - Open Questions #2",
      "issue": "Documentation flags: \"Auto-hide resets on page navigation | User preference not remembered | üü¢ Low\". If widget auto-hides and user expands it, that preference is not persisted, leading to repeated auto-hide on subsequent pages.",
      "suggested_fix": "Store \"user has manually expanded after auto-hide\" flag in localStorage.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Store \"user has manually expanded after auto-hide\" flag in localStorage.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-697",
      "feature": "Agent API",
      "category": "API-agent-api",
      "title": "No \"Close\" Option - Only Minimize Available",
      "severity": "medium",
      "location": "Section 10 - Open Questions #3",
      "issue": "Open Question #3 asks \"Should there be a 'close' option (not just minimize)?\". Some visitors may want to completely dismiss the widget for their session rather than just minimize it. Currently there's no way to fully close/hide the widget - it always remains as a minimized button.",
      "suggested_fix": "Consider adding a \"close for this session\" option that hides widget completely until page refresh or new session. Store in sessionStorage.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Consider adding a \"close for this session\" option that hides widget completely until page refresh or new session. Store in sessionStorage.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-698",
      "feature": "Agent API",
      "category": "API-agent-api",
      "title": "Minimized Position Inconsistent with Expanded Position",
      "severity": "low",
      "location": "Section 10 - Open Questions #5",
      "issue": "Open Question #5 notes \"Should center position use a different minimized location? Currently minimized always goes to bottom-right regardless of expanded position.\" If a visitor drags the widget to top-left and it minimizes, the minimized button appears at bottom-right, which could be confusing as the widget \"jumps\" across the screen.",
      "suggested_fix": "Consider making minimized position match the expanded position (or nearest corner if center).",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Consider making minimized position match the expanded position (or nearest corner if center).",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-699",
      "feature": "Agent API",
      "category": "API-agent-api",
      "title": "Referenced Feature Docs Do Not Exist",
      "severity": "medium",
      "location": "Section 9 - Related Features",
      "issue": "Section 9 references `./widget-theming.md` (V6) and `./device-detection.md` (V7) but these files do not exist in the `docs/features/visitor/` directory. The feature IDs V6 and V7 imply these are part of the visitor feature set but they are missing.",
      "suggested_fix": "Either create the missing documentation files for widget-theming and device-detection, or remove/update the references. The theming logic is in widget-styles.ts and device detection is in Widget.tsx - these may warrant their own feature docs.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Either create the missing documentation files for widget-theming and device-detection, or remove/update the references. The theming logic is in widget-styles.ts and device detection is in Widget.tsx - these may warrant their own feature docs.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-700",
      "feature": "Agent API",
      "category": "API-agent-api",
      "title": "Large Monolithic Code Files",
      "severity": "low",
      "location": "Section 8 - Code References",
      "issue": "Widget.tsx is 1380 lines and widget-styles.ts is 1685 lines. These large files could be difficult to maintain, test, and reason about. High line counts may indicate too many responsibilities in single files.",
      "suggested_fix": "Consider splitting Widget.tsx into smaller components (e.g., MinimizedWidget, ExpandedWidget, CallState, DragHandler). Split widget-styles.ts into modular style files by concern (base, themes, positions, states).",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Consider splitting Widget.tsx into smaller components (e.g., MinimizedWidget, ExpandedWidget, CallState, DragHandler). Split widget-styles.ts into modular style files by concern (base, themes, positions, states).",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-701",
      "feature": "Agent API",
      "category": "API-agent-api",
      "title": "Call Reconnection Expiry Not Fully Documented",
      "severity": "low",
      "location": "Section 4 - Edge Cases, Row 5",
      "issue": "Edge case #5 mentions \"Call reconnects via localStorage token\" with \"5 min expiry\" but doesn't document what happens when the token expires. Does the widget show an error? Does it silently fail? Does the visitor see a \"call ended\" message?",
      "suggested_fix": "Document the complete flow for reconnection token expiry: what the visitor sees, whether they can re-initiate a call, and how the agent-side handles this.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Document the complete flow for reconnection token expiry: what the visitor sees, whether they can re-initiate a call, and how the agent-side handles this.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-702",
      "feature": "Agent API",
      "category": "API-agent-api",
      "title": "Hidden State Transition When Agent Becomes Unavailable Mid-Call",
      "severity": "medium",
      "location": "Section 2 - State Machine",
      "issue": "The state machine shows `in_call ‚Üí in_call: Reconnection (page nav)` but doesn't show what happens if the agent becomes unavailable during an active call. Other states (open, minimized, waiting_for_agent) show transitions to `hidden` when agent unavailable, but `in_call` doesn't. Is the call terminated? Does it show an error?",
      "suggested_fix": "Add explicit transition from `in_call` state when agent becomes unavailable, documenting whether call ends gracefully, shows error, or attempts reconnection.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add explicit transition from `in_call` state when agent becomes unavailable, documenting whether call ends gracefully, shows error, or attempts reconnection.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-703",
      "feature": "Agent API",
      "category": "API-agent-api",
      "title": "Max Z-Index May Conflict with Host Website Overlays",
      "severity": "low",
      "location": "Section 6 - Security",
      "issue": "Widget uses `z-index: 2147483647` (JavaScript max safe integer for 32-bit signed) to prevent clickjacking. However, this may conflict with host website's modal dialogs, cookie consent banners, or other critical overlays that also use high z-index values, potentially causing UX issues on some sites.",
      "suggested_fix": "Document this behavior for admins installing the widget. Consider making z-index configurable or using a slightly lower value that still prevents most clickjacking.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Document this behavior for admins installing the widget. Consider making z-index configurable or using a slightly lower value that still prevents most clickjacking.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-704",
      "feature": "Call Analytics",
      "category": "STATS-call-analytics",
      "title": "500 Row Limit Without Pagination Blocks Access to Historical Data",
      "severity": "medium",
      "location": "Section 7 - Identified Issues, Row 1; Section 10 - Open Questions #1",
      "issue": "Documentation explicitly flags: \"500 row limit not paginated - Can't see older calls - Medium - Add pagination or infinite scroll\". For organizations with high call volume, calls older than a few weeks would be completely inaccessible. This limits the feature's usefulness for trend analysis and historical auditing.",
      "suggested_fix": "Implement cursor-based pagination or infinite scroll. Consider server-side aggregations for older data that don't need individual call access.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Implement cursor-based pagination or infinite scroll. Consider server-side aggregations for older data that don't need individual call access.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-705",
      "feature": "Call Analytics",
      "category": "STATS-call-analytics",
      "title": "Coverage Calculation Has O(n√óm) Complexity - Performance Risk",
      "severity": "medium",
      "location": "Section 6 - Performance, Row 2 and 3; Section 10 - Open Questions #3",
      "issue": "Documentation flags: \"Coverage calculation | Iterates all pageviews/sessions | ‚ö†Ô∏è O(n√óm) complexity\" and \"Hourly coverage | Loops 24√ódays√ósessions | ‚ö†Ô∏è Could be slow for long ranges\". For organizations with high traffic and long date ranges, this calculation could cause significant page load delays.",
      "suggested_fix": "Pre-calculate coverage metrics hourly/daily via background job and store aggregated results. Alternatively, limit date range selection to max 90 days.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Pre-calculate coverage metrics hourly/daily via background job and store aggregated results. Alternatively, limit date range selection to max 90 days.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-706",
      "feature": "Call Analytics",
      "category": "STATS-call-analytics",
      "title": "Call Duration Outliers Skew Average Metrics",
      "severity": "low",
      "location": "Section 4 - Edge Cases #4; Section 7 - Identified Issues Row 3; Section 10 - Open Questions #2",
      "issue": "Edge case #4 is marked ‚ö†Ô∏è: \"Call duration outliers | Very long calls | Included in average (no capping) | ‚ö†Ô∏è | May skew averages\". A single 4-hour call (e.g., left open accidentally) would significantly distort the \"Avg Call Duration\" metric, making it misleading for planning purposes.",
      "suggested_fix": "Display median in addition to mean, or trim outliers beyond 2 standard deviations. Alternatively, cap call duration at org-configurable threshold (e.g., 2 hours).",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Display median in addition to mean, or trim outliers beyond 2 standard deviations. Alternatively, cap call duration at org-configurable threshold (e.g., 2 hours).",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-707",
      "feature": "Call Analytics",
      "category": "STATS-call-analytics",
      "title": "No Debounce on Rapid Filter Changes",
      "severity": "low",
      "location": "Section 4 - Edge Cases #19",
      "issue": "Edge case #19 is marked ‚ö†Ô∏è: \"Rapid filter changes | User spam clicks | Each triggers server refresh | ‚ö†Ô∏è | No debounce visible\". A user rapidly clicking filters could trigger multiple expensive database queries in succession, potentially causing rate limiting or poor UX with flashing results.",
      "suggested_fix": "Implement 300-500ms debounce on filter changes before triggering server re-fetch. Consider showing \"Apply\" button for complex filter scenarios.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Implement 300-500ms debounce on filter changes before triggering server re-fetch. Consider showing \"Apply\" button for complex filter scenarios.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-708",
      "feature": "Call Analytics",
      "category": "STATS-call-analytics",
      "title": "Long Date Ranges Have No Enforced Limit",
      "severity": "low",
      "location": "Section 4 - Edge Cases #20",
      "issue": "Edge case #20 is marked ‚ö†Ô∏è: \"Date range > 1 year | Long analysis | Works but slow | ‚ö†Ô∏è | No limit enforced\". Combined with the O(n√óm) coverage calculation, a user selecting a multi-year date range could trigger extremely slow queries that degrade experience for everyone on shared infrastructure.",
      "suggested_fix": "Enforce max date range (e.g., 365 days) with clear messaging. For longer analysis, suggest CSV export or provide pre-aggregated yearly summaries.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Enforce max date range (e.g., 365 days) with clear messaging. For longer analysis, suggest CSV export or provide pre-aggregated yearly summaries.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-709",
      "feature": "Call Analytics",
      "category": "STATS-call-analytics",
      "title": "Recording URL Expiration Causes Unrecoverable Data Loss",
      "severity": "high",
      "location": "Section 4 - Error States, Row 2",
      "issue": "Error States table shows: \"Recording URL expired | Old S3 links | Video/audio won't play | No recovery (data lost)\". Signed S3 URLs have expiration times. Once expired, organizations permanently lose access to call recordings. This is a critical data retention issue, especially for compliance-sensitive industries.",
      "suggested_fix": "Implement URL refresh mechanism that generates new signed URLs on demand. Store recording references (not signed URLs) in database and sign on access.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "ticketed",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Implement URL refresh mechanism that generates new signed URLs on demand. Store recording references (not signed URLs) in database and sign on access.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-710",
      "feature": "Call Analytics",
      "category": "STATS-call-analytics",
      "title": "Supabase Query Failure Shows No Explicit Error",
      "severity": "medium",
      "location": "Section 4 - Error States, Row 1; Section 7 - First Principles Review #5",
      "issue": "Error States shows: \"Supabase query fails | Database issue | Empty results, no explicit error | Page refresh\". First Principles #5 confirms \"Are errors recoverable? ‚ö†Ô∏è Mostly - No explicit error states shown\". Users would see empty results with no way to know if there's no data vs. a system error.",
      "suggested_fix": "Implement explicit error boundary that catches query failures and displays \"Unable to load call data. Please try again.\" with retry button.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Implement explicit error boundary that catches query failures and displays \"Unable to load call data. Please try again.\" with retry button.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-711",
      "feature": "Call Analytics",
      "category": "STATS-call-analytics",
      "title": "Table Rows Not Keyboard Focusable - Accessibility Gap",
      "severity": "medium",
      "location": "Section 5 - Accessibility",
      "issue": "Accessibility audit shows: \"Keyboard navigation: ‚ö†Ô∏è Table rows not focusable\". Users who rely on keyboard navigation cannot access call row details, expand transcriptions, or play recordings without a mouse. This is a WCAG 2.1 Level A violation.",
      "suggested_fix": "Add tabindex=\"0\" to interactive table rows. Implement keyboard handlers for Enter (expand) and Space (play recording).",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add tabindex=\"0\" to interactive table rows. Implement keyboard handlers for Enter (expand) and Space (play recording).",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-712",
      "feature": "Call Analytics",
      "category": "STATS-call-analytics",
      "title": "Icons Lack Aria-Labels - Screen Reader Gap",
      "severity": "low",
      "location": "Section 5 - Accessibility",
      "issue": "Accessibility audit shows: \"Screen reader support: ‚ö†Ô∏è Icons lack aria-labels\". Status icons (accepted, missed, rejected), action icons (play, expand, export) are not accessible to screen reader users, making the interface unusable for visually impaired users.",
      "suggested_fix": "Add aria-label to all icon buttons (e.g., aria-label=\"Play recording\" on play button). Use sr-only text for status icons.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add aria-label to all icon buttons (e.g., aria-label=\"Play recording\" on play button). Use sr-only text for status icons.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-713",
      "feature": "Call Analytics",
      "category": "STATS-call-analytics",
      "title": "No Loading Indicators During Data Fetch",
      "severity": "low",
      "location": "Section 5 - Accessibility; Section 7 - First Principles Review #3; Section 7 - Identified Issues Row 2",
      "issue": "Multiple places flag this: Accessibility shows \"Loading states: ‚ö†Ô∏è No skeleton loaders during fetch\", First Principles says \"Is feedback immediate? ‚ö†Ô∏è Mostly - No loading indicators during filter apply\", and Identified Issues lists \"No loading indicators - User confused on slow queries - Low - Add skeleton loaders\".",
      "suggested_fix": "Add skeleton loaders for stat cards and table during initial load. Show subtle spinner or progress bar during filter re-fetch.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add skeleton loaders for stat cards and table during initial load. Show subtle spinner or progress bar during filter re-fetch.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-714",
      "feature": "Call Analytics",
      "category": "STATS-call-analytics",
      "title": "No Real-Time Updates for New Calls",
      "severity": "low",
      "location": "Section 10 - Open Questions #4",
      "issue": "Open Question #4 asks: \"Should we add real-time updates? Currently requires page refresh to see new calls.\" Admins monitoring live call activity must manually refresh to see new calls, which is suboptimal for active monitoring scenarios.",
      "suggested_fix": "Implement Supabase Realtime subscription for new call_logs within current filter. Show \"New calls available\" toast that auto-updates or prompts refresh.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Implement Supabase Realtime subscription for new call_logs within current filter. Show \"New calls available\" toast that auto-updates or prompts refresh.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-715",
      "feature": "Call Analytics",
      "category": "STATS-call-analytics",
      "title": "No Saved Filter Presets for Repetitive Analysis",
      "severity": "low",
      "location": "Section 7 - Identified Issues Row 5; Section 10 - Open Questions #5",
      "issue": "Identified Issues flags: \"No saved filter presets - Repetitive filter setup - Low - Add filter presets\". Open Question #5 elaborates: \"Admins analyzing the same segments repeatedly would benefit.\" Power users must manually recreate complex filter combinations each session.",
      "suggested_fix": "Add \"Save filter preset\" with naming capability. Store in localStorage or user_preferences. Consider org-wide shared presets for common analyses.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add \"Save filter preset\" with naming capability. Store in localStorage or user_preferences. Consider org-wide shared presets for common analyses.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-716",
      "feature": "Call Analytics",
      "category": "STATS-call-analytics",
      "title": "First Principles vs UX Audit Contradiction",
      "severity": "low",
      "location": "Section 5 - UX Audit vs Section 7 - First Principles Review",
      "issue": "The UX Audit in Section 5 shows all steps as \"Clear? ‚úÖ\" with no issues, but First Principles Review in Section 7 marks \"Is feedback immediate? ‚ö†Ô∏è\" and \"Are errors recoverable? ‚ö†Ô∏è\". These sections contradict each other on the quality of the user experience.",
      "suggested_fix": "Reconcile the UX Audit to reflect the known gaps. Add \"Issues\" column entries for loading state and error feedback gaps.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Reconcile the UX Audit to reflect the known gaps. Add \"Issues\" column entries for loading state and error feedback gaps.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-717",
      "feature": "Call Analytics",
      "category": "STATS-call-analytics",
      "title": "Ambiguous \"Total Answers\" Definition May Cause Confusion",
      "severity": "low",
      "location": "Section 2 - Key Metrics Calculated",
      "issue": "The metrics table defines \"Total Answers\" as \"Count where status = 'accepted' OR 'completed'\". It's unclear why \"accepted\" alone counts as an answer when \"completed\" implies successful resolution. An accepted call that immediately drops should arguably be counted differently than a completed call.",
      "suggested_fix": "Clarify the business definition: Does \"answered\" mean agent picked up, or call was successfully completed? Consider renaming to \"Calls Connected\" if the former.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Clarify the business definition: Does \"answered\" mean agent picked up, or call was successfully completed? Consider renaming to \"Calls Connected\" if the former.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-718",
      "feature": "Call Analytics",
      "category": "STATS-call-analytics",
      "title": "No Proactive Low Coverage Alerts",
      "severity": "low",
      "location": "Section 10 - Open Questions #6",
      "issue": "Open Question #6 asks: \"Should there be alerts for low coverage? Currently just displays data, no proactive notifications.\" Organizations may not check the dashboard regularly and could miss periods of poor coverage until customer complaints surface.",
      "suggested_fix": "Implement configurable coverage threshold alerts (e.g., email admin when coverage drops below 50% for 3 consecutive hours). Add to notification settings.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Implement configurable coverage threshold alerts (e.g., email admin when coverage drops below 50% for 3 consecutive hours). Add to notification settings.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-719",
      "feature": "Error Tracking",
      "category": "M-error-tracking",
      "title": "No Sensitive Data Scrubbing Configured",
      "severity": "medium",
      "location": "Section 6 - Security; Section 7 - Identified Issues; Edge Case #12",
      "issue": "Multiple locations in the documentation explicitly flag that no `beforeSend` filter is configured to scrub PII from error data sent to Sentry. Section 6 Security table shows \"‚ö†Ô∏è No automatic scrubbing configured\". Edge Case #12 states \"Sensitive data in error | PII in exception message | Sent to Sentry as-is | ‚ö†Ô∏è\". This means emails, names, and other personal data in exception messages are transmitted to a third-party service.",
      "suggested_fix": "Implement a `beforeSend` hook in Sentry config files to strip common PII patterns (emails, names, phone numbers) from error messages before transmission.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Implement a `beforeSend` hook in Sentry config files to strip common PII patterns (emails, names, phone numbers) from error messages before transmission.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-720",
      "feature": "Error Tracking",
      "category": "M-error-tracking",
      "title": "Widget Errors During WebRTC Are Invisible",
      "severity": "medium",
      "location": "Section 4 - Edge Case #7; Section 7 - Identified Issues; Section 10 - Open Question #1",
      "issue": "Edge Case #7 notes \"Error during WebRTC | Peer connection fail | Dashboard side captured only | ‚ö†Ô∏è | Widget errors lost\". When a WebRTC error occurs on the visitor side (in the widget), this error is completely invisible to developers. Section 7 marks \"Widget has no error tracking | Customer-site errors invisible\" as Medium severity.",
      "suggested_fix": "Implement a lightweight error boundary in the widget that POSTs critical errors (especially WebRTC failures) to the signaling server, which then forwards to Sentry.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Implement a lightweight error boundary in the widget that POSTs critical errors (especially WebRTC failures) to the signaling server, which then forwards to Sentry.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-721",
      "feature": "Error Tracking",
      "category": "M-error-tracking",
      "title": "Server Events Lost When Sentry Unreachable",
      "severity": "medium",
      "location": "Section 4 - Edge Case #8; Section 6 - Reliability; Section 7 - Identified Issues",
      "issue": "Edge Case #8 states \"Network timeout to Sentry | No connectivity | Events queued in browser, lost on server | ‚ö†Ô∏è | No offline queue on server\". The browser SDK queues events during network issues, but the server SDK drops them.",
      "suggested_fix": "Implement server-side event buffering using disk or Redis with retry logic when Sentry becomes available.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Implement server-side event buffering using disk or Redis with retry logic when Sentry becomes available.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-722",
      "feature": "Error Tracking",
      "category": "M-error-tracking",
      "title": "100% Trace Sample Rate Unsustainable at Scale",
      "severity": "low",
      "location": "Section 7 - Identified Issues; Section 10 - Open Question #3; Configuration Reference",
      "issue": "The Sample Rates Summary table shows tracesSampleRate at 100% for all four environments. Section 7 identifies \"100% trace sample rate | High Sentry costs\" as Low severity.",
      "suggested_fix": "Reduce tracesSampleRate to 10-20% for production environments while keeping higher rates for development/staging.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Reduce tracesSampleRate to 10-20% for production environments while keeping higher rates for development/staging.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-723",
      "feature": "Error Tracking",
      "category": "M-error-tracking",
      "title": "Sentry Alert Configuration Undocumented",
      "severity": "low",
      "location": "Section 10 - Open Question #5",
      "issue": "Open Question #5 notes \"Are Sentry alerts configured? The code shows SDK setup but alert rules are configured in Sentry UI - not documented here what rules exist.\"",
      "suggested_fix": "Document current Sentry alert rules in this feature doc or a separate runbook.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Document current Sentry alert rules in this feature doc or a separate runbook.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-724",
      "feature": "Error Tracking",
      "category": "M-error-tracking",
      "title": "No Client-Side Rate Limiting for High Error Volume",
      "severity": "low",
      "location": "Section 4 - Edge Case #9; Section 6 - Reliability",
      "issue": "Edge Case #9 states \"High error volume | Thousands of errors | All sent (no rate limiting configured) | ‚ö†Ô∏è | Could hit Sentry quota\".",
      "suggested_fix": "Configure Sentry sampleRate or custom rate limiting logic to cap errors per session/minute.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Configure Sentry sampleRate or custom rate limiting logic to cap errors per session/minute.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-725",
      "feature": "Error Tracking",
      "category": "M-error-tracking",
      "title": "Source Map Upload Failure Allows Build to Continue",
      "severity": "low",
      "location": "Section 4 - Edge Case #11",
      "issue": "Edge Case #11 notes \"Source map upload fails | CI build issue | Errors show minified stack | ‚ö†Ô∏è | Build continues\".",
      "suggested_fix": "Make source map upload failure a blocking CI step, or add prominent alerting when upload fails.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Make source map upload failure a blocking CI step, or add prominent alerting when upload fails.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-726",
      "feature": "Error Tracking",
      "category": "M-error-tracking",
      "title": "Related Feature Link References Inconsistent Filename",
      "severity": "low",
      "location": "Section 9 - Related Features",
      "issue": "Section 9 links to \"[Uptime Monitoring (M1)](./UPTIME_MONITORING.md)\" but the file may be differently cased.",
      "suggested_fix": "Verify the exact filename exists and update the link if needed.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Verify the exact filename exists and update the link if needed.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-727",
      "feature": "Error Tracking",
      "category": "M-error-tracking",
      "title": "Environment Differentiation for Sample Rates Unclear",
      "severity": "low",
      "location": "Configuration Reference - Sample Rates Summary",
      "issue": "The Sample Rates Summary table shows 100% for all environments but does not indicate if these rates should differ between development/staging/production.",
      "suggested_fix": "Add guidance to Configuration Reference explaining how to set environment-specific sample rates.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add guidance to Configuration Reference explaining how to set environment-specific sample rates.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-728",
      "feature": "Error Tracking",
      "category": "M-error-tracking",
      "title": "No Guidance on What Constitutes a Critical Error for Alerting",
      "severity": "low",
      "location": "Sections 3, 4 (general)",
      "issue": "While the documentation thoroughly covers what errors are captured, there is no guidance on error severity classification for alerting purposes.",
      "suggested_fix": "Add a subsection under Triggers and Events that classifies errors by business impact to guide alert configuration in Sentry.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add a subsection under Triggers and Events that classifies errors by business impact to guide alert configuration in Sentry.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-729",
      "feature": "Billing API",
      "category": "API-billing-api",
      "title": "State Machine Diagram Missing \"paused\" State",
      "severity": "high",
      "location": "Section 2 - State Machine and State Definitions",
      "issue": "The State Definitions table includes a \"paused\" state with description \"Account paused by admin\" but this state is completely absent from the State Machine diagram. The diagram shows transitions between (none), trialing, active, past_due, and cancelled - but no paused state or any transitions to/from it. This creates confusion about whether paused is a valid state and how it integrates with the subscription lifecycle.",
      "suggested_fix": "Either add \"paused\" to the state diagram with proper transitions (e.g., active ‚Üí paused ‚Üí active), or remove it from State Definitions if it's not actually implemented. If paused is separate from Stripe subscription state, document that clearly.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "skipped",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Either add \"paused\" to the state diagram with proper transitions (e.g., active ‚Üí paused ‚Üí active), or remove it from State Definitions if it's not actually implemented. If paused is separate from Stripe subscription state, document that clearly.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-730",
      "feature": "Billing API",
      "category": "API-billing-api",
      "title": "Unknown Stripe Status Defaults to \"active\" - Security Risk",
      "severity": "high",
      "location": "Section 4 - Edge Cases, Row 20",
      "issue": "Edge case #20 states: \"Unknown Stripe status | subscription.updated | Defaults to 'active', logs warning | ‚ö†Ô∏è Conservative fallback\". Defaulting to \"active\" for unknown statuses is NOT conservative - it grants access when status is uncertain. An unknown status could indicate account suspension, fraud, or a new Stripe status not yet mapped. Granting active status by default could allow access to users who should be restricted.",
      "suggested_fix": "Default unknown statuses to \"past_due\" or a new \"unknown\" status that restricts access while logging for investigation. Active should only be set for explicitly known good statuses.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Default unknown statuses to \"past_due\" or a new \"unknown\" status that restricts access while logging for investigation. Active should only be set for explicitly known good statuses.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-731",
      "feature": "Billing API",
      "category": "API-billing-api",
      "title": "Seat Removal Not Reducing Billing - User Expectation Mismatch",
      "severity": "high",
      "location": "Section 2 - Seat Management, Section 5 - Step 5",
      "issue": "Documentation explicitly flags in Section 5: \"Remove team member | Seat freed (no billing change) | ‚ö†Ô∏è User may expect billing reduction\". The pre-paid model means admins who remove agents continue paying for those seats. This is counter-intuitive - users naturally expect that removing a seat reduces their bill. Without clear upfront explanation, this feels like being overcharged.",
      "suggested_fix": "Add prominent UI messaging when removing an agent: \"Your seat count will remain at X. To reduce billing, go to Billing Settings and lower your seat count.\" Consider showing \"unused seats\" prominently in billing dashboard.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "skipped",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add prominent UI messaging when removing an agent: \"Your seat count will remain at X. To reduce billing, go to Billing Settings and lower your seat count.\" Consider showing \"unused seats\" prominently in billing dashboard.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-732",
      "feature": "Billing API",
      "category": "API-billing-api",
      "title": "No Timeout Handling on Stripe API Calls",
      "severity": "medium",
      "location": "Section 6 - Performance, Section 7 - Identified Issues",
      "issue": "Documentation explicitly identifies: \"Stripe API latency | Async calls, no timeout handling | ‚ö†Ô∏è Could add timeouts\" and Identified Issues lists \"No explicit timeout on Stripe calls | Long hangs on Stripe issues | üü° Medium\". If Stripe is slow or unresponsive, API requests will hang indefinitely, causing poor user experience and potential resource exhaustion.",
      "suggested_fix": "Add AbortController with 30-second timeout to all Stripe API calls. Return user-friendly error: \"Payment system is temporarily slow. Please try again in a moment.\"",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add AbortController with 30-second timeout to all Stripe API calls. Return user-friendly error: \"Payment system is temporarily slow. Please try again in a moment.\"",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-733",
      "feature": "Billing API",
      "category": "API-billing-api",
      "title": "Six-Month Offer Loss Not Warned - Irreversible Action",
      "severity": "medium",
      "location": "Section 3 - Update Settings Data Flow, Section 7 - Identified Issues",
      "issue": "Documentation states: \"Switching away from six_month ‚Üí lose offer forever\" and Identified Issues notes \"six_month offer loss not warned | Users may accidentally lose discount | üü° Medium\". This is an irreversible action with no confirmation. An admin could switch from 6-month to monthly billing without realizing they can never switch back.",
      "suggested_fix": "Add confirmation dialog: \"Warning: Switching away from 6-month billing is permanent. You won't be able to return to this discounted rate. Are you sure?\" with explicit \"Cancel\" and \"Switch Anyway\" buttons.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add confirmation dialog: \"Warning: Switching away from 6-month billing is permanent. You won't be able to return to this discounted rate. Are you sure?\" with explicit \"Cancel\" and \"Switch Anyway\" buttons.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-734",
      "feature": "Billing API",
      "category": "API-billing-api",
      "title": "No Rate Limiting on Billing Endpoints",
      "severity": "medium",
      "location": "Section 7 - Identified Issues, Section 10 - Open Questions #4",
      "issue": "Documentation identifies: \"No rate limiting on billing endpoints | Potential abuse | üü¢ Low\" and asks \"Should billing endpoints have stricter rate limiting?\". Billing endpoints create real costs (Stripe API calls, subscription changes). Without specific rate limiting, malicious actors could spam subscription creation attempts or trigger excessive Stripe API calls.",
      "suggested_fix": "Add billing-specific rate limiting: 5 requests/minute per user for create-subscription, 20 requests/minute for seats endpoint, 10 requests/minute for update-settings.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add billing-specific rate limiting: 5 requests/minute per user for create-subscription, 20 requests/minute for seats endpoint, 10 requests/minute for update-settings.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-735",
      "feature": "Billing API",
      "category": "API-billing-api",
      "title": "No Audit Logging for Billing Changes",
      "severity": "medium",
      "location": "Section 7 - Identified Issues, Section 10 - Open Questions #6",
      "issue": "Documentation notes: \"No audit logging | Can't track billing changes | üü¢ Low | Add billing_events table\" and Open Question #6 asks: \"Should there be a billing audit log? Currently no historical record of billing changes.\" For financial operations, audit trails are typically required for compliance and dispute resolution. There's no record of who changed seats, when subscriptions were modified, or billing frequency changes.",
      "suggested_fix": "Create billing_audit_log table with: timestamp, user_id, org_id, action (created_subscription, updated_seats, changed_frequency), old_value, new_value, ip_address. Log all billing endpoint actions.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Create billing_audit_log table with: timestamp, user_id, org_id, action (created_subscription, updated_seats, changed_frequency), old_value, new_value, ip_address. Log all billing endpoint actions.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-736",
      "feature": "Billing API",
      "category": "API-billing-api",
      "title": "No Alert System for Failed Stripe Operations",
      "severity": "medium",
      "location": "Section 10 - Open Questions #1",
      "issue": "Open Question #1 asks: \"Should failed Stripe operations trigger alerts? Currently just logged - consider Sentry integration for billing failures.\" Billing failures are critical business events. If Stripe subscription creation fails repeatedly, or webhooks fail, no one is alerted. Failed payment method setups could indicate fraud or system issues.",
      "suggested_fix": "Integrate Sentry alerts for: subscription creation failures, webhook signature failures, repeated payment failures, and any 500 errors on billing endpoints. Consider PagerDuty integration for critical billing issues.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Integrate Sentry alerts for: subscription creation failures, webhook signature failures, repeated payment failures, and any 500 errors on billing endpoints. Consider PagerDuty integration for critical billing issues.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-737",
      "feature": "Billing API",
      "category": "API-billing-api",
      "title": "Authorization Inconsistency for Seats Endpoint",
      "severity": "medium",
      "location": "Section 3 - Key Functions/Components, API Reference - POST /api/billing/seats",
      "issue": "The update-settings endpoint requires admin role (\"Auth: Required (admin role only)\") but the seats endpoint allows \"any authenticated user\" per the API Reference. However, adding/removing seats is a billing operation with financial impact. If any authenticated user can call /api/billing/seats, a regular agent could potentially manipulate seat counts. The invites/agents APIs that call this endpoint may not properly validate caller permissions.",
      "suggested_fix": "Verify that seats endpoint validates admin role OR ensure it's only called through properly-protected invite/agent APIs. Document the expected authorization chain clearly.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Verify that seats endpoint validates admin role OR ensure it's only called through properly-protected invite/agent APIs. Document the expected authorization chain clearly.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-738",
      "feature": "Billing API",
      "category": "API-billing-api",
      "title": "Long-Term Stripe Outage Behavior Undefined",
      "severity": "medium",
      "location": "Section 10 - Open Questions #5",
      "issue": "Open Question #5 asks: \"What's the expected behavior when Stripe is down long-term? Dev mode works, but production could be stuck.\" If Stripe has extended downtime, new signups cannot subscribe, existing users cannot update billing, and webhook events queue up. There's no documented graceful degradation or manual override process.",
      "suggested_fix": "Document Stripe outage runbook: how to monitor Stripe status, manual subscription activation process for emergencies, grace period policy during outages. Consider caching last-known subscription status.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Document Stripe outage runbook: how to monitor Stripe status, manual subscription activation process for emergencies, grace period policy during outages. Consider caching last-known subscription status.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-739",
      "feature": "Billing API",
      "category": "API-billing-api",
      "title": "Proration Handling Not Documented for Users",
      "severity": "low",
      "location": "Section 5 - Step 6, Section 10 - Open Questions #2",
      "issue": "Section 5 shows \"Change billing frequency | Proration applied | ‚úÖ\" but Open Question #2 notes: \"What happens to mid-cycle prorations? Stripe handles automatically, but not documented for users.\" Users switching billing frequency mid-cycle don't know if they'll be charged immediately, credited, or how the proration is calculated. This creates billing surprise anxiety.",
      "suggested_fix": "Before confirming frequency change, show proration preview: \"You'll be charged $X today (prorated for remaining period) and $Y on your next billing date.\"",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Before confirming frequency change, show proration preview: \"You'll be charged $X today (prorated for remaining period) and $Y on your next billing date.\"",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-740",
      "feature": "Billing API",
      "category": "API-billing-api",
      "title": "7-Day Trial Period Hardcoded",
      "severity": "low",
      "location": "Section 2 - High-Level Flow, Section 10 - Open Questions #3",
      "issue": "Documentation shows trial is fixed at 7 days and Open Question #3 asks: \"Is the 7-day trial period configurable? Currently hardcoded - should it be per-org?\" Different customer segments (enterprise, partners, promotions) may need different trial lengths. Hardcoding prevents sales flexibility.",
      "suggested_fix": "Add TRIAL_DAYS environment variable defaulting to 7. Consider per-org override via organizations.trial_days field set by superadmin.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add TRIAL_DAYS environment variable defaulting to 7. Consider per-org override via organizations.trial_days field set by superadmin.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-741",
      "feature": "Billing API",
      "category": "API-billing-api",
      "title": "Related Features Incorrectly Marked as \"planned\"",
      "severity": "low",
      "location": "Section 9 - Related Features",
      "issue": "All related features are marked as \"(planned)\" but the documentation files exist. For example, subscription-creation.md, seat-management.md, agent-management.md, and invites-api.md all exist in the docs/features directory. This suggests outdated documentation or incorrect status labeling.",
      "suggested_fix": "Update Related Features to remove \"(planned)\" label and add proper cross-references to existing documentation files.",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Update Related Features to remove \"(planned)\" label and add proper cross-references to existing documentation files.",
          "recommended": true
        }
      ]
    },
    {
      "id": "F-742",
      "feature": "Billing API",
      "category": "API-billing-api",
      "title": "Loading States Marked as Frontend Responsibility with No Guidance",
      "severity": "low",
      "location": "Section 5 - Accessibility",
      "issue": "Accessibility section notes: \"Loading states: ‚ö†Ô∏è Frontend responsibility\" without providing any guidance on expected loading behavior. Each billing endpoint could take 2-5 seconds due to Stripe API calls. Without documented expected loading UX, different frontends may implement inconsistent or missing loading states.",
      "suggested_fix": "Add loading state recommendations: \"All billing endpoints should show loading spinners. Disable submit buttons during API calls. Show progress for multi-step operations.\"",
      "agent_options": [],
      "agent_recommendation": "",
      "status": "pending",
      "ticket_id": null,
      "options": [
        {
          "id": "implement_fix",
          "label": "Add loading state recommendations: \"All billing endpoints should show loading spinners. Disable submit buttons during API calls. Show progress for multi-step operations.\"",
          "recommended": true
        }
      ]
    }
  ]
}